var wg=Object.defineProperty;var yg=(t,e,n)=>e in t?wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ht=(t,e,n)=>yg(t,typeof e!="symbol"?e+"":e,n);function _g(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const de={},Ys=[],ci=()=>{},ud=()=>!1,Ia=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),wc=t=>t.startsWith("onUpdate:"),Ye=Object.assign,yc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Cg=Object.prototype.hasOwnProperty,oe=(t,e)=>Cg.call(t,e),Tt=Array.isArray,Ks=t=>fo(t)==="[object Map]",va=t=>fo(t)==="[object Set]",wu=t=>fo(t)==="[object Date]",kt=t=>typeof t=="function",Pe=t=>typeof t=="string",fi=t=>typeof t=="symbol",ue=t=>t!==null&&typeof t=="object",fd=t=>(ue(t)||kt(t))&&kt(t.then)&&kt(t.catch),hd=Object.prototype.toString,fo=t=>hd.call(t),Ag=t=>fo(t).slice(8,-1),dd=t=>fo(t)==="[object Object]",Sa=t=>Pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mr=bc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ta=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Eg=/-\w/g,Fn=Ta(t=>t.replace(Eg,e=>e.slice(1).toUpperCase())),Ig=/\B([A-Z])/g,Ss=Ta(t=>t.replace(Ig,"-$1").toLowerCase()),Oa=Ta(t=>t.charAt(0).toUpperCase()+t.slice(1)),pl=Ta(t=>t?`on${Oa(t)}`:""),Ki=(t,e)=>!Object.is(t,e),Yo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},gd=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ra=t=>{const e=parseFloat(t);return isNaN(e)?t:e},vg=t=>{const e=Pe(t)?Number(t):NaN;return isNaN(e)?t:e};let yu;const Na=()=>yu||(yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zs(t){if(Tt(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],o=Pe(s)?Rg(s):Zs(s);if(o)for(const l in o)e[l]=o[l]}return e}else if(Pe(t)||ue(t))return t}const Sg=/;(?![^(]*\))/g,Tg=/:([^]+)/,Og=/\/\*[^]*?\*\//g;function Rg(t){const e={};return t.replace(Og,"").split(Sg).forEach(n=>{if(n){const s=n.split(Tg);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Gn(t){let e="";if(Pe(t))e=t;else if(Tt(t))for(let n=0;n<t.length;n++){const s=Gn(t[n]);s&&(e+=s+" ")}else if(ue(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ng="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mg=bc(Ng);function pd(t){return!!t||t===""}function Dg(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ma(t[s],e[s]);return n}function Ma(t,e){if(t===e)return!0;let n=wu(t),s=wu(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=fi(t),s=fi(e),n||s)return t===e;if(n=Tt(t),s=Tt(e),n||s)return n&&s?Dg(t,e):!1;if(n=ue(t),s=ue(e),n||s){if(!n||!s)return!1;const o=Object.keys(t).length,l=Object.keys(e).length;if(o!==l)return!1;for(const f in t){const d=t.hasOwnProperty(f),p=e.hasOwnProperty(f);if(d&&!p||!d&&p||!Ma(t[f],e[f]))return!1}}return String(t)===String(e)}function Pg(t,e){return t.findIndex(n=>Ma(n,e))}const xd=t=>!!(t&&t.__v_isRef===!0),Bt=t=>Pe(t)?t:t==null?"":Tt(t)||ue(t)&&(t.toString===hd||!kt(t.toString))?xd(t)?Bt(t.value):JSON.stringify(t,md,2):String(t),md=(t,e)=>xd(e)?md(t,e.value):Ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,o],l)=>(n[xl(s,l)+" =>"]=o,n),{})}:va(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>xl(n))}:fi(e)?xl(e):ue(e)&&!Tt(e)&&!dd(e)?String(e):e,xl=(t,e="")=>{var n;return fi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nn;class bd{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nn,!e&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=nn;try{return nn=this,e()}finally{nn=n}}}on(){++this._on===1&&(this.prevScope=nn,nn=this)}off(){this._on>0&&--this._on===0&&(nn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function wd(t){return new bd(t)}function yd(){return nn}function kg(t,e=!1){nn&&nn.cleanups.push(t)}let xe;const ml=new WeakSet;class _d{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ml.has(this)&&(ml.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ad(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_u(this),Ed(this);const e=xe,n=jn;xe=this,jn=!0;try{return this.fn()}finally{Id(this),xe=e,jn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ac(e);this.deps=this.depsTail=void 0,_u(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ml.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vl(this)&&this.run()}get dirty(){return Vl(this)}}let Cd=0,Dr,Pr;function Ad(t,e=!1){if(t.flags|=8,e){t.next=Pr,Pr=t;return}t.next=Dr,Dr=t}function _c(){Cd++}function Cc(){if(--Cd>0)return;if(Pr){let e=Pr;for(Pr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Dr;){let e=Dr;for(Dr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Ed(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Id(t){let e,n=t.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Ac(s),Bg(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}t.deps=e,t.depsTail=n}function Vl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(vd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function vd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Zr)||(t.globalVersion=Zr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Vl(t))))return;t.flags|=2;const e=t.dep,n=xe,s=jn;xe=t,jn=!0;try{Ed(t);const o=t.fn(t._value);(e.version===0||Ki(o,t._value))&&(t.flags|=128,t._value=o,e.version++)}catch(o){throw e.version++,o}finally{xe=n,jn=s,Id(t),t.flags&=-3}}function Ac(t,e=!1){const{dep:n,prevSub:s,nextSub:o}=t;if(s&&(s.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)Ac(l,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Bg(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let jn=!0;const Sd=[];function Ii(){Sd.push(jn),jn=!1}function vi(){const t=Sd.pop();jn=t===void 0?!0:t}function _u(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=xe;xe=void 0;try{e()}finally{xe=n}}}let Zr=0;class Lg{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ec{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!xe||!jn||xe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xe)n=this.activeLink=new Lg(xe,this),xe.deps?(n.prevDep=xe.depsTail,xe.depsTail.nextDep=n,xe.depsTail=n):xe.deps=xe.depsTail=n,Td(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=xe.depsTail,n.nextDep=void 0,xe.depsTail.nextDep=n,xe.depsTail=n,xe.deps===n&&(xe.deps=s)}return n}trigger(e){this.version++,Zr++,this.notify(e)}notify(e){_c();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Cc()}}}function Td(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Td(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ia=new WeakMap,_s=Symbol(""),Wl=Symbol(""),qr=Symbol("");function sn(t,e,n){if(jn&&xe){let s=ia.get(t);s||ia.set(t,s=new Map);let o=s.get(n);o||(s.set(n,o=new Ec),o.map=s,o.key=n),o.track()}}function Ci(t,e,n,s,o,l){const f=ia.get(t);if(!f){Zr++;return}const d=p=>{p&&p.trigger()};if(_c(),e==="clear")f.forEach(d);else{const p=Tt(t),x=p&&Sa(n);if(p&&n==="length"){const b=Number(s);f.forEach((y,C)=>{(C==="length"||C===qr||!fi(C)&&C>=b)&&d(y)})}else switch((n!==void 0||f.has(void 0))&&d(f.get(n)),x&&d(f.get(qr)),e){case"add":p?x&&d(f.get("length")):(d(f.get(_s)),Ks(t)&&d(f.get(Wl)));break;case"delete":p||(d(f.get(_s)),Ks(t)&&d(f.get(Wl)));break;case"set":Ks(t)&&d(f.get(_s));break}}Cc()}function Fg(t,e){const n=ia.get(t);return n&&n.get(e)}function Us(t){const e=Xt(t);return e===t?e:(sn(e,"iterate",qr),Sn(t)?e:e.map(Yn))}function Da(t){return sn(t=Xt(t),"iterate",qr),t}function Vi(t,e){return Si(t)?Ei(t)?$s(Yn(e)):$s(e):Yn(e)}const Ug={__proto__:null,[Symbol.iterator](){return bl(this,Symbol.iterator,t=>Vi(this,t))},concat(...t){return Us(this).concat(...t.map(e=>Tt(e)?Us(e):e))},entries(){return bl(this,"entries",t=>(t[1]=Vi(this,t[1]),t))},every(t,e){return hi(this,"every",t,e,void 0,arguments)},filter(t,e){return hi(this,"filter",t,e,n=>n.map(s=>Vi(this,s)),arguments)},find(t,e){return hi(this,"find",t,e,n=>Vi(this,n),arguments)},findIndex(t,e){return hi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return hi(this,"findLast",t,e,n=>Vi(this,n),arguments)},findLastIndex(t,e){return hi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return hi(this,"forEach",t,e,void 0,arguments)},includes(...t){return wl(this,"includes",t)},indexOf(...t){return wl(this,"indexOf",t)},join(t){return Us(this).join(t)},lastIndexOf(...t){return wl(this,"lastIndexOf",t)},map(t,e){return hi(this,"map",t,e,void 0,arguments)},pop(){return mr(this,"pop")},push(...t){return mr(this,"push",t)},reduce(t,...e){return Cu(this,"reduce",t,e)},reduceRight(t,...e){return Cu(this,"reduceRight",t,e)},shift(){return mr(this,"shift")},some(t,e){return hi(this,"some",t,e,void 0,arguments)},splice(...t){return mr(this,"splice",t)},toReversed(){return Us(this).toReversed()},toSorted(t){return Us(this).toSorted(t)},toSpliced(...t){return Us(this).toSpliced(...t)},unshift(...t){return mr(this,"unshift",t)},values(){return bl(this,"values",t=>Vi(this,t))}};function bl(t,e,n){const s=Da(t),o=s[e]();return s!==t&&!Sn(t)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.done||(l.value=n(l.value)),l}),o}const Hg=Array.prototype;function hi(t,e,n,s,o,l){const f=Da(t),d=f!==t&&!Sn(t),p=f[e];if(p!==Hg[e]){const y=p.apply(t,l);return d?Yn(y):y}let x=n;f!==t&&(d?x=function(y,C){return n.call(this,Vi(t,y),C,t)}:n.length>2&&(x=function(y,C){return n.call(this,y,C,t)}));const b=p.call(f,x,s);return d&&o?o(b):b}function Cu(t,e,n,s){const o=Da(t);let l=n;return o!==t&&(Sn(t)?n.length>3&&(l=function(f,d,p){return n.call(this,f,d,p,t)}):l=function(f,d,p){return n.call(this,f,Vi(t,d),p,t)}),o[e](l,...s)}function wl(t,e,n){const s=Xt(t);sn(s,"iterate",qr);const o=s[e](...n);return(o===-1||o===!1)&&or(n[0])?(n[0]=Xt(n[0]),s[e](...n)):o}function mr(t,e,n=[]){Ii(),_c();const s=Xt(t)[e].apply(t,n);return Cc(),vi(),s}const Vg=bc("__proto__,__v_isRef,__isVue"),Od=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fi));function Wg(t){fi(t)||(t=String(t));const e=Xt(this);return sn(e,"has",t),e.hasOwnProperty(t)}class Rd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const o=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return l;if(n==="__v_raw")return s===(o?l?Jg:Pd:l?Dd:Md).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const f=Tt(e);if(!o){let p;if(f&&(p=Ug[n]))return p;if(n==="hasOwnProperty")return Wg}const d=Reflect.get(e,n,De(e)?e:s);if((fi(n)?Od.has(n):Vg(n))||(o||sn(e,"get",n),l))return d;if(De(d)){const p=f&&Sa(n)?d:d.value;return o&&ue(p)?zl(p):p}return ue(d)?o?zl(d):ho(d):d}}class Nd extends Rd{constructor(e=!1){super(!1,e)}set(e,n,s,o){let l=e[n];const f=Tt(e)&&Sa(n);if(!this._isShallow){const x=Si(l);if(!Sn(s)&&!Si(s)&&(l=Xt(l),s=Xt(s)),!f&&De(l)&&!De(s))return x||(l.value=s),!0}const d=f?Number(n)<e.length:oe(e,n),p=Reflect.set(e,n,s,De(e)?e:o);return e===Xt(o)&&(d?Ki(s,l)&&Ci(e,"set",n,s):Ci(e,"add",n,s)),p}deleteProperty(e,n){const s=oe(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&s&&Ci(e,"delete",n,void 0),o}has(e,n){const s=Reflect.has(e,n);return(!fi(n)||!Od.has(n))&&sn(e,"has",n),s}ownKeys(e){return sn(e,"iterate",Tt(e)?"length":_s),Reflect.ownKeys(e)}}class Gg extends Rd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const zg=new Nd,jg=new Gg,Xg=new Nd(!0);const Gl=t=>t,Oo=t=>Reflect.getPrototypeOf(t);function Yg(t,e,n){return function(...s){const o=this.__v_raw,l=Xt(o),f=Ks(l),d=t==="entries"||t===Symbol.iterator&&f,p=t==="keys"&&f,x=o[t](...s),b=n?Gl:e?$s:Yn;return!e&&sn(l,"iterate",p?Wl:_s),{next(){const{value:y,done:C}=x.next();return C?{value:y,done:C}:{value:d?[b(y[0]),b(y[1])]:b(y),done:C}},[Symbol.iterator](){return this}}}}function Ro(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Kg(t,e){const n={get(o){const l=this.__v_raw,f=Xt(l),d=Xt(o);t||(Ki(o,d)&&sn(f,"get",o),sn(f,"get",d));const{has:p}=Oo(f),x=e?Gl:t?$s:Yn;if(p.call(f,o))return x(l.get(o));if(p.call(f,d))return x(l.get(d));l!==f&&l.get(o)},get size(){const o=this.__v_raw;return!t&&sn(Xt(o),"iterate",_s),o.size},has(o){const l=this.__v_raw,f=Xt(l),d=Xt(o);return t||(Ki(o,d)&&sn(f,"has",o),sn(f,"has",d)),o===d?l.has(o):l.has(o)||l.has(d)},forEach(o,l){const f=this,d=f.__v_raw,p=Xt(d),x=e?Gl:t?$s:Yn;return!t&&sn(p,"iterate",_s),d.forEach((b,y)=>o.call(l,x(b),x(y),f))}};return Ye(n,t?{add:Ro("add"),set:Ro("set"),delete:Ro("delete"),clear:Ro("clear")}:{add(o){!e&&!Sn(o)&&!Si(o)&&(o=Xt(o));const l=Xt(this);return Oo(l).has.call(l,o)||(l.add(o),Ci(l,"add",o,o)),this},set(o,l){!e&&!Sn(l)&&!Si(l)&&(l=Xt(l));const f=Xt(this),{has:d,get:p}=Oo(f);let x=d.call(f,o);x||(o=Xt(o),x=d.call(f,o));const b=p.call(f,o);return f.set(o,l),x?Ki(l,b)&&Ci(f,"set",o,l):Ci(f,"add",o,l),this},delete(o){const l=Xt(this),{has:f,get:d}=Oo(l);let p=f.call(l,o);p||(o=Xt(o),p=f.call(l,o)),d&&d.call(l,o);const x=l.delete(o);return p&&Ci(l,"delete",o,void 0),x},clear(){const o=Xt(this),l=o.size!==0,f=o.clear();return l&&Ci(o,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Yg(o,t,e)}),n}function Ic(t,e){const n=Kg(t,e);return(s,o,l)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?s:Reflect.get(oe(n,o)&&o in s?n:s,o,l)}const Zg={get:Ic(!1,!1)},qg={get:Ic(!1,!0)},Qg={get:Ic(!0,!1)};const Md=new WeakMap,Dd=new WeakMap,Pd=new WeakMap,Jg=new WeakMap;function $g(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tp(t){return t.__v_skip||!Object.isExtensible(t)?0:$g(Ag(t))}function ho(t){return Si(t)?t:vc(t,!1,zg,Zg,Md)}function kd(t){return vc(t,!1,Xg,qg,Dd)}function zl(t){return vc(t,!0,jg,Qg,Pd)}function vc(t,e,n,s,o){if(!ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const l=tp(t);if(l===0)return t;const f=o.get(t);if(f)return f;const d=new Proxy(t,l===2?s:n);return o.set(t,d),d}function Ei(t){return Si(t)?Ei(t.__v_raw):!!(t&&t.__v_isReactive)}function Si(t){return!!(t&&t.__v_isReadonly)}function Sn(t){return!!(t&&t.__v_isShallow)}function or(t){return t?!!t.__v_raw:!1}function Xt(t){const e=t&&t.__v_raw;return e?Xt(e):t}function Sc(t){return!oe(t,"__v_skip")&&Object.isExtensible(t)&&gd(t,"__v_skip",!0),t}const Yn=t=>ue(t)?ho(t):t,$s=t=>ue(t)?zl(t):t;function De(t){return t?t.__v_isRef===!0:!1}function Me(t){return Bd(t,!1)}function Tc(t){return Bd(t,!0)}function Bd(t,e){return De(t)?t:new ep(t,e)}class ep{constructor(e,n){this.dep=new Ec,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Xt(e),this._value=n?e:Yn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Sn(e)||Si(e);e=s?e:Xt(e),Ki(e,n)&&(this._rawValue=e,this._value=s?e:Yn(e),this.dep.trigger())}}function me(t){return De(t)?t.value:t}const np={get:(t,e,n)=>e==="__v_raw"?t:me(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const o=t[e];return De(o)&&!De(n)?(o.value=n,!0):Reflect.set(t,e,n,s)}};function Ld(t){return Ei(t)?t:new Proxy(t,np)}function ip(t){const e=Tt(t)?new Array(t.length):{};for(const n in t)e[n]=rp(t,n);return e}class sp{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=Xt(e);let o=!0,l=e;if(!Tt(e)||!Sa(String(n)))do o=!or(l)||Sn(l);while(o&&(l=l.__v_raw));this._shallow=o}get value(){let e=this._object[this._key];return this._shallow&&(e=me(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&De(this._raw[this._key])){const n=this._object[this._key];if(De(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Fg(this._raw,this._key)}}function rp(t,e,n){return new sp(t,e,n)}class op{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ec(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return Ad(this,!0),!0}get value(){const e=this.dep.track();return vd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ap(t,e,n=!1){let s,o;return kt(t)?s=t:(s=t.get,o=t.set),new op(s,o,n)}const No={},sa=new WeakMap;let hs;function lp(t,e=!1,n=hs){if(n){let s=sa.get(n);s||sa.set(n,s=[]),s.push(t)}}function cp(t,e,n=de){const{immediate:s,deep:o,once:l,scheduler:f,augmentJob:d,call:p}=n,x=G=>o?G:Sn(G)||o===!1||o===0?Ai(G,1):Ai(G);let b,y,C,A,S=!1,O=!1;if(De(t)?(y=()=>t.value,S=Sn(t)):Ei(t)?(y=()=>x(t),S=!0):Tt(t)?(O=!0,S=t.some(G=>Ei(G)||Sn(G)),y=()=>t.map(G=>{if(De(G))return G.value;if(Ei(G))return x(G);if(kt(G))return p?p(G,2):G()})):kt(t)?e?y=p?()=>p(t,2):t:y=()=>{if(C){Ii();try{C()}finally{vi()}}const G=hs;hs=b;try{return p?p(t,3,[A]):t(A)}finally{hs=G}}:y=ci,e&&o){const G=y,j=o===!0?1/0:o;y=()=>Ai(G(),j)}const D=yd(),U=()=>{b.stop(),D&&D.active&&yc(D.effects,b)};if(l&&e){const G=e;e=(...j)=>{G(...j),U()}}let V=O?new Array(t.length).fill(No):No;const k=G=>{if(!(!(b.flags&1)||!b.dirty&&!G))if(e){const j=b.run();if(o||S||(O?j.some((tt,H)=>Ki(tt,V[H])):Ki(j,V))){C&&C();const tt=hs;hs=b;try{const H=[j,V===No?void 0:O&&V[0]===No?[]:V,A];V=j,p?p(e,3,H):e(...H)}finally{hs=tt}}}else b.run()};return d&&d(k),b=new _d(y),b.scheduler=f?()=>f(k,!1):k,A=G=>lp(G,!1,b),C=b.onStop=()=>{const G=sa.get(b);if(G){if(p)p(G,4);else for(const j of G)j();sa.delete(b)}},e?s?k(!0):V=b.run():f?f(k.bind(null,!0),!0):b.run(),U.pause=b.pause.bind(b),U.resume=b.resume.bind(b),U.stop=U,U}function Ai(t,e=1/0,n){if(e<=0||!ue(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,De(t))Ai(t.value,e,n);else if(Tt(t))for(let s=0;s<t.length;s++)Ai(t[s],e,n);else if(va(t)||Ks(t))t.forEach(s=>{Ai(s,e,n)});else if(dd(t)){for(const s in t)Ai(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ai(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function go(t,e,n,s){try{return s?t(...s):t()}catch(o){Pa(o,e,n)}}function Kn(t,e,n,s){if(kt(t)){const o=go(t,e,n,s);return o&&fd(o)&&o.catch(l=>{Pa(l,e,n)}),o}if(Tt(t)){const o=[];for(let l=0;l<t.length;l++)o.push(Kn(t[l],e,n,s));return o}}function Pa(t,e,n,s=!0){const o=e?e.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:f}=e&&e.appContext.config||de;if(e){let d=e.parent;const p=e.proxy,x=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const b=d.ec;if(b){for(let y=0;y<b.length;y++)if(b[y](t,p,x)===!1)return}d=d.parent}if(l){Ii(),go(l,null,10,[t,p,x]),vi();return}}up(t,n,o,s,f)}function up(t,e,n,s=!0,o=!1){if(o)throw t;console.error(t)}const dn=[];let ri=-1;const qs=[];let Wi=null,zs=0;const Fd=Promise.resolve();let ra=null;function po(t){const e=ra||Fd;return t?e.then(this?t.bind(this):t):e}function fp(t){let e=ri+1,n=dn.length;for(;e<n;){const s=e+n>>>1,o=dn[s],l=Qr(o);l<t||l===t&&o.flags&2?e=s+1:n=s}return e}function Oc(t){if(!(t.flags&1)){const e=Qr(t),n=dn[dn.length-1];!n||!(t.flags&2)&&e>=Qr(n)?dn.push(t):dn.splice(fp(e),0,t),t.flags|=1,Ud()}}function Ud(){ra||(ra=Fd.then(Vd))}function hp(t){Tt(t)?qs.push(...t):Wi&&t.id===-1?Wi.splice(zs+1,0,t):t.flags&1||(qs.push(t),t.flags|=1),Ud()}function Au(t,e,n=ri+1){for(;n<dn.length;n++){const s=dn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;dn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Hd(t){if(qs.length){const e=[...new Set(qs)].sort((n,s)=>Qr(n)-Qr(s));if(qs.length=0,Wi){Wi.push(...e);return}for(Wi=e,zs=0;zs<Wi.length;zs++){const n=Wi[zs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wi=null,zs=0}}const Qr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Vd(t){try{for(ri=0;ri<dn.length;ri++){const e=dn[ri];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),go(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ri<dn.length;ri++){const e=dn[ri];e&&(e.flags&=-2)}ri=-1,dn.length=0,Hd(),ra=null,(dn.length||qs.length)&&Vd()}}let In=null,Wd=null;function oa(t){const e=In;return In=t,Wd=t&&t.type.__scopeId||null,e}function jl(t,e=In,n){if(!e||t._n)return t;const s=(...o)=>{s._d&&ca(-1);const l=oa(e);let f;try{f=t(...o)}finally{oa(l),s._d&&ca(1)}return f};return s._n=!0,s._c=!0,s._d=!0,s}function oi(t,e){if(In===null)return t;const n=Va(In),s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,f,d,p=de]=e[o];l&&(kt(l)&&(l={mounted:l,updated:l}),l.deep&&Ai(f),s.push({dir:l,instance:n,value:f,oldValue:void 0,arg:d,modifiers:p}))}return t}function rs(t,e,n,s){const o=t.dirs,l=e&&e.dirs;for(let f=0;f<o.length;f++){const d=o[f];l&&(d.oldValue=l[f].value);let p=d.dir[s];p&&(Ii(),Kn(p,n,8,[t.el,d,t,e]),vi())}}const dp=Symbol("_vte"),Gd=t=>t.__isTeleport,yi=Symbol("_leaveCb"),Mo=Symbol("_enterCb");function gp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xo(()=>{t.isMounted=!0}),Qd(()=>{t.isUnmounting=!0}),t}const Dn=[Function,Array],zd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dn,onEnter:Dn,onAfterEnter:Dn,onEnterCancelled:Dn,onBeforeLeave:Dn,onLeave:Dn,onAfterLeave:Dn,onLeaveCancelled:Dn,onBeforeAppear:Dn,onAppear:Dn,onAfterAppear:Dn,onAppearCancelled:Dn},jd=t=>{const e=t.subTree;return e.component?jd(e.component):e},pp={name:"BaseTransition",props:zd,setup(t,{slots:e}){const n=Pc(),s=gp();return()=>{const o=e.default&&Kd(e.default(),!0);if(!o||!o.length)return;const l=Xd(o),f=Xt(t),{mode:d}=f;if(s.isLeaving)return yl(l);const p=Eu(l);if(!p)return yl(l);let x=Xl(p,f,s,n,y=>x=y);p.type!==gn&&Jr(p,x);let b=n.subTree&&Eu(n.subTree);if(b&&b.type!==gn&&!ps(b,p)&&jd(n).type!==gn){let y=Xl(b,f,s,n);if(Jr(b,y),d==="out-in"&&p.type!==gn)return s.isLeaving=!0,y.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete y.afterLeave,b=void 0},yl(l);d==="in-out"&&p.type!==gn?y.delayLeave=(C,A,S)=>{const O=Yd(s,b);O[String(b.key)]=b,C[yi]=()=>{A(),C[yi]=void 0,delete x.delayedLeave,b=void 0},x.delayedLeave=()=>{S(),delete x.delayedLeave,b=void 0}}:b=void 0}else b&&(b=void 0);return l}}};function Xd(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==gn){e=n;break}}return e}const xp=pp;function Yd(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Xl(t,e,n,s,o){const{appear:l,mode:f,persisted:d=!1,onBeforeEnter:p,onEnter:x,onAfterEnter:b,onEnterCancelled:y,onBeforeLeave:C,onLeave:A,onAfterLeave:S,onLeaveCancelled:O,onBeforeAppear:D,onAppear:U,onAfterAppear:V,onAppearCancelled:k}=e,G=String(t.key),j=Yd(n,t),tt=(F,pt)=>{F&&Kn(F,s,9,pt)},H=(F,pt)=>{const ht=pt[1];tt(F,pt),Tt(F)?F.every(Z=>Z.length<=1)&&ht():F.length<=1&&ht()},J={mode:f,persisted:d,beforeEnter(F){let pt=p;if(!n.isMounted)if(l)pt=D||p;else return;F[yi]&&F[yi](!0);const ht=j[G];ht&&ps(t,ht)&&ht.el[yi]&&ht.el[yi](),tt(pt,[F])},enter(F){let pt=x,ht=b,Z=y;if(!n.isMounted)if(l)pt=U||x,ht=V||b,Z=k||y;else return;let xt=!1;const Rt=F[Mo]=X=>{xt||(xt=!0,X?tt(Z,[F]):tt(ht,[F]),J.delayedLeave&&J.delayedLeave(),F[Mo]=void 0)};pt?H(pt,[F,Rt]):Rt()},leave(F,pt){const ht=String(t.key);if(F[Mo]&&F[Mo](!0),n.isUnmounting)return pt();tt(C,[F]);let Z=!1;const xt=F[yi]=Rt=>{Z||(Z=!0,pt(),Rt?tt(O,[F]):tt(S,[F]),F[yi]=void 0,j[ht]===t&&delete j[ht])};j[ht]=t,A?H(A,[F,xt]):xt()},clone(F){const pt=Xl(F,e,n,s,o);return o&&o(pt),pt}};return J}function yl(t){if(Ba(t))return t=Qi(t),t.children=null,t}function Eu(t){if(!Ba(t))return Gd(t.type)&&t.children?Xd(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&kt(n.default))return n.default()}}function Jr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Jr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Kd(t,e=!1,n){let s=[],o=0;for(let l=0;l<t.length;l++){let f=t[l];const d=n==null?f.key:String(n)+String(f.key!=null?f.key:l);f.type===kn?(f.patchFlag&128&&o++,s=s.concat(Kd(f.children,e,d))):(e||f.type!==gn)&&s.push(d!=null?Qi(f,{key:d}):f)}if(o>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}function ka(t,e){return kt(t)?Ye({name:t.name},e,{setup:t}):t}function Zd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const aa=new WeakMap;function kr(t,e,n,s,o=!1){if(Tt(t)){t.forEach((S,O)=>kr(S,e&&(Tt(e)?e[O]:e),n,s,o));return}if(Br(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&kr(t,e,n,s.component.subTree);return}const l=s.shapeFlag&4?Va(s.component):s.el,f=o?null:l,{i:d,r:p}=t,x=e&&e.r,b=d.refs===de?d.refs={}:d.refs,y=d.setupState,C=Xt(y),A=y===de?ud:S=>oe(C,S);if(x!=null&&x!==p){if(Iu(e),Pe(x))b[x]=null,A(x)&&(y[x]=null);else if(De(x)){x.value=null;const S=e;S.k&&(b[S.k]=null)}}if(kt(p))go(p,d,12,[f,b]);else{const S=Pe(p),O=De(p);if(S||O){const D=()=>{if(t.f){const U=S?A(p)?y[p]:b[p]:p.value;if(o)Tt(U)&&yc(U,l);else if(Tt(U))U.includes(l)||U.push(l);else if(S)b[p]=[l],A(p)&&(y[p]=b[p]);else{const V=[l];p.value=V,t.k&&(b[t.k]=V)}}else S?(b[p]=f,A(p)&&(y[p]=f)):O&&(p.value=f,t.k&&(b[t.k]=f))};if(f){const U=()=>{D(),aa.delete(t)};U.id=-1,aa.set(t,U),An(U,n)}else Iu(t),D()}}}function Iu(t){const e=aa.get(t);e&&(e.flags|=8,aa.delete(t))}Na().requestIdleCallback;Na().cancelIdleCallback;const Br=t=>!!t.type.__asyncLoader,Ba=t=>t.type.__isKeepAlive;function mp(t,e){qd(t,"a",e)}function bp(t,e){qd(t,"da",e)}function qd(t,e,n=rn){const s=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(La(e,s,n),n){let o=n.parent;for(;o&&o.parent;)Ba(o.parent.vnode)&&wp(s,e,n,o),o=o.parent}}function wp(t,e,n,s){const o=La(e,t,s,!0);Fa(()=>{yc(s[e],o)},n)}function La(t,e,n=rn,s=!1){if(n){const o=n[t]||(n[t]=[]),l=e.__weh||(e.__weh=(...f)=>{Ii();const d=mo(n),p=Kn(e,n,t,f);return d(),vi(),p});return s?o.unshift(l):o.push(l),l}}const Ti=t=>(e,n=rn)=>{(!to||t==="sp")&&La(t,(...s)=>e(...s),n)},yp=Ti("bm"),xo=Ti("m"),_p=Ti("bu"),Cp=Ti("u"),Qd=Ti("bum"),Fa=Ti("um"),Ap=Ti("sp"),Ep=Ti("rtg"),Ip=Ti("rtc");function vp(t,e=rn){La("ec",t,e)}const Jd="components";function Sp(t,e){return t0(Jd,t,!0,e)||t}const $d=Symbol.for("v-ndc");function Tp(t){return Pe(t)?t0(Jd,t,!1)||t:t||$d}function t0(t,e,n=!0,s=!1){const o=In||rn;if(o){const l=o.type;{const d=mx(l,!1);if(d&&(d===e||d===Fn(e)||d===Oa(Fn(e))))return l}const f=vu(o[t]||l[t],e)||vu(o.appContext[t],e);return!f&&s?l:f}}function vu(t,e){return t&&(t[e]||t[Fn(e)]||t[Oa(Fn(e))])}function e0(t,e,n,s){let o;const l=n,f=Tt(t);if(f||Pe(t)){const d=f&&Ei(t);let p=!1,x=!1;d&&(p=!Sn(t),x=Si(t),t=Da(t)),o=new Array(t.length);for(let b=0,y=t.length;b<y;b++)o[b]=e(p?x?$s(Yn(t[b])):Yn(t[b]):t[b],b,void 0,l)}else if(typeof t=="number"){o=new Array(t);for(let d=0;d<t;d++)o[d]=e(d+1,d,void 0,l)}else if(ue(t))if(t[Symbol.iterator])o=Array.from(t,(d,p)=>e(d,p,void 0,l));else{const d=Object.keys(t);o=new Array(d.length);for(let p=0,x=d.length;p<x;p++){const b=d[p];o[p]=e(t[b],b,p,l)}}else o=[];return o}const Yl=t=>t?_0(t)?Va(t):Yl(t.parent):null,Lr=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yl(t.parent),$root:t=>Yl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>i0(t),$forceUpdate:t=>t.f||(t.f=()=>{Oc(t.update)}),$nextTick:t=>t.n||(t.n=po.bind(t.proxy)),$watch:t=>Hp.bind(t)}),_l=(t,e)=>t!==de&&!t.__isScriptSetup&&oe(t,e),Op={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:l,accessCache:f,type:d,appContext:p}=t;if(e[0]!=="$"){const C=f[e];if(C!==void 0)switch(C){case 1:return s[e];case 2:return o[e];case 4:return n[e];case 3:return l[e]}else{if(_l(s,e))return f[e]=1,s[e];if(o!==de&&oe(o,e))return f[e]=2,o[e];if(oe(l,e))return f[e]=3,l[e];if(n!==de&&oe(n,e))return f[e]=4,n[e];Kl&&(f[e]=0)}}const x=Lr[e];let b,y;if(x)return e==="$attrs"&&sn(t.attrs,"get",""),x(t);if((b=d.__cssModules)&&(b=b[e]))return b;if(n!==de&&oe(n,e))return f[e]=4,n[e];if(y=p.config.globalProperties,oe(y,e))return y[e]},set({_:t},e,n){const{data:s,setupState:o,ctx:l}=t;return _l(o,e)?(o[e]=n,!0):s!==de&&oe(s,e)?(s[e]=n,!0):oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(l[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:o,props:l,type:f}},d){let p;return!!(n[d]||t!==de&&d[0]!=="$"&&oe(t,d)||_l(e,d)||oe(l,d)||oe(s,d)||oe(Lr,d)||oe(o.config.globalProperties,d)||(p=f.__cssModules)&&p[d])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Su(t){return Tt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Kl=!0;function Rp(t){const e=i0(t),n=t.proxy,s=t.ctx;Kl=!1,e.beforeCreate&&Tu(e.beforeCreate,t,"bc");const{data:o,computed:l,methods:f,watch:d,provide:p,inject:x,created:b,beforeMount:y,mounted:C,beforeUpdate:A,updated:S,activated:O,deactivated:D,beforeDestroy:U,beforeUnmount:V,destroyed:k,unmounted:G,render:j,renderTracked:tt,renderTriggered:H,errorCaptured:J,serverPrefetch:F,expose:pt,inheritAttrs:ht,components:Z,directives:xt,filters:Rt}=e;if(x&&Np(x,s,null),f)for(const lt in f){const Ft=f[lt];kt(Ft)&&(s[lt]=Ft.bind(n))}if(o){const lt=o.call(n,n);ue(lt)&&(t.data=ho(lt))}if(Kl=!0,l)for(const lt in l){const Ft=l[lt],ve=kt(Ft)?Ft.bind(n,n):kt(Ft.get)?Ft.get.bind(n,n):ci,Ee=!kt(Ft)&&kt(Ft.set)?Ft.set.bind(n):ci,We=Ae({get:ve,set:Ee});Object.defineProperty(s,lt,{enumerable:!0,configurable:!0,get:()=>We.value,set:zt=>We.value=zt})}if(d)for(const lt in d)n0(d[lt],s,n,lt);if(p){const lt=kt(p)?p.call(n):p;Reflect.ownKeys(lt).forEach(Ft=>{Ko(Ft,lt[Ft])})}b&&Tu(b,t,"c");function Ct(lt,Ft){Tt(Ft)?Ft.forEach(ve=>lt(ve.bind(n))):Ft&&lt(Ft.bind(n))}if(Ct(yp,y),Ct(xo,C),Ct(_p,A),Ct(Cp,S),Ct(mp,O),Ct(bp,D),Ct(vp,J),Ct(Ip,tt),Ct(Ep,H),Ct(Qd,V),Ct(Fa,G),Ct(Ap,F),Tt(pt))if(pt.length){const lt=t.exposed||(t.exposed={});pt.forEach(Ft=>{Object.defineProperty(lt,Ft,{get:()=>n[Ft],set:ve=>n[Ft]=ve,enumerable:!0})})}else t.exposed||(t.exposed={});j&&t.render===ci&&(t.render=j),ht!=null&&(t.inheritAttrs=ht),Z&&(t.components=Z),xt&&(t.directives=xt),F&&Zd(t)}function Np(t,e,n=ci){Tt(t)&&(t=Zl(t));for(const s in t){const o=t[s];let l;ue(o)?"default"in o?l=Xn(o.from||s,o.default,!0):l=Xn(o.from||s):l=Xn(o),De(l)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:f=>l.value=f}):e[s]=l}}function Tu(t,e,n){Kn(Tt(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function n0(t,e,n,s){let o=s.includes(".")?o0(n,s):()=>n[s];if(Pe(t)){const l=e[t];kt(l)&&As(o,l)}else if(kt(t))As(o,t.bind(n));else if(ue(t))if(Tt(t))t.forEach(l=>n0(l,e,n,s));else{const l=kt(t.handler)?t.handler.bind(n):e[t.handler];kt(l)&&As(o,l,t)}}function i0(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:o,optionsCache:l,config:{optionMergeStrategies:f}}=t.appContext,d=l.get(e);let p;return d?p=d:!o.length&&!n&&!s?p=e:(p={},o.length&&o.forEach(x=>la(p,x,f,!0)),la(p,e,f)),ue(e)&&l.set(e,p),p}function la(t,e,n,s=!1){const{mixins:o,extends:l}=e;l&&la(t,l,n,!0),o&&o.forEach(f=>la(t,f,n,!0));for(const f in e)if(!(s&&f==="expose")){const d=Mp[f]||n&&n[f];t[f]=d?d(t[f],e[f]):e[f]}return t}const Mp={data:Ou,props:Ru,emits:Ru,methods:vr,computed:vr,beforeCreate:un,created:un,beforeMount:un,mounted:un,beforeUpdate:un,updated:un,beforeDestroy:un,beforeUnmount:un,destroyed:un,unmounted:un,activated:un,deactivated:un,errorCaptured:un,serverPrefetch:un,components:vr,directives:vr,watch:Pp,provide:Ou,inject:Dp};function Ou(t,e){return e?t?function(){return Ye(kt(t)?t.call(this,this):t,kt(e)?e.call(this,this):e)}:e:t}function Dp(t,e){return vr(Zl(t),Zl(e))}function Zl(t){if(Tt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function un(t,e){return t?[...new Set([].concat(t,e))]:e}function vr(t,e){return t?Ye(Object.create(null),t,e):e}function Ru(t,e){return t?Tt(t)&&Tt(e)?[...new Set([...t,...e])]:Ye(Object.create(null),Su(t),Su(e??{})):e}function Pp(t,e){if(!t)return e;if(!e)return t;const n=Ye(Object.create(null),t);for(const s in e)n[s]=un(t[s],e[s]);return n}function s0(){return{app:null,config:{isNativeTag:ud,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kp=0;function Bp(t,e){return function(s,o=null){kt(s)||(s=Ye({},s)),o!=null&&!ue(o)&&(o=null);const l=s0(),f=new WeakSet,d=[];let p=!1;const x=l.app={_uid:kp++,_component:s,_props:o,_container:null,_context:l,_instance:null,version:A0,get config(){return l.config},set config(b){},use(b,...y){return f.has(b)||(b&&kt(b.install)?(f.add(b),b.install(x,...y)):kt(b)&&(f.add(b),b(x,...y))),x},mixin(b){return l.mixins.includes(b)||l.mixins.push(b),x},component(b,y){return y?(l.components[b]=y,x):l.components[b]},directive(b,y){return y?(l.directives[b]=y,x):l.directives[b]},mount(b,y,C){if(!p){const A=x._ceVNode||Fe(s,o);return A.appContext=l,C===!0?C="svg":C===!1&&(C=void 0),t(A,b,C),p=!0,x._container=b,b.__vue_app__=x,Va(A.component)}},onUnmount(b){d.push(b)},unmount(){p&&(Kn(d,x._instance,16),t(null,x._container),delete x._container.__vue_app__)},provide(b,y){return l.provides[b]=y,x},runWithContext(b){const y=Cs;Cs=x;try{return b()}finally{Cs=y}}};return x}}let Cs=null;function Ko(t,e){if(rn){let n=rn.provides;const s=rn.parent&&rn.parent.provides;s===n&&(n=rn.provides=Object.create(s)),n[t]=e}}function Xn(t,e,n=!1){const s=Pc();if(s||Cs){let o=Cs?Cs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return n&&kt(e)?e.call(s&&s.proxy):e}}function Lp(){return!!(Pc()||Cs)}const Fp=Symbol.for("v-scx"),Up=()=>Xn(Fp);function As(t,e,n){return r0(t,e,n)}function r0(t,e,n=de){const{immediate:s,deep:o,flush:l,once:f}=n,d=Ye({},n),p=e&&s||!e&&l!=="post";let x;if(to){if(l==="sync"){const A=Up();x=A.__watcherHandles||(A.__watcherHandles=[])}else if(!p){const A=()=>{};return A.stop=ci,A.resume=ci,A.pause=ci,A}}const b=rn;d.call=(A,S,O)=>Kn(A,b,S,O);let y=!1;l==="post"?d.scheduler=A=>{An(A,b&&b.suspense)}:l!=="sync"&&(y=!0,d.scheduler=(A,S)=>{S?A():Oc(A)}),d.augmentJob=A=>{e&&(A.flags|=4),y&&(A.flags|=2,b&&(A.id=b.uid,A.i=b))};const C=cp(t,e,d);return to&&(x?x.push(C):p&&C()),C}function Hp(t,e,n){const s=this.proxy,o=Pe(t)?t.includes(".")?o0(s,t):()=>s[t]:t.bind(s,s);let l;kt(e)?l=e:(l=e.handler,n=e);const f=mo(this),d=r0(o,l.bind(s),n);return f(),d}function o0(t,e){const n=e.split(".");return()=>{let s=t;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Vp=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Fn(e)}Modifiers`]||t[`${Ss(e)}Modifiers`];function Wp(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||de;let o=n;const l=e.startsWith("update:"),f=l&&Vp(s,e.slice(7));f&&(f.trim&&(o=n.map(b=>Pe(b)?b.trim():b)),f.number&&(o=n.map(Ra)));let d,p=s[d=pl(e)]||s[d=pl(Fn(e))];!p&&l&&(p=s[d=pl(Ss(e))]),p&&Kn(p,t,6,o);const x=s[d+"Once"];if(x){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,Kn(x,t,6,o)}}const Gp=new WeakMap;function a0(t,e,n=!1){const s=n?Gp:e.emitsCache,o=s.get(t);if(o!==void 0)return o;const l=t.emits;let f={},d=!1;if(!kt(t)){const p=x=>{const b=a0(x,e,!0);b&&(d=!0,Ye(f,b))};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!l&&!d?(ue(t)&&s.set(t,null),null):(Tt(l)?l.forEach(p=>f[p]=null):Ye(f,l),ue(t)&&s.set(t,f),f)}function Ua(t,e){return!t||!Ia(e)?!1:(e=e.slice(2).replace(/Once$/,""),oe(t,e[0].toLowerCase()+e.slice(1))||oe(t,Ss(e))||oe(t,e))}function Nu(t){const{type:e,vnode:n,proxy:s,withProxy:o,propsOptions:[l],slots:f,attrs:d,emit:p,render:x,renderCache:b,props:y,data:C,setupState:A,ctx:S,inheritAttrs:O}=t,D=oa(t);let U,V;try{if(n.shapeFlag&4){const G=o||s,j=G;U=li(x.call(j,G,b,y,A,C,S)),V=d}else{const G=e;U=li(G.length>1?G(y,{attrs:d,slots:f,emit:p}):G(y,null)),V=e.props?d:zp(d)}}catch(G){Fr.length=0,Pa(G,t,1),U=Fe(gn)}let k=U;if(V&&O!==!1){const G=Object.keys(V),{shapeFlag:j}=k;G.length&&j&7&&(l&&G.some(wc)&&(V=jp(V,l)),k=Qi(k,V,!1,!0))}return n.dirs&&(k=Qi(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&Jr(k,n.transition),U=k,oa(D),U}const zp=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ia(n))&&((e||(e={}))[n]=t[n]);return e},jp=(t,e)=>{const n={};for(const s in t)(!wc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Xp(t,e,n){const{props:s,children:o,component:l}=t,{props:f,children:d,patchFlag:p}=e,x=l.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return s?Mu(s,f,x):!!f;if(p&8){const b=e.dynamicProps;for(let y=0;y<b.length;y++){const C=b[y];if(f[C]!==s[C]&&!Ua(x,C))return!0}}}else return(o||d)&&(!d||!d.$stable)?!0:s===f?!1:s?f?Mu(s,f,x):!0:!!f;return!1}function Mu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let o=0;o<s.length;o++){const l=s[o];if(e[l]!==t[l]&&!Ua(n,l))return!0}return!1}function Yp({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const l0={},c0=()=>Object.create(l0),u0=t=>Object.getPrototypeOf(t)===l0;function Kp(t,e,n,s=!1){const o={},l=c0();t.propsDefaults=Object.create(null),f0(t,e,o,l);for(const f in t.propsOptions[0])f in o||(o[f]=void 0);n?t.props=s?o:kd(o):t.type.props?t.props=o:t.props=l,t.attrs=l}function Zp(t,e,n,s){const{props:o,attrs:l,vnode:{patchFlag:f}}=t,d=Xt(o),[p]=t.propsOptions;let x=!1;if((s||f>0)&&!(f&16)){if(f&8){const b=t.vnode.dynamicProps;for(let y=0;y<b.length;y++){let C=b[y];if(Ua(t.emitsOptions,C))continue;const A=e[C];if(p)if(oe(l,C))A!==l[C]&&(l[C]=A,x=!0);else{const S=Fn(C);o[S]=ql(p,d,S,A,t,!1)}else A!==l[C]&&(l[C]=A,x=!0)}}}else{f0(t,e,o,l)&&(x=!0);let b;for(const y in d)(!e||!oe(e,y)&&((b=Ss(y))===y||!oe(e,b)))&&(p?n&&(n[y]!==void 0||n[b]!==void 0)&&(o[y]=ql(p,d,y,void 0,t,!0)):delete o[y]);if(l!==d)for(const y in l)(!e||!oe(e,y))&&(delete l[y],x=!0)}x&&Ci(t.attrs,"set","")}function f0(t,e,n,s){const[o,l]=t.propsOptions;let f=!1,d;if(e)for(let p in e){if(Mr(p))continue;const x=e[p];let b;o&&oe(o,b=Fn(p))?!l||!l.includes(b)?n[b]=x:(d||(d={}))[b]=x:Ua(t.emitsOptions,p)||(!(p in s)||x!==s[p])&&(s[p]=x,f=!0)}if(l){const p=Xt(n),x=d||de;for(let b=0;b<l.length;b++){const y=l[b];n[y]=ql(o,p,y,x[y],t,!oe(x,y))}}return f}function ql(t,e,n,s,o,l){const f=t[n];if(f!=null){const d=oe(f,"default");if(d&&s===void 0){const p=f.default;if(f.type!==Function&&!f.skipFactory&&kt(p)){const{propsDefaults:x}=o;if(n in x)s=x[n];else{const b=mo(o);s=x[n]=p.call(null,e),b()}}else s=p;o.ce&&o.ce._setProp(n,s)}f[0]&&(l&&!d?s=!1:f[1]&&(s===""||s===Ss(n))&&(s=!0))}return s}const qp=new WeakMap;function h0(t,e,n=!1){const s=n?qp:e.propsCache,o=s.get(t);if(o)return o;const l=t.props,f={},d=[];let p=!1;if(!kt(t)){const b=y=>{p=!0;const[C,A]=h0(y,e,!0);Ye(f,C),A&&d.push(...A)};!n&&e.mixins.length&&e.mixins.forEach(b),t.extends&&b(t.extends),t.mixins&&t.mixins.forEach(b)}if(!l&&!p)return ue(t)&&s.set(t,Ys),Ys;if(Tt(l))for(let b=0;b<l.length;b++){const y=Fn(l[b]);Du(y)&&(f[y]=de)}else if(l)for(const b in l){const y=Fn(b);if(Du(y)){const C=l[b],A=f[y]=Tt(C)||kt(C)?{type:C}:Ye({},C),S=A.type;let O=!1,D=!0;if(Tt(S))for(let U=0;U<S.length;++U){const V=S[U],k=kt(V)&&V.name;if(k==="Boolean"){O=!0;break}else k==="String"&&(D=!1)}else O=kt(S)&&S.name==="Boolean";A[0]=O,A[1]=D,(O||oe(A,"default"))&&d.push(y)}}const x=[f,d];return ue(t)&&s.set(t,x),x}function Du(t){return t[0]!=="$"&&!Mr(t)}const Rc=t=>t==="_"||t==="_ctx"||t==="$stable",Nc=t=>Tt(t)?t.map(li):[li(t)],Qp=(t,e,n)=>{if(e._n)return e;const s=jl((...o)=>Nc(e(...o)),n);return s._c=!1,s},d0=(t,e,n)=>{const s=t._ctx;for(const o in t){if(Rc(o))continue;const l=t[o];if(kt(l))e[o]=Qp(o,l,s);else if(l!=null){const f=Nc(l);e[o]=()=>f}}},g0=(t,e)=>{const n=Nc(e);t.slots.default=()=>n},p0=(t,e,n)=>{for(const s in e)(n||!Rc(s))&&(t[s]=e[s])},Jp=(t,e,n)=>{const s=t.slots=c0();if(t.vnode.shapeFlag&32){const o=e._;o?(p0(s,e,n),n&&gd(s,"_",o,!0)):d0(e,s)}else e&&g0(t,e)},$p=(t,e,n)=>{const{vnode:s,slots:o}=t;let l=!0,f=de;if(s.shapeFlag&32){const d=e._;d?n&&d===1?l=!1:p0(o,e,n):(l=!e.$stable,d0(e,o)),f=e}else e&&(g0(t,e),f={default:1});if(l)for(const d in o)!Rc(d)&&f[d]==null&&delete o[d]},An=sx;function tx(t){return ex(t)}function ex(t,e){const n=Na();n.__VUE__=!0;const{insert:s,remove:o,patchProp:l,createElement:f,createText:d,createComment:p,setText:x,setElementText:b,parentNode:y,nextSibling:C,setScopeId:A=ci,insertStaticContent:S}=t,O=(M,N,W,et=null,st=null,$=null,ot=void 0,it=null,ft=!!N.dynamicChildren)=>{if(M===N)return;M&&!ps(M,N)&&(et=nt(M),zt(M,st,$,!0),M=null),N.patchFlag===-2&&(ft=!1,N.dynamicChildren=null);const{type:K,ref:vt,shapeFlag:wt}=N;switch(K){case Ha:D(M,N,W,et);break;case gn:U(M,N,W,et);break;case Zo:M==null&&V(N,W,et,ot);break;case kn:Z(M,N,W,et,st,$,ot,it,ft);break;default:wt&1?j(M,N,W,et,st,$,ot,it,ft):wt&6?xt(M,N,W,et,st,$,ot,it,ft):(wt&64||wt&128)&&K.process(M,N,W,et,st,$,ot,it,ft,Et)}vt!=null&&st?kr(vt,M&&M.ref,$,N||M,!N):vt==null&&M&&M.ref!=null&&kr(M.ref,null,$,M,!0)},D=(M,N,W,et)=>{if(M==null)s(N.el=d(N.children),W,et);else{const st=N.el=M.el;N.children!==M.children&&x(st,N.children)}},U=(M,N,W,et)=>{M==null?s(N.el=p(N.children||""),W,et):N.el=M.el},V=(M,N,W,et)=>{[M.el,M.anchor]=S(M.children,N,W,et,M.el,M.anchor)},k=({el:M,anchor:N},W,et)=>{let st;for(;M&&M!==N;)st=C(M),s(M,W,et),M=st;s(N,W,et)},G=({el:M,anchor:N})=>{let W;for(;M&&M!==N;)W=C(M),o(M),M=W;o(N)},j=(M,N,W,et,st,$,ot,it,ft)=>{if(N.type==="svg"?ot="svg":N.type==="math"&&(ot="mathml"),M==null)tt(N,W,et,st,$,ot,it,ft);else{const K=M.el&&M.el._isVueCE?M.el:null;try{K&&K._beginPatch(),F(M,N,st,$,ot,it,ft)}finally{K&&K._endPatch()}}},tt=(M,N,W,et,st,$,ot,it)=>{let ft,K;const{props:vt,shapeFlag:wt,transition:At,dirs:Mt}=M;if(ft=M.el=f(M.type,$,vt&&vt.is,vt),wt&8?b(ft,M.children):wt&16&&J(M.children,ft,null,et,st,Cl(M,$),ot,it),Mt&&rs(M,null,et,"created"),H(ft,M,M.scopeId,ot,et),vt){for(const ae in vt)ae!=="value"&&!Mr(ae)&&l(ft,ae,null,vt[ae],$,et);"value"in vt&&l(ft,"value",null,vt.value,$),(K=vt.onVnodeBeforeMount)&&ni(K,et,M)}Mt&&rs(M,null,et,"beforeMount");const Pt=nx(st,At);Pt&&At.beforeEnter(ft),s(ft,N,W),((K=vt&&vt.onVnodeMounted)||Pt||Mt)&&An(()=>{K&&ni(K,et,M),Pt&&At.enter(ft),Mt&&rs(M,null,et,"mounted")},st)},H=(M,N,W,et,st)=>{if(W&&A(M,W),et)for(let $=0;$<et.length;$++)A(M,et[$]);if(st){let $=st.subTree;if(N===$||b0($.type)&&($.ssContent===N||$.ssFallback===N)){const ot=st.vnode;H(M,ot,ot.scopeId,ot.slotScopeIds,st.parent)}}},J=(M,N,W,et,st,$,ot,it,ft=0)=>{for(let K=ft;K<M.length;K++){const vt=M[K]=it?Gi(M[K]):li(M[K]);O(null,vt,N,W,et,st,$,ot,it)}},F=(M,N,W,et,st,$,ot)=>{const it=N.el=M.el;let{patchFlag:ft,dynamicChildren:K,dirs:vt}=N;ft|=M.patchFlag&16;const wt=M.props||de,At=N.props||de;let Mt;if(W&&os(W,!1),(Mt=At.onVnodeBeforeUpdate)&&ni(Mt,W,N,M),vt&&rs(N,M,W,"beforeUpdate"),W&&os(W,!0),(wt.innerHTML&&At.innerHTML==null||wt.textContent&&At.textContent==null)&&b(it,""),K?pt(M.dynamicChildren,K,it,W,et,Cl(N,st),$):ot||Ft(M,N,it,null,W,et,Cl(N,st),$,!1),ft>0){if(ft&16)ht(it,wt,At,W,st);else if(ft&2&&wt.class!==At.class&&l(it,"class",null,At.class,st),ft&4&&l(it,"style",wt.style,At.style,st),ft&8){const Pt=N.dynamicProps;for(let ae=0;ae<Pt.length;ae++){const Wt=Pt[ae],ie=wt[Wt],Ze=At[Wt];(Ze!==ie||Wt==="value")&&l(it,Wt,ie,Ze,st,W)}}ft&1&&M.children!==N.children&&b(it,N.children)}else!ot&&K==null&&ht(it,wt,At,W,st);((Mt=At.onVnodeUpdated)||vt)&&An(()=>{Mt&&ni(Mt,W,N,M),vt&&rs(N,M,W,"updated")},et)},pt=(M,N,W,et,st,$,ot)=>{for(let it=0;it<N.length;it++){const ft=M[it],K=N[it],vt=ft.el&&(ft.type===kn||!ps(ft,K)||ft.shapeFlag&198)?y(ft.el):W;O(ft,K,vt,null,et,st,$,ot,!0)}},ht=(M,N,W,et,st)=>{if(N!==W){if(N!==de)for(const $ in N)!Mr($)&&!($ in W)&&l(M,$,N[$],null,st,et);for(const $ in W){if(Mr($))continue;const ot=W[$],it=N[$];ot!==it&&$!=="value"&&l(M,$,it,ot,st,et)}"value"in W&&l(M,"value",N.value,W.value,st)}},Z=(M,N,W,et,st,$,ot,it,ft)=>{const K=N.el=M?M.el:d(""),vt=N.anchor=M?M.anchor:d("");let{patchFlag:wt,dynamicChildren:At,slotScopeIds:Mt}=N;Mt&&(it=it?it.concat(Mt):Mt),M==null?(s(K,W,et),s(vt,W,et),J(N.children||[],W,vt,st,$,ot,it,ft)):wt>0&&wt&64&&At&&M.dynamicChildren?(pt(M.dynamicChildren,At,W,st,$,ot,it),(N.key!=null||st&&N===st.subTree)&&x0(M,N,!0)):Ft(M,N,W,vt,st,$,ot,it,ft)},xt=(M,N,W,et,st,$,ot,it,ft)=>{N.slotScopeIds=it,M==null?N.shapeFlag&512?st.ctx.activate(N,W,et,ot,ft):Rt(N,W,et,st,$,ot,ft):X(M,N,ft)},Rt=(M,N,W,et,st,$,ot)=>{const it=M.component=hx(M,et,st);if(Ba(M)&&(it.ctx.renderer=Et),dx(it,!1,ot),it.asyncDep){if(st&&st.registerDep(it,Ct,ot),!M.el){const ft=it.subTree=Fe(gn);U(null,ft,N,W),M.placeholder=ft.el}}else Ct(it,M,N,W,st,$,ot)},X=(M,N,W)=>{const et=N.component=M.component;if(Xp(M,N,W))if(et.asyncDep&&!et.asyncResolved){lt(et,N,W);return}else et.next=N,et.update();else N.el=M.el,et.vnode=N},Ct=(M,N,W,et,st,$,ot)=>{const it=()=>{if(M.isMounted){let{next:wt,bu:At,u:Mt,parent:Pt,vnode:ae}=M;{const Tn=m0(M);if(Tn){wt&&(wt.el=ae.el,lt(M,wt,ot)),Tn.asyncDep.then(()=>{M.isUnmounted||it()});return}}let Wt=wt,ie;os(M,!1),wt?(wt.el=ae.el,lt(M,wt,ot)):wt=ae,At&&Yo(At),(ie=wt.props&&wt.props.onVnodeBeforeUpdate)&&ni(ie,Pt,wt,ae),os(M,!0);const Ze=Nu(M),ln=M.subTree;M.subTree=Ze,O(ln,Ze,y(ln.el),nt(ln),M,st,$),wt.el=Ze.el,Wt===null&&Yp(M,Ze.el),Mt&&An(Mt,st),(ie=wt.props&&wt.props.onVnodeUpdated)&&An(()=>ni(ie,Pt,wt,ae),st)}else{let wt;const{el:At,props:Mt}=N,{bm:Pt,m:ae,parent:Wt,root:ie,type:Ze}=M,ln=Br(N);os(M,!1),Pt&&Yo(Pt),!ln&&(wt=Mt&&Mt.onVnodeBeforeMount)&&ni(wt,Wt,N),os(M,!0);{ie.ce&&ie.ce._def.shadowRoot!==!1&&ie.ce._injectChildStyle(Ze);const Tn=M.subTree=Nu(M);O(null,Tn,W,et,M,st,$),N.el=Tn.el}if(ae&&An(ae,st),!ln&&(wt=Mt&&Mt.onVnodeMounted)){const Tn=N;An(()=>ni(wt,Wt,Tn),st)}(N.shapeFlag&256||Wt&&Br(Wt.vnode)&&Wt.vnode.shapeFlag&256)&&M.a&&An(M.a,st),M.isMounted=!0,N=W=et=null}};M.scope.on();const ft=M.effect=new _d(it);M.scope.off();const K=M.update=ft.run.bind(ft),vt=M.job=ft.runIfDirty.bind(ft);vt.i=M,vt.id=M.uid,ft.scheduler=()=>Oc(vt),os(M,!0),K()},lt=(M,N,W)=>{N.component=M;const et=M.vnode.props;M.vnode=N,M.next=null,Zp(M,N.props,et,W),$p(M,N.children,W),Ii(),Au(M),vi()},Ft=(M,N,W,et,st,$,ot,it,ft=!1)=>{const K=M&&M.children,vt=M?M.shapeFlag:0,wt=N.children,{patchFlag:At,shapeFlag:Mt}=N;if(At>0){if(At&128){Ee(K,wt,W,et,st,$,ot,it,ft);return}else if(At&256){ve(K,wt,W,et,st,$,ot,it,ft);return}}Mt&8?(vt&16&&bt(K,st,$),wt!==K&&b(W,wt)):vt&16?Mt&16?Ee(K,wt,W,et,st,$,ot,it,ft):bt(K,st,$,!0):(vt&8&&b(W,""),Mt&16&&J(wt,W,et,st,$,ot,it,ft))},ve=(M,N,W,et,st,$,ot,it,ft)=>{M=M||Ys,N=N||Ys;const K=M.length,vt=N.length,wt=Math.min(K,vt);let At;for(At=0;At<wt;At++){const Mt=N[At]=ft?Gi(N[At]):li(N[At]);O(M[At],Mt,W,null,st,$,ot,it,ft)}K>vt?bt(M,st,$,!0,!1,wt):J(N,W,et,st,$,ot,it,ft,wt)},Ee=(M,N,W,et,st,$,ot,it,ft)=>{let K=0;const vt=N.length;let wt=M.length-1,At=vt-1;for(;K<=wt&&K<=At;){const Mt=M[K],Pt=N[K]=ft?Gi(N[K]):li(N[K]);if(ps(Mt,Pt))O(Mt,Pt,W,null,st,$,ot,it,ft);else break;K++}for(;K<=wt&&K<=At;){const Mt=M[wt],Pt=N[At]=ft?Gi(N[At]):li(N[At]);if(ps(Mt,Pt))O(Mt,Pt,W,null,st,$,ot,it,ft);else break;wt--,At--}if(K>wt){if(K<=At){const Mt=At+1,Pt=Mt<vt?N[Mt].el:et;for(;K<=At;)O(null,N[K]=ft?Gi(N[K]):li(N[K]),W,Pt,st,$,ot,it,ft),K++}}else if(K>At)for(;K<=wt;)zt(M[K],st,$,!0),K++;else{const Mt=K,Pt=K,ae=new Map;for(K=Pt;K<=At;K++){const qt=N[K]=ft?Gi(N[K]):li(N[K]);qt.key!=null&&ae.set(qt.key,K)}let Wt,ie=0;const Ze=At-Pt+1;let ln=!1,Tn=0;const ge=new Array(Ze);for(K=0;K<Ze;K++)ge[K]=0;for(K=Mt;K<=wt;K++){const qt=M[K];if(ie>=Ze){zt(qt,st,$,!0);continue}let Gt;if(qt.key!=null)Gt=ae.get(qt.key);else for(Wt=Pt;Wt<=At;Wt++)if(ge[Wt-Pt]===0&&ps(qt,N[Wt])){Gt=Wt;break}Gt===void 0?zt(qt,st,$,!0):(ge[Gt-Pt]=K+1,Gt>=Tn?Tn=Gt:ln=!0,O(qt,N[Gt],W,null,st,$,ot,it,ft),ie++)}const gt=ln?ix(ge):Ys;for(Wt=gt.length-1,K=Ze-1;K>=0;K--){const qt=Pt+K,Gt=N[qt],we=N[qt+1],Oi=qt+1<vt?we.el||we.placeholder:et;ge[K]===0?O(null,Gt,W,Oi,st,$,ot,it,ft):ln&&(Wt<0||K!==gt[Wt]?We(Gt,W,Oi,2):Wt--)}}},We=(M,N,W,et,st=null)=>{const{el:$,type:ot,transition:it,children:ft,shapeFlag:K}=M;if(K&6){We(M.component.subTree,N,W,et);return}if(K&128){M.suspense.move(N,W,et);return}if(K&64){ot.move(M,N,W,Et);return}if(ot===kn){s($,N,W);for(let wt=0;wt<ft.length;wt++)We(ft[wt],N,W,et);s(M.anchor,N,W);return}if(ot===Zo){k(M,N,W);return}if(et!==2&&K&1&&it)if(et===0)it.beforeEnter($),s($,N,W),An(()=>it.enter($),st);else{const{leave:wt,delayLeave:At,afterLeave:Mt}=it,Pt=()=>{M.ctx.isUnmounted?o($):s($,N,W)},ae=()=>{$._isLeaving&&$[yi](!0),wt($,()=>{Pt(),Mt&&Mt()})};At?At($,Pt,ae):ae()}else s($,N,W)},zt=(M,N,W,et=!1,st=!1)=>{const{type:$,props:ot,ref:it,children:ft,dynamicChildren:K,shapeFlag:vt,patchFlag:wt,dirs:At,cacheIndex:Mt}=M;if(wt===-2&&(st=!1),it!=null&&(Ii(),kr(it,null,W,M,!0),vi()),Mt!=null&&(N.renderCache[Mt]=void 0),vt&256){N.ctx.deactivate(M);return}const Pt=vt&1&&At,ae=!Br(M);let Wt;if(ae&&(Wt=ot&&ot.onVnodeBeforeUnmount)&&ni(Wt,N,M),vt&6)Ke(M.component,W,et);else{if(vt&128){M.suspense.unmount(W,et);return}Pt&&rs(M,null,N,"beforeUnmount"),vt&64?M.type.remove(M,N,W,Et,et):K&&!K.hasOnce&&($!==kn||wt>0&&wt&64)?bt(K,N,W,!1,!0):($===kn&&wt&384||!st&&vt&16)&&bt(ft,N,W),et&&Le(M)}(ae&&(Wt=ot&&ot.onVnodeUnmounted)||Pt)&&An(()=>{Wt&&ni(Wt,N,M),Pt&&rs(M,null,N,"unmounted")},W)},Le=M=>{const{type:N,el:W,anchor:et,transition:st}=M;if(N===kn){ne(W,et);return}if(N===Zo){G(M);return}const $=()=>{o(W),st&&!st.persisted&&st.afterLeave&&st.afterLeave()};if(M.shapeFlag&1&&st&&!st.persisted){const{leave:ot,delayLeave:it}=st,ft=()=>ot(W,$);it?it(M.el,$,ft):ft()}else $()},ne=(M,N)=>{let W;for(;M!==N;)W=C(M),o(M),M=W;o(N)},Ke=(M,N,W)=>{const{bum:et,scope:st,job:$,subTree:ot,um:it,m:ft,a:K}=M;Pu(ft),Pu(K),et&&Yo(et),st.stop(),$&&($.flags|=8,zt(ot,M,N,W)),it&&An(it,N),An(()=>{M.isUnmounted=!0},N)},bt=(M,N,W,et=!1,st=!1,$=0)=>{for(let ot=$;ot<M.length;ot++)zt(M[ot],N,W,et,st)},nt=M=>{if(M.shapeFlag&6)return nt(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const N=C(M.anchor||M.el),W=N&&N[dp];return W?C(W):N};let dt=!1;const mt=(M,N,W)=>{M==null?N._vnode&&zt(N._vnode,null,null,!0):O(N._vnode||null,M,N,null,null,null,W),N._vnode=M,dt||(dt=!0,Au(),Hd(),dt=!1)},Et={p:O,um:zt,m:We,r:Le,mt:Rt,mc:J,pc:Ft,pbc:pt,n:nt,o:t};return{render:mt,hydrate:void 0,createApp:Bp(mt)}}function Cl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function os({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function nx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function x0(t,e,n=!1){const s=t.children,o=e.children;if(Tt(s)&&Tt(o))for(let l=0;l<s.length;l++){const f=s[l];let d=o[l];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=o[l]=Gi(o[l]),d.el=f.el),!n&&d.patchFlag!==-2&&x0(f,d)),d.type===Ha&&d.patchFlag!==-1&&(d.el=f.el),d.type===gn&&!d.el&&(d.el=f.el)}}function ix(t){const e=t.slice(),n=[0];let s,o,l,f,d;const p=t.length;for(s=0;s<p;s++){const x=t[s];if(x!==0){if(o=n[n.length-1],t[o]<x){e[s]=o,n.push(s);continue}for(l=0,f=n.length-1;l<f;)d=l+f>>1,t[n[d]]<x?l=d+1:f=d;x<t[n[l]]&&(l>0&&(e[s]=n[l-1]),n[l]=s)}}for(l=n.length,f=n[l-1];l-- >0;)n[l]=f,f=e[f];return n}function m0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:m0(e)}function Pu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const b0=t=>t.__isSuspense;function sx(t,e){e&&e.pendingBranch?Tt(t)?e.effects.push(...t):e.effects.push(t):hp(t)}const kn=Symbol.for("v-fgt"),Ha=Symbol.for("v-txt"),gn=Symbol.for("v-cmt"),Zo=Symbol.for("v-stc"),Fr=[];let vn=null;function Kt(t=!1){Fr.push(vn=t?null:[])}function rx(){Fr.pop(),vn=Fr[Fr.length-1]||null}let $r=1;function ca(t,e=!1){$r+=t,t<0&&vn&&e&&(vn.hasOnce=!0)}function w0(t){return t.dynamicChildren=$r>0?vn||Ys:null,rx(),$r>0&&vn&&vn.push(t),t}function te(t,e,n,s,o,l){return w0(B(t,e,n,s,o,l,!0))}function Mc(t,e,n,s,o){return w0(Fe(t,e,n,s,o,!0))}function ua(t){return t?t.__v_isVNode===!0:!1}function ps(t,e){return t.type===e.type&&t.key===e.key}const y0=({key:t})=>t??null,qo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Pe(t)||De(t)||kt(t)?{i:In,r:t,k:e,f:!!n}:t:null);function B(t,e=null,n=null,s=0,o=null,l=t===kn?0:1,f=!1,d=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&y0(e),ref:e&&qo(e),scopeId:Wd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:In};return d?(Dc(p,n),l&128&&t.normalize(p)):n&&(p.shapeFlag|=Pe(n)?8:16),$r>0&&!f&&vn&&(p.patchFlag>0||l&6)&&p.patchFlag!==32&&vn.push(p),p}const Fe=ox;function ox(t,e=null,n=null,s=0,o=null,l=!1){if((!t||t===$d)&&(t=gn),ua(t)){const d=Qi(t,e,!0);return n&&Dc(d,n),$r>0&&!l&&vn&&(d.shapeFlag&6?vn[vn.indexOf(t)]=d:vn.push(d)),d.patchFlag=-2,d}if(bx(t)&&(t=t.__vccOpts),e){e=ax(e);let{class:d,style:p}=e;d&&!Pe(d)&&(e.class=Gn(d)),ue(p)&&(or(p)&&!Tt(p)&&(p=Ye({},p)),e.style=Zs(p))}const f=Pe(t)?1:b0(t)?128:Gd(t)?64:ue(t)?4:kt(t)?2:0;return B(t,e,n,s,o,f,l,!0)}function ax(t){return t?or(t)||u0(t)?Ye({},t):t:null}function Qi(t,e,n=!1,s=!1){const{props:o,ref:l,patchFlag:f,children:d,transition:p}=t,x=e?cx(o||{},e):o,b={__v_isVNode:!0,__v_skip:!0,type:t.type,props:x,key:x&&y0(x),ref:e&&e.ref?n&&l?Tt(l)?l.concat(qo(e)):[l,qo(e)]:qo(e):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:d,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?f===-1?16:f|16:f,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:p,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qi(t.ssContent),ssFallback:t.ssFallback&&Qi(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return p&&s&&Jr(b,p.clone(b)),b}function Ur(t=" ",e=0){return Fe(Ha,null,t,e)}function lx(t,e){const n=Fe(Zo,null,t);return n.staticCount=e,n}function fn(t="",e=!1){return e?(Kt(),Mc(gn,null,t)):Fe(gn,null,t)}function li(t){return t==null||typeof t=="boolean"?Fe(gn):Tt(t)?Fe(kn,null,t.slice()):ua(t)?Gi(t):Fe(Ha,null,String(t))}function Gi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qi(t)}function Dc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Tt(e))n=16;else if(typeof e=="object")if(s&65){const o=e.default;o&&(o._c&&(o._d=!1),Dc(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!u0(e)?e._ctx=In:o===3&&In&&(In.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else kt(e)?(e={default:e,_ctx:In},n=32):(e=String(e),s&64?(n=16,e=[Ur(e)]):n=8);t.children=e,t.shapeFlag|=n}function cx(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if(o==="class")e.class!==s.class&&(e.class=Gn([e.class,s.class]));else if(o==="style")e.style=Zs([e.style,s.style]);else if(Ia(o)){const l=e[o],f=s[o];f&&l!==f&&!(Tt(l)&&l.includes(f))&&(e[o]=l?[].concat(l,f):f)}else o!==""&&(e[o]=s[o])}return e}function ni(t,e,n,s=null){Kn(t,e,7,[n,s])}const ux=s0();let fx=0;function hx(t,e,n){const s=t.type,o=(e?e.appContext:t.appContext)||ux,l={uid:fx++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:h0(s,o),emitsOptions:a0(s,o),emit:null,emitted:null,propsDefaults:de,inheritAttrs:s.inheritAttrs,ctx:de,data:de,props:de,attrs:de,slots:de,refs:de,setupState:de,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=Wp.bind(null,l),t.ce&&t.ce(l),l}let rn=null;const Pc=()=>rn||In;let fa,Ql;{const t=Na(),e=(n,s)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(s),l=>{o.length>1?o.forEach(f=>f(l)):o[0](l)}};fa=e("__VUE_INSTANCE_SETTERS__",n=>rn=n),Ql=e("__VUE_SSR_SETTERS__",n=>to=n)}const mo=t=>{const e=rn;return fa(t),t.scope.on(),()=>{t.scope.off(),fa(e)}},ku=()=>{rn&&rn.scope.off(),fa(null)};function _0(t){return t.vnode.shapeFlag&4}let to=!1;function dx(t,e=!1,n=!1){e&&Ql(e);const{props:s,children:o}=t.vnode,l=_0(t);Kp(t,s,l,e),Jp(t,o,n||e);const f=l?gx(t,e):void 0;return e&&Ql(!1),f}function gx(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Op);const{setup:s}=n;if(s){Ii();const o=t.setupContext=s.length>1?xx(t):null,l=mo(t),f=go(s,t,0,[t.props,o]),d=fd(f);if(vi(),l(),(d||t.sp)&&!Br(t)&&Zd(t),d){if(f.then(ku,ku),e)return f.then(p=>{Bu(t,p)}).catch(p=>{Pa(p,t,0)});t.asyncDep=f}else Bu(t,f)}else C0(t)}function Bu(t,e,n){kt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ue(e)&&(t.setupState=Ld(e)),C0(t)}function C0(t,e,n){const s=t.type;t.render||(t.render=s.render||ci);{const o=mo(t);Ii();try{Rp(t)}finally{vi(),o()}}}const px={get(t,e){return sn(t,"get",""),t[e]}};function xx(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,px),slots:t.slots,emit:t.emit,expose:e}}function Va(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ld(Sc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Lr)return Lr[n](t)},has(e,n){return n in e||n in Lr}})):t.proxy}function mx(t,e=!0){return kt(t)?t.displayName||t.name:t.name||e&&t.__name}function bx(t){return kt(t)&&"__vccOpts"in t}const Ae=(t,e)=>ap(t,e,to);function tr(t,e,n){try{ca(-1);const s=arguments.length;return s===2?ue(e)&&!Tt(e)?ua(e)?Fe(t,null,[e]):Fe(t,e):Fe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ua(n)&&(n=[n]),Fe(t,e,n))}finally{ca(1)}}const A0="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jl;const Lu=typeof window<"u"&&window.trustedTypes;if(Lu)try{Jl=Lu.createPolicy("vue",{createHTML:t=>t})}catch{}const E0=Jl?t=>Jl.createHTML(t):t=>t,wx="http://www.w3.org/2000/svg",yx="http://www.w3.org/1998/Math/MathML",wi=typeof document<"u"?document:null,Fu=wi&&wi.createElement("template"),_x={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const o=e==="svg"?wi.createElementNS(wx,t):e==="mathml"?wi.createElementNS(yx,t):n?wi.createElement(t,{is:n}):wi.createElement(t);return t==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:t=>wi.createTextNode(t),createComment:t=>wi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,o,l){const f=n?n.previousSibling:e.lastChild;if(o&&(o===l||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===l||!(o=o.nextSibling)););else{Fu.innerHTML=E0(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const d=Fu.content;if(s==="svg"||s==="mathml"){const p=d.firstChild;for(;p.firstChild;)d.appendChild(p.firstChild);d.removeChild(p)}e.insertBefore(d,n)}return[f?f.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Bi="transition",br="animation",eo=Symbol("_vtc"),I0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Cx=Ye({},zd,I0),Ax=t=>(t.displayName="Transition",t.props=Cx,t),Ex=Ax((t,{slots:e})=>tr(xp,Ix(t),e)),as=(t,e=[])=>{Tt(t)?t.forEach(n=>n(...e)):t&&t(...e)},Uu=t=>t?Tt(t)?t.some(e=>e.length>1):t.length>1:!1;function Ix(t){const e={};for(const Z in t)Z in I0||(e[Z]=t[Z]);if(t.css===!1)return e;const{name:n="v",type:s,duration:o,enterFromClass:l=`${n}-enter-from`,enterActiveClass:f=`${n}-enter-active`,enterToClass:d=`${n}-enter-to`,appearFromClass:p=l,appearActiveClass:x=f,appearToClass:b=d,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:C=`${n}-leave-active`,leaveToClass:A=`${n}-leave-to`}=t,S=vx(o),O=S&&S[0],D=S&&S[1],{onBeforeEnter:U,onEnter:V,onEnterCancelled:k,onLeave:G,onLeaveCancelled:j,onBeforeAppear:tt=U,onAppear:H=V,onAppearCancelled:J=k}=e,F=(Z,xt,Rt,X)=>{Z._enterCancelled=X,ls(Z,xt?b:d),ls(Z,xt?x:f),Rt&&Rt()},pt=(Z,xt)=>{Z._isLeaving=!1,ls(Z,y),ls(Z,A),ls(Z,C),xt&&xt()},ht=Z=>(xt,Rt)=>{const X=Z?H:V,Ct=()=>F(xt,Z,Rt);as(X,[xt,Ct]),Hu(()=>{ls(xt,Z?p:l),di(xt,Z?b:d),Uu(X)||Vu(xt,s,O,Ct)})};return Ye(e,{onBeforeEnter(Z){as(U,[Z]),di(Z,l),di(Z,f)},onBeforeAppear(Z){as(tt,[Z]),di(Z,p),di(Z,x)},onEnter:ht(!1),onAppear:ht(!0),onLeave(Z,xt){Z._isLeaving=!0;const Rt=()=>pt(Z,xt);di(Z,y),Z._enterCancelled?(di(Z,C),zu(Z)):(zu(Z),di(Z,C)),Hu(()=>{Z._isLeaving&&(ls(Z,y),di(Z,A),Uu(G)||Vu(Z,s,D,Rt))}),as(G,[Z,Rt])},onEnterCancelled(Z){F(Z,!1,void 0,!0),as(k,[Z])},onAppearCancelled(Z){F(Z,!0,void 0,!0),as(J,[Z])},onLeaveCancelled(Z){pt(Z),as(j,[Z])}})}function vx(t){if(t==null)return null;if(ue(t))return[Al(t.enter),Al(t.leave)];{const e=Al(t);return[e,e]}}function Al(t){return vg(t)}function di(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[eo]||(t[eo]=new Set)).add(e)}function ls(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[eo];n&&(n.delete(e),n.size||(t[eo]=void 0))}function Hu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sx=0;function Vu(t,e,n,s){const o=t._endId=++Sx,l=()=>{o===t._endId&&s()};if(n!=null)return setTimeout(l,n);const{type:f,timeout:d,propCount:p}=Tx(t,e);if(!f)return s();const x=f+"end";let b=0;const y=()=>{t.removeEventListener(x,C),l()},C=A=>{A.target===t&&++b>=p&&y()};setTimeout(()=>{b<p&&y()},d+1),t.addEventListener(x,C)}function Tx(t,e){const n=window.getComputedStyle(t),s=S=>(n[S]||"").split(", "),o=s(`${Bi}Delay`),l=s(`${Bi}Duration`),f=Wu(o,l),d=s(`${br}Delay`),p=s(`${br}Duration`),x=Wu(d,p);let b=null,y=0,C=0;e===Bi?f>0&&(b=Bi,y=f,C=l.length):e===br?x>0&&(b=br,y=x,C=p.length):(y=Math.max(f,x),b=y>0?f>x?Bi:br:null,C=b?b===Bi?l.length:p.length:0);const A=b===Bi&&/\b(?:transform|all)(?:,|$)/.test(s(`${Bi}Property`).toString());return{type:b,timeout:y,propCount:C,hasTransform:A}}function Wu(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Gu(n)+Gu(t[s])))}function Gu(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function zu(t){return(t?t.ownerDocument:document).body.offsetHeight}function Ox(t,e,n){const s=t[eo];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ju=Symbol("_vod"),Rx=Symbol("_vsh"),Nx=Symbol(""),Mx=/(?:^|;)\s*display\s*:/;function Dx(t,e,n){const s=t.style,o=Pe(n);let l=!1;if(n&&!o){if(e)if(Pe(e))for(const f of e.split(";")){const d=f.slice(0,f.indexOf(":")).trim();n[d]==null&&Qo(s,d,"")}else for(const f in e)n[f]==null&&Qo(s,f,"");for(const f in n)f==="display"&&(l=!0),Qo(s,f,n[f])}else if(o){if(e!==n){const f=s[Nx];f&&(n+=";"+f),s.cssText=n,l=Mx.test(n)}}else e&&t.removeAttribute("style");ju in t&&(t[ju]=l?s.display:"",t[Rx]&&(s.display="none"))}const Xu=/\s*!important$/;function Qo(t,e,n){if(Tt(n))n.forEach(s=>Qo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Px(t,e);Xu.test(n)?t.setProperty(Ss(s),n.replace(Xu,""),"important"):t[s]=n}}const Yu=["Webkit","Moz","ms"],El={};function Px(t,e){const n=El[e];if(n)return n;let s=Fn(e);if(s!=="filter"&&s in t)return El[e]=s;s=Oa(s);for(let o=0;o<Yu.length;o++){const l=Yu[o]+s;if(l in t)return El[e]=l}return e}const Ku="http://www.w3.org/1999/xlink";function Zu(t,e,n,s,o,l=Mg(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ku,e.slice(6,e.length)):t.setAttributeNS(Ku,e,n):n==null||l&&!pd(n)?t.removeAttribute(e):t.setAttribute(e,l?"":fi(n)?String(n):n)}function qu(t,e,n,s,o){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?E0(n):n);return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?t.getAttribute("value")||"":t.value,p=n==null?t.type==="checkbox"?"on":"":String(n);(d!==p||!("_value"in t))&&(t.value=p),n==null&&t.removeAttribute(e),t._value=n;return}let f=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=pd(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(o||e)}function xs(t,e,n,s){t.addEventListener(e,n,s)}function kx(t,e,n,s){t.removeEventListener(e,n,s)}const Qu=Symbol("_vei");function Bx(t,e,n,s,o=null){const l=t[Qu]||(t[Qu]={}),f=l[e];if(s&&f)f.value=s;else{const[d,p]=Lx(e);if(s){const x=l[e]=Hx(s,o);xs(t,d,x,p)}else f&&(kx(t,d,f,p),l[e]=void 0)}}const Ju=/(?:Once|Passive|Capture)$/;function Lx(t){let e;if(Ju.test(t)){e={};let s;for(;s=t.match(Ju);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ss(t.slice(2)),e]}let Il=0;const Fx=Promise.resolve(),Ux=()=>Il||(Fx.then(()=>Il=0),Il=Date.now());function Hx(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Kn(Vx(s,n.value),e,5,[s])};return n.value=t,n.attached=Ux(),n}function Vx(t,e){if(Tt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>o=>!o._stopped&&s&&s(o))}else return e}const $u=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wx=(t,e,n,s,o,l)=>{const f=o==="svg";e==="class"?Ox(t,s,f):e==="style"?Dx(t,n,s):Ia(e)?wc(e)||Bx(t,e,n,s,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gx(t,e,s,f))?(qu(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zu(t,e,s,f,l,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Pe(s))?qu(t,Fn(e),s,l,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Zu(t,e,s,f))};function Gx(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&$u(e)&&kt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return $u(e)&&Pe(n)?!1:e in t}const ha=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Tt(e)?n=>Yo(e,n):e};function zx(t){t.target.composing=!0}function tf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qs=Symbol("_assign");function ef(t,e,n){return e&&(t=t.trim()),n&&(t=Ra(t)),t}const ms={created(t,{modifiers:{lazy:e,trim:n,number:s}},o){t[Qs]=ha(o);const l=s||o.props&&o.props.type==="number";xs(t,e?"change":"input",f=>{f.target.composing||t[Qs](ef(t.value,n,l))}),(n||l)&&xs(t,"change",()=>{t.value=ef(t.value,n,l)}),e||(xs(t,"compositionstart",zx),xs(t,"compositionend",tf),xs(t,"change",tf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:o,number:l}},f){if(t[Qs]=ha(f),t.composing)return;const d=(l||t.type==="number")&&!/^0\d/.test(t.value)?Ra(t.value):t.value,p=e??"";d!==p&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||o&&t.value.trim()===p)||(t.value=p))}},vl={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const o=va(e);xs(t,"change",()=>{const l=Array.prototype.filter.call(t.options,f=>f.selected).map(f=>n?Ra(da(f)):da(f));t[Qs](t.multiple?o?new Set(l):l:l[0]),t._assigning=!0,po(()=>{t._assigning=!1})}),t[Qs]=ha(s)},mounted(t,{value:e}){nf(t,e)},beforeUpdate(t,e,n){t[Qs]=ha(n)},updated(t,{value:e}){t._assigning||nf(t,e)}};function nf(t,e){const n=t.multiple,s=Tt(e);if(!(n&&!s&&!va(e))){for(let o=0,l=t.options.length;o<l;o++){const f=t.options[o],d=da(f);if(n)if(s){const p=typeof d;p==="string"||p==="number"?f.selected=e.some(x=>String(x)===String(d)):f.selected=Pg(e,d)>-1}else f.selected=e.has(d);else if(Ma(da(f),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function da(t){return"_value"in t?t._value:t.value}const jx=["ctrl","shift","alt","meta"],Xx={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jx.some(n=>t[`${n}Key`]&&!e.includes(n))},Yx=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(o,...l)=>{for(let f=0;f<e.length;f++){const d=Xx[e[f]];if(d&&d(o,e))return}return t(o,...l)})},Kx=Ye({patchProp:Wx},_x);let sf;function Zx(){return sf||(sf=tx(Kx))}const qx=(...t)=>{const e=Zx().createApp(...t),{mount:n}=e;return e.mount=s=>{const o=Jx(s);if(!o)return;const l=e._component;!kt(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const f=n(o,!1,Qx(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),f},e};function Qx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Jx(t){return Pe(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let v0;const Wa=t=>v0=t,S0=Symbol();function $l(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hr||(Hr={}));function $x(){const t=wd(!0),e=t.run(()=>Me({}));let n=[],s=[];const o=Sc({install(l){Wa(o),o._a=l,l.provide(S0,o),l.config.globalProperties.$pinia=o,s.forEach(f=>n.push(f)),s=[]},use(l){return this._a?n.push(l):s.push(l),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const T0=()=>{};function rf(t,e,n,s=T0){t.push(e);const o=()=>{const l=t.indexOf(e);l>-1&&(t.splice(l,1),s())};return!n&&yd()&&kg(o),o}function Hs(t,...e){t.slice().forEach(n=>{n(...e)})}const t2=t=>t(),of=Symbol(),Sl=Symbol();function tc(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],o=t[n];$l(o)&&$l(s)&&t.hasOwnProperty(n)&&!De(s)&&!Ei(s)?t[n]=tc(o,s):t[n]=s}return t}const e2=Symbol();function n2(t){return!$l(t)||!t.hasOwnProperty(e2)}const{assign:Ui}=Object;function i2(t){return!!(De(t)&&t.effect)}function s2(t,e,n,s){const{state:o,actions:l,getters:f}=e,d=n.state.value[t];let p;function x(){d||(n.state.value[t]=o?o():{});const b=ip(n.state.value[t]);return Ui(b,l,Object.keys(f||{}).reduce((y,C)=>(y[C]=Sc(Ae(()=>{Wa(n);const A=n._s.get(t);return f[C].call(A,A)})),y),{}))}return p=O0(t,x,e,n,s,!0),p}function O0(t,e,n={},s,o,l){let f;const d=Ui({actions:{}},n),p={deep:!0};let x,b,y=[],C=[],A;const S=s.state.value[t];!l&&!S&&(s.state.value[t]={}),Me({});let O;function D(J){let F;x=b=!1,typeof J=="function"?(J(s.state.value[t]),F={type:Hr.patchFunction,storeId:t,events:A}):(tc(s.state.value[t],J),F={type:Hr.patchObject,payload:J,storeId:t,events:A});const pt=O=Symbol();po().then(()=>{O===pt&&(x=!0)}),b=!0,Hs(y,F,s.state.value[t])}const U=l?function(){const{state:F}=n,pt=F?F():{};this.$patch(ht=>{Ui(ht,pt)})}:T0;function V(){f.stop(),y=[],C=[],s._s.delete(t)}const k=(J,F="")=>{if(of in J)return J[Sl]=F,J;const pt=function(){Wa(s);const ht=Array.from(arguments),Z=[],xt=[];function Rt(lt){Z.push(lt)}function X(lt){xt.push(lt)}Hs(C,{args:ht,name:pt[Sl],store:j,after:Rt,onError:X});let Ct;try{Ct=J.apply(this&&this.$id===t?this:j,ht)}catch(lt){throw Hs(xt,lt),lt}return Ct instanceof Promise?Ct.then(lt=>(Hs(Z,lt),lt)).catch(lt=>(Hs(xt,lt),Promise.reject(lt))):(Hs(Z,Ct),Ct)};return pt[of]=!0,pt[Sl]=F,pt},G={_p:s,$id:t,$onAction:rf.bind(null,C),$patch:D,$reset:U,$subscribe(J,F={}){const pt=rf(y,J,F.detached,()=>ht()),ht=f.run(()=>As(()=>s.state.value[t],Z=>{(F.flush==="sync"?b:x)&&J({storeId:t,type:Hr.direct,events:A},Z)},Ui({},p,F)));return pt},$dispose:V},j=ho(G);s._s.set(t,j);const H=(s._a&&s._a.runWithContext||t2)(()=>s._e.run(()=>(f=wd()).run(()=>e({action:k}))));for(const J in H){const F=H[J];if(De(F)&&!i2(F)||Ei(F))l||(S&&n2(F)&&(De(F)?F.value=S[J]:tc(F,S[J])),s.state.value[t][J]=F);else if(typeof F=="function"){const pt=k(F,J);H[J]=pt,d.actions[J]=F}}return Ui(j,H),Ui(Xt(j),H),Object.defineProperty(j,"$state",{get:()=>s.state.value[t],set:J=>{D(F=>{Ui(F,J)})}}),s._p.forEach(J=>{Ui(j,f.run(()=>J({store:j,app:s._a,pinia:s,options:d})))}),S&&l&&n.hydrate&&n.hydrate(j.$state,S),x=!0,b=!0,j}/*! #__NO_SIDE_EFFECTS__ */function R0(t,e,n){let s,o;const l=typeof e=="function";typeof t=="string"?(s=t,o=l?n:e):(o=t,s=t.id);function f(d,p){const x=Lp();return d=d||(x?Xn(S0,null):null),d&&Wa(d),d=v0,d._s.has(s)||(l?O0(s,e,o,d):s2(s,o,d)),d._s.get(s)}return f.$id=s,f}function r2(t){return typeof t=="object"&&t!==null}function af(t,e){return t=r2(t)?t:Object.create(null),new Proxy(t,{get(n,s,o){return s==="key"?Reflect.get(n,s,o):Reflect.get(n,s,o)||Reflect.get(e,s,o)}})}function o2(t,e){return e.reduce((n,s)=>n==null?void 0:n[s],t)}function a2(t,e,n){return e.slice(0,-1).reduce((s,o)=>/^(__proto__)$/.test(o)?{}:s[o]=s[o]||{},t)[e[e.length-1]]=n,t}function l2(t,e){return e.reduce((n,s)=>{const o=s.split(".");return a2(n,o,o2(t,o))},{})}function c2(t,e){return n=>{var s;try{const{storage:o=localStorage,beforeRestore:l=void 0,afterRestore:f=void 0,serializer:d={serialize:JSON.stringify,deserialize:JSON.parse},key:p=e.$id,paths:x=null,debug:b=!1}=n;return{storage:o,beforeRestore:l,afterRestore:f,serializer:d,key:((s=t.key)!=null?s:y=>y)(typeof p=="string"?p:p(e.$id)),paths:x,debug:b}}catch(o){return n.debug&&console.error("[pinia-plugin-persistedstate]",o),null}}}function lf(t,{storage:e,serializer:n,key:s,debug:o}){try{const l=e==null?void 0:e.getItem(s);l&&t.$patch(n==null?void 0:n.deserialize(l))}catch(l){o&&console.error("[pinia-plugin-persistedstate]",l)}}function cf(t,{storage:e,serializer:n,key:s,paths:o,debug:l}){try{const f=Array.isArray(o)?l2(t,o):t;e.setItem(s,n.serialize(f))}catch(f){l&&console.error("[pinia-plugin-persistedstate]",f)}}function u2(t={}){return e=>{const{auto:n=!1}=t,{options:{persist:s=n},store:o,pinia:l}=e;if(!s)return;if(!(o.$id in l.state.value)){const d=l._s.get(o.$id.replace("__hot:",""));d&&Promise.resolve().then(()=>d.$persist());return}const f=(Array.isArray(s)?s.map(d=>af(d,t)):[af(s,t)]).map(c2(t,o)).filter(Boolean);o.$persist=()=>{f.forEach(d=>{cf(o.$state,d)})},o.$hydrate=({runHooks:d=!0}={})=>{f.forEach(p=>{const{beforeRestore:x,afterRestore:b}=p;d&&(x==null||x(e)),lf(o,p),d&&(b==null||b(e))})},f.forEach(d=>{const{beforeRestore:p,afterRestore:x}=d;p==null||p(e),lf(o,d),x==null||x(e),o.$subscribe((b,y)=>{cf(y,d)},{detached:!0})})}}var f2=u2();const kc=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},h2={},d2={class:"bg-gray-900 min-h-screen text-white font-sans antialiased"};function g2(t,e){const n=Sp("router-view");return Kt(),te("div",d2,[Fe(n,null,{default:jl(({Component:s})=>[Fe(Ex,{name:"fade",mode:"out-in"},{default:jl(()=>[(Kt(),Mc(Tp(s)))]),_:2},1024)]),_:1})])}const p2=kc(h2,[["render",g2]]);/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const js=typeof document<"u";function N0(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function x2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&N0(t.default)}const re=Object.assign;function Tl(t,e){const n={};for(const s in e){const o=e[s];n[s]=Zn(o)?o.map(t):t(o)}return n}const Vr=()=>{},Zn=Array.isArray;function uf(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const M0=/#/g,m2=/&/g,b2=/\//g,w2=/=/g,y2=/\?/g,D0=/\+/g,_2=/%5B/g,C2=/%5D/g,P0=/%5E/g,A2=/%60/g,k0=/%7B/g,E2=/%7C/g,B0=/%7D/g,I2=/%20/g;function Bc(t){return t==null?"":encodeURI(""+t).replace(E2,"|").replace(_2,"[").replace(C2,"]")}function v2(t){return Bc(t).replace(k0,"{").replace(B0,"}").replace(P0,"^")}function ec(t){return Bc(t).replace(D0,"%2B").replace(I2,"+").replace(M0,"%23").replace(m2,"%26").replace(A2,"`").replace(k0,"{").replace(B0,"}").replace(P0,"^")}function S2(t){return ec(t).replace(w2,"%3D")}function T2(t){return Bc(t).replace(M0,"%23").replace(y2,"%3F")}function O2(t){return T2(t).replace(b2,"%2F")}function no(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const R2=/\/$/,N2=t=>t.replace(R2,"");function Ol(t,e,n="/"){let s,o={},l="",f="";const d=e.indexOf("#");let p=e.indexOf("?");return p=d>=0&&p>d?-1:p,p>=0&&(s=e.slice(0,p),l=e.slice(p,d>0?d:e.length),o=t(l.slice(1))),d>=0&&(s=s||e.slice(0,d),f=e.slice(d,e.length)),s=k2(s??e,n),{fullPath:s+l+f,path:s,query:o,hash:no(f)}}function M2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ff(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function D2(t,e,n){const s=e.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&er(e.matched[s],n.matched[o])&&L0(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function er(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function L0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!P2(t[n],e[n]))return!1;return!0}function P2(t,e){return Zn(t)?hf(t,e):Zn(e)?hf(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function hf(t,e){return Zn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function k2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let l=n.length-1,f,d;for(f=0;f<s.length;f++)if(d=s[f],d!==".")if(d==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+s.slice(f).join("/")}const Li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let nc=function(t){return t.pop="pop",t.push="push",t}({}),Rl=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function B2(t){if(!t)if(js){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),N2(t)}const L2=/^[^#]+#/;function F2(t,e){return t.replace(L2,"#")+e}function U2(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ga=()=>({left:window.scrollX,top:window.scrollY});function H2(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=U2(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function df(t,e){return(history.state?history.state.position-e:-1)+t}const ic=new Map;function V2(t,e){ic.set(t,e)}function W2(t){const e=ic.get(t);return ic.delete(t),e}function G2(t){return typeof t=="string"||t&&typeof t=="object"}function F0(t){return typeof t=="string"||typeof t=="symbol"}let Re=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const U0=Symbol("");Re.MATCHER_NOT_FOUND+"",Re.NAVIGATION_GUARD_REDIRECT+"",Re.NAVIGATION_ABORTED+"",Re.NAVIGATION_CANCELLED+"",Re.NAVIGATION_DUPLICATED+"";function nr(t,e){return re(new Error,{type:t,[U0]:!0},e)}function gi(t,e){return t instanceof Error&&U0 in t&&(e==null||!!(t.type&e))}const z2=["params","query","hash"];function j2(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of z2)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function X2(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const o=n[s].replace(D0," "),l=o.indexOf("="),f=no(l<0?o:o.slice(0,l)),d=l<0?null:no(o.slice(l+1));if(f in e){let p=e[f];Zn(p)||(p=e[f]=[p]),p.push(d)}else e[f]=d}return e}function gf(t){let e="";for(let n in t){const s=t[n];if(n=S2(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zn(s)?s.map(o=>o&&ec(o)):[s&&ec(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Y2(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Zn(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return e}const K2=Symbol(""),pf=Symbol(""),za=Symbol(""),H0=Symbol(""),sc=Symbol("");function wr(){let t=[];function e(s){return t.push(s),()=>{const o=t.indexOf(s);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function zi(t,e,n,s,o,l=f=>f()){const f=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((d,p)=>{const x=C=>{C===!1?p(nr(Re.NAVIGATION_ABORTED,{from:n,to:e})):C instanceof Error?p(C):G2(C)?p(nr(Re.NAVIGATION_GUARD_REDIRECT,{from:e,to:C})):(f&&s.enterCallbacks[o]===f&&typeof C=="function"&&f.push(C),d())},b=l(()=>t.call(s&&s.instances[o],e,n,x));let y=Promise.resolve(b);t.length<3&&(y=y.then(x)),y.catch(C=>p(C))})}function Nl(t,e,n,s,o=l=>l()){const l=[];for(const f of t)for(const d in f.components){let p=f.components[d];if(!(e!=="beforeRouteEnter"&&!f.instances[d]))if(N0(p)){const x=(p.__vccOpts||p)[e];x&&l.push(zi(x,n,s,f,d,o))}else{let x=p();l.push(()=>x.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${d}" at "${f.path}"`);const y=x2(b)?b.default:b;f.mods[d]=b,f.components[d]=y;const C=(y.__vccOpts||y)[e];return C&&zi(C,n,s,f,d,o)()}))}}return l}function Z2(t,e){const n=[],s=[],o=[],l=Math.max(e.matched.length,t.matched.length);for(let f=0;f<l;f++){const d=e.matched[f];d&&(t.matched.find(x=>er(x,d))?s.push(d):n.push(d));const p=t.matched[f];p&&(e.matched.find(x=>er(x,p))||o.push(p))}return[n,s,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let q2=()=>location.protocol+"//"+location.host;function V0(t,e){const{pathname:n,search:s,hash:o}=e,l=t.indexOf("#");if(l>-1){let f=o.includes(t.slice(l))?t.slice(l).length:1,d=o.slice(f);return d[0]!=="/"&&(d="/"+d),ff(d,"")}return ff(n,t)+s+o}function Q2(t,e,n,s){let o=[],l=[],f=null;const d=({state:C})=>{const A=V0(t,location),S=n.value,O=e.value;let D=0;if(C){if(n.value=A,e.value=C,f&&f===S){f=null;return}D=O?C.position-O.position:0}else s(A);o.forEach(U=>{U(n.value,S,{delta:D,type:nc.pop,direction:D?D>0?Rl.forward:Rl.back:Rl.unknown})})};function p(){f=n.value}function x(C){o.push(C);const A=()=>{const S=o.indexOf(C);S>-1&&o.splice(S,1)};return l.push(A),A}function b(){if(document.visibilityState==="hidden"){const{history:C}=window;if(!C.state)return;C.replaceState(re({},C.state,{scroll:Ga()}),"")}}function y(){for(const C of l)C();l=[],window.removeEventListener("popstate",d),window.removeEventListener("pagehide",b),document.removeEventListener("visibilitychange",b)}return window.addEventListener("popstate",d),window.addEventListener("pagehide",b),document.addEventListener("visibilitychange",b),{pauseListeners:p,listen:x,destroy:y}}function xf(t,e,n,s=!1,o=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:o?Ga():null}}function J2(t){const{history:e,location:n}=window,s={value:V0(t,n)},o={value:e.state};o.value||l(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function l(p,x,b){const y=t.indexOf("#"),C=y>-1?(n.host&&document.querySelector("base")?t:t.slice(y))+p:q2()+t+p;try{e[b?"replaceState":"pushState"](x,"",C),o.value=x}catch(A){console.error(A),n[b?"replace":"assign"](C)}}function f(p,x){l(p,re({},e.state,xf(o.value.back,p,o.value.forward,!0),x,{position:o.value.position}),!0),s.value=p}function d(p,x){const b=re({},o.value,e.state,{forward:p,scroll:Ga()});l(b.current,b,!0),l(p,re({},xf(s.value,p,null),{position:b.position+1},x),!1),s.value=p}return{location:s,state:o,push:d,replace:f}}function $2(t){t=B2(t);const e=J2(t),n=Q2(t,e.state,e.location,e.replace);function s(l,f=!0){f||n.pauseListeners(),history.go(l)}const o=re({location:"",base:t,go:s,createHref:F2.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}let bs=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var Ve=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(Ve||{});const tm={type:bs.Static,value:""},em=/[a-zA-Z0-9_]/;function nm(t){if(!t)return[[]];if(t==="/")return[[tm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(A){throw new Error(`ERR (${n})/"${x}": ${A}`)}let n=Ve.Static,s=n;const o=[];let l;function f(){l&&o.push(l),l=[]}let d=0,p,x="",b="";function y(){x&&(n===Ve.Static?l.push({type:bs.Static,value:x}):n===Ve.Param||n===Ve.ParamRegExp||n===Ve.ParamRegExpEnd?(l.length>1&&(p==="*"||p==="+")&&e(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),l.push({type:bs.Param,value:x,regexp:b,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):e("Invalid state to consume buffer"),x="")}function C(){x+=p}for(;d<t.length;){if(p=t[d++],p==="\\"&&n!==Ve.ParamRegExp){s=n,n=Ve.EscapeNext;continue}switch(n){case Ve.Static:p==="/"?(x&&y(),f()):p===":"?(y(),n=Ve.Param):C();break;case Ve.EscapeNext:C(),n=s;break;case Ve.Param:p==="("?n=Ve.ParamRegExp:em.test(p)?C():(y(),n=Ve.Static,p!=="*"&&p!=="?"&&p!=="+"&&d--);break;case Ve.ParamRegExp:p===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+p:n=Ve.ParamRegExpEnd:b+=p;break;case Ve.ParamRegExpEnd:y(),n=Ve.Static,p!=="*"&&p!=="?"&&p!=="+"&&d--,b="";break;default:e("Unknown state");break}}return n===Ve.ParamRegExp&&e(`Unfinished custom RegExp for param "${x}"`),y(),f(),o}const mf="[^/]+?",im={sensitive:!1,strict:!1,start:!0,end:!0};var hn=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(hn||{});const sm=/[.+*?^${}()[\]/\\]/g;function rm(t,e){const n=re({},im,e),s=[];let o=n.start?"^":"";const l=[];for(const x of t){const b=x.length?[]:[hn.Root];n.strict&&!x.length&&(o+="/");for(let y=0;y<x.length;y++){const C=x[y];let A=hn.Segment+(n.sensitive?hn.BonusCaseSensitive:0);if(C.type===bs.Static)y||(o+="/"),o+=C.value.replace(sm,"\\$&"),A+=hn.Static;else if(C.type===bs.Param){const{value:S,repeatable:O,optional:D,regexp:U}=C;l.push({name:S,repeatable:O,optional:D});const V=U||mf;if(V!==mf){A+=hn.BonusCustomRegExp;try{`${V}`}catch(G){throw new Error(`Invalid custom RegExp for param "${S}" (${V}): `+G.message)}}let k=O?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;y||(k=D&&x.length<2?`(?:/${k})`:"/"+k),D&&(k+="?"),o+=k,A+=hn.Dynamic,D&&(A+=hn.BonusOptional),O&&(A+=hn.BonusRepeatable),V===".*"&&(A+=hn.BonusWildcard)}b.push(A)}s.push(b)}if(n.strict&&n.end){const x=s.length-1;s[x][s[x].length-1]+=hn.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const f=new RegExp(o,n.sensitive?"":"i");function d(x){const b=x.match(f),y={};if(!b)return null;for(let C=1;C<b.length;C++){const A=b[C]||"",S=l[C-1];y[S.name]=A&&S.repeatable?A.split("/"):A}return y}function p(x){let b="",y=!1;for(const C of t){(!y||!b.endsWith("/"))&&(b+="/"),y=!1;for(const A of C)if(A.type===bs.Static)b+=A.value;else if(A.type===bs.Param){const{value:S,repeatable:O,optional:D}=A,U=S in x?x[S]:"";if(Zn(U)&&!O)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const V=Zn(U)?U.join("/"):U;if(!V)if(D)C.length<2&&(b.endsWith("/")?b=b.slice(0,-1):y=!0);else throw new Error(`Missing required param "${S}"`);b+=V}}return b||"/"}return{re:f,score:s,keys:l,parse:d,stringify:p}}function om(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===hn.Static+hn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===hn.Static+hn.Segment?1:-1:0}function W0(t,e){let n=0;const s=t.score,o=e.score;for(;n<s.length&&n<o.length;){const l=om(s[n],o[n]);if(l)return l;n++}if(Math.abs(o.length-s.length)===1){if(bf(s))return 1;if(bf(o))return-1}return o.length-s.length}function bf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const am={strict:!1,end:!0,sensitive:!1};function lm(t,e,n){const s=rm(nm(t.path),n),o=re(s,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function cm(t,e){const n=[],s=new Map;e=uf(am,e);function o(y){return s.get(y)}function l(y,C,A){const S=!A,O=yf(y);O.aliasOf=A&&A.record;const D=uf(e,y),U=[O];if("alias"in y){const G=typeof y.alias=="string"?[y.alias]:y.alias;for(const j of G)U.push(yf(re({},O,{components:A?A.record.components:O.components,path:j,aliasOf:A?A.record:O})))}let V,k;for(const G of U){const{path:j}=G;if(C&&j[0]!=="/"){const tt=C.record.path,H=tt[tt.length-1]==="/"?"":"/";G.path=C.record.path+(j&&H+j)}if(V=lm(G,C,D),A?A.alias.push(V):(k=k||V,k!==V&&k.alias.push(V),S&&y.name&&!_f(V)&&f(y.name)),G0(V)&&p(V),O.children){const tt=O.children;for(let H=0;H<tt.length;H++)l(tt[H],V,A&&A.children[H])}A=A||V}return k?()=>{f(k)}:Vr}function f(y){if(F0(y)){const C=s.get(y);C&&(s.delete(y),n.splice(n.indexOf(C),1),C.children.forEach(f),C.alias.forEach(f))}else{const C=n.indexOf(y);C>-1&&(n.splice(C,1),y.record.name&&s.delete(y.record.name),y.children.forEach(f),y.alias.forEach(f))}}function d(){return n}function p(y){const C=hm(y,n);n.splice(C,0,y),y.record.name&&!_f(y)&&s.set(y.record.name,y)}function x(y,C){let A,S={},O,D;if("name"in y&&y.name){if(A=s.get(y.name),!A)throw nr(Re.MATCHER_NOT_FOUND,{location:y});D=A.record.name,S=re(wf(C.params,A.keys.filter(k=>!k.optional).concat(A.parent?A.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),y.params&&wf(y.params,A.keys.map(k=>k.name))),O=A.stringify(S)}else if(y.path!=null)O=y.path,A=n.find(k=>k.re.test(O)),A&&(S=A.parse(O),D=A.record.name);else{if(A=C.name?s.get(C.name):n.find(k=>k.re.test(C.path)),!A)throw nr(Re.MATCHER_NOT_FOUND,{location:y,currentLocation:C});D=A.record.name,S=re({},C.params,y.params),O=A.stringify(S)}const U=[];let V=A;for(;V;)U.unshift(V.record),V=V.parent;return{name:D,path:O,params:S,matched:U,meta:fm(U)}}t.forEach(y=>l(y));function b(){n.length=0,s.clear()}return{addRoute:l,resolve:x,removeRoute:f,clearRoutes:b,getRoutes:d,getRecordMatcher:o}}function wf(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function yf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:um(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function um(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function _f(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fm(t){return t.reduce((e,n)=>re(e,n.meta),{})}function hm(t,e){let n=0,s=e.length;for(;n!==s;){const l=n+s>>1;W0(t,e[l])<0?s=l:n=l+1}const o=dm(t);return o&&(s=e.lastIndexOf(o,s-1)),s}function dm(t){let e=t;for(;e=e.parent;)if(G0(e)&&W0(t,e)===0)return e}function G0({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Cf(t){const e=Xn(za),n=Xn(H0),s=Ae(()=>{const p=me(t.to);return e.resolve(p)}),o=Ae(()=>{const{matched:p}=s.value,{length:x}=p,b=p[x-1],y=n.matched;if(!b||!y.length)return-1;const C=y.findIndex(er.bind(null,b));if(C>-1)return C;const A=Af(p[x-2]);return x>1&&Af(b)===A&&y[y.length-1].path!==A?y.findIndex(er.bind(null,p[x-2])):C}),l=Ae(()=>o.value>-1&&bm(n.params,s.value.params)),f=Ae(()=>o.value>-1&&o.value===n.matched.length-1&&L0(n.params,s.value.params));function d(p={}){if(mm(p)){const x=e[me(t.replace)?"replace":"push"](me(t.to)).catch(Vr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>x),x}return Promise.resolve()}return{route:s,href:Ae(()=>s.value.href),isActive:l,isExactActive:f,navigate:d}}function gm(t){return t.length===1?t[0]:t}const pm=ka({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cf,setup(t,{slots:e}){const n=ho(Cf(t)),{options:s}=Xn(za),o=Ae(()=>({[Ef(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ef(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=e.default&&gm(e.default(n));return t.custom?l:tr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},l)}}}),xm=pm;function mm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function bm(t,e){for(const n in e){const s=e[n],o=t[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Zn(o)||o.length!==s.length||s.some((l,f)=>l.valueOf()!==o[f].valueOf()))return!1}return!0}function Af(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ef=(t,e,n)=>t??e??n,wm=ka({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Xn(sc),o=Ae(()=>t.route||s.value),l=Xn(pf,0),f=Ae(()=>{let x=me(l);const{matched:b}=o.value;let y;for(;(y=b[x])&&!y.components;)x++;return x}),d=Ae(()=>o.value.matched[f.value]);Ko(pf,Ae(()=>f.value+1)),Ko(K2,d),Ko(sc,o);const p=Me();return As(()=>[p.value,d.value,t.name],([x,b,y],[C,A,S])=>{b&&(b.instances[y]=x,A&&A!==b&&x&&x===C&&(b.leaveGuards.size||(b.leaveGuards=A.leaveGuards),b.updateGuards.size||(b.updateGuards=A.updateGuards))),x&&b&&(!A||!er(b,A)||!C)&&(b.enterCallbacks[y]||[]).forEach(O=>O(x))},{flush:"post"}),()=>{const x=o.value,b=t.name,y=d.value,C=y&&y.components[b];if(!C)return If(n.default,{Component:C,route:x});const A=y.props[b],S=A?A===!0?x.params:typeof A=="function"?A(x):A:null,D=tr(C,re({},S,e,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(y.instances[b]=null)},ref:p}));return If(n.default,{Component:D,route:x})||D}}});function If(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ym=wm;function _m(t){const e=cm(t.routes,t),n=t.parseQuery||X2,s=t.stringifyQuery||gf,o=t.history,l=wr(),f=wr(),d=wr(),p=Tc(Li);let x=Li;js&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=Tl.bind(null,nt=>""+nt),y=Tl.bind(null,O2),C=Tl.bind(null,no);function A(nt,dt){let mt,Et;return F0(nt)?(mt=e.getRecordMatcher(nt),Et=dt):Et=nt,e.addRoute(Et,mt)}function S(nt){const dt=e.getRecordMatcher(nt);dt&&e.removeRoute(dt)}function O(){return e.getRoutes().map(nt=>nt.record)}function D(nt){return!!e.getRecordMatcher(nt)}function U(nt,dt){if(dt=re({},dt||p.value),typeof nt=="string"){const W=Ol(n,nt,dt.path),et=e.resolve({path:W.path},dt),st=o.createHref(W.fullPath);return re(W,et,{params:C(et.params),hash:no(W.hash),redirectedFrom:void 0,href:st})}let mt;if(nt.path!=null)mt=re({},nt,{path:Ol(n,nt.path,dt.path).path});else{const W=re({},nt.params);for(const et in W)W[et]==null&&delete W[et];mt=re({},nt,{params:y(W)}),dt.params=y(dt.params)}const Et=e.resolve(mt,dt),Nt=nt.hash||"";Et.params=b(C(Et.params));const M=M2(s,re({},nt,{hash:v2(Nt),path:Et.path})),N=o.createHref(M);return re({fullPath:M,hash:Nt,query:s===gf?Y2(nt.query):nt.query||{}},Et,{redirectedFrom:void 0,href:N})}function V(nt){return typeof nt=="string"?Ol(n,nt,p.value.path):re({},nt)}function k(nt,dt){if(x!==nt)return nr(Re.NAVIGATION_CANCELLED,{from:dt,to:nt})}function G(nt){return H(nt)}function j(nt){return G(re(V(nt),{replace:!0}))}function tt(nt,dt){const mt=nt.matched[nt.matched.length-1];if(mt&&mt.redirect){const{redirect:Et}=mt;let Nt=typeof Et=="function"?Et(nt,dt):Et;return typeof Nt=="string"&&(Nt=Nt.includes("?")||Nt.includes("#")?Nt=V(Nt):{path:Nt},Nt.params={}),re({query:nt.query,hash:nt.hash,params:Nt.path!=null?{}:nt.params},Nt)}}function H(nt,dt){const mt=x=U(nt),Et=p.value,Nt=nt.state,M=nt.force,N=nt.replace===!0,W=tt(mt,Et);if(W)return H(re(V(W),{state:typeof W=="object"?re({},Nt,W.state):Nt,force:M,replace:N}),dt||mt);const et=mt;et.redirectedFrom=dt;let st;return!M&&D2(s,Et,mt)&&(st=nr(Re.NAVIGATION_DUPLICATED,{to:et,from:Et}),We(Et,Et,!0,!1)),(st?Promise.resolve(st):pt(et,Et)).catch($=>gi($)?gi($,Re.NAVIGATION_GUARD_REDIRECT)?$:Ee($):Ft($,et,Et)).then($=>{if($){if(gi($,Re.NAVIGATION_GUARD_REDIRECT))return H(re({replace:N},V($.to),{state:typeof $.to=="object"?re({},Nt,$.to.state):Nt,force:M}),dt||et)}else $=Z(et,Et,!0,N,Nt);return ht(et,Et,$),$})}function J(nt,dt){const mt=k(nt,dt);return mt?Promise.reject(mt):Promise.resolve()}function F(nt){const dt=ne.values().next().value;return dt&&typeof dt.runWithContext=="function"?dt.runWithContext(nt):nt()}function pt(nt,dt){let mt;const[Et,Nt,M]=Z2(nt,dt);mt=Nl(Et.reverse(),"beforeRouteLeave",nt,dt);for(const W of Et)W.leaveGuards.forEach(et=>{mt.push(zi(et,nt,dt))});const N=J.bind(null,nt,dt);return mt.push(N),bt(mt).then(()=>{mt=[];for(const W of l.list())mt.push(zi(W,nt,dt));return mt.push(N),bt(mt)}).then(()=>{mt=Nl(Nt,"beforeRouteUpdate",nt,dt);for(const W of Nt)W.updateGuards.forEach(et=>{mt.push(zi(et,nt,dt))});return mt.push(N),bt(mt)}).then(()=>{mt=[];for(const W of M)if(W.beforeEnter)if(Zn(W.beforeEnter))for(const et of W.beforeEnter)mt.push(zi(et,nt,dt));else mt.push(zi(W.beforeEnter,nt,dt));return mt.push(N),bt(mt)}).then(()=>(nt.matched.forEach(W=>W.enterCallbacks={}),mt=Nl(M,"beforeRouteEnter",nt,dt,F),mt.push(N),bt(mt))).then(()=>{mt=[];for(const W of f.list())mt.push(zi(W,nt,dt));return mt.push(N),bt(mt)}).catch(W=>gi(W,Re.NAVIGATION_CANCELLED)?W:Promise.reject(W))}function ht(nt,dt,mt){d.list().forEach(Et=>F(()=>Et(nt,dt,mt)))}function Z(nt,dt,mt,Et,Nt){const M=k(nt,dt);if(M)return M;const N=dt===Li,W=js?history.state:{};mt&&(Et||N?o.replace(nt.fullPath,re({scroll:N&&W&&W.scroll},Nt)):o.push(nt.fullPath,Nt)),p.value=nt,We(nt,dt,mt,N),Ee()}let xt;function Rt(){xt||(xt=o.listen((nt,dt,mt)=>{if(!Ke.listening)return;const Et=U(nt),Nt=tt(Et,Ke.currentRoute.value);if(Nt){H(re(Nt,{replace:!0,force:!0}),Et).catch(Vr);return}x=Et;const M=p.value;js&&V2(df(M.fullPath,mt.delta),Ga()),pt(Et,M).catch(N=>gi(N,Re.NAVIGATION_ABORTED|Re.NAVIGATION_CANCELLED)?N:gi(N,Re.NAVIGATION_GUARD_REDIRECT)?(H(re(V(N.to),{force:!0}),Et).then(W=>{gi(W,Re.NAVIGATION_ABORTED|Re.NAVIGATION_DUPLICATED)&&!mt.delta&&mt.type===nc.pop&&o.go(-1,!1)}).catch(Vr),Promise.reject()):(mt.delta&&o.go(-mt.delta,!1),Ft(N,Et,M))).then(N=>{N=N||Z(Et,M,!1),N&&(mt.delta&&!gi(N,Re.NAVIGATION_CANCELLED)?o.go(-mt.delta,!1):mt.type===nc.pop&&gi(N,Re.NAVIGATION_ABORTED|Re.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),ht(Et,M,N)}).catch(Vr)}))}let X=wr(),Ct=wr(),lt;function Ft(nt,dt,mt){Ee(nt);const Et=Ct.list();return Et.length?Et.forEach(Nt=>Nt(nt,dt,mt)):console.error(nt),Promise.reject(nt)}function ve(){return lt&&p.value!==Li?Promise.resolve():new Promise((nt,dt)=>{X.add([nt,dt])})}function Ee(nt){return lt||(lt=!nt,Rt(),X.list().forEach(([dt,mt])=>nt?mt(nt):dt()),X.reset()),nt}function We(nt,dt,mt,Et){const{scrollBehavior:Nt}=t;if(!js||!Nt)return Promise.resolve();const M=!mt&&W2(df(nt.fullPath,0))||(Et||!mt)&&history.state&&history.state.scroll||null;return po().then(()=>Nt(nt,dt,M)).then(N=>N&&H2(N)).catch(N=>Ft(N,nt,dt))}const zt=nt=>o.go(nt);let Le;const ne=new Set,Ke={currentRoute:p,listening:!0,addRoute:A,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:O,resolve:U,options:t,push:G,replace:j,go:zt,back:()=>zt(-1),forward:()=>zt(1),beforeEach:l.add,beforeResolve:f.add,afterEach:d.add,onError:Ct.add,isReady:ve,install(nt){nt.component("RouterLink",xm),nt.component("RouterView",ym),nt.config.globalProperties.$router=Ke,Object.defineProperty(nt.config.globalProperties,"$route",{enumerable:!0,get:()=>me(p)}),js&&!Le&&p.value===Li&&(Le=!0,G(o.location).catch(Et=>{}));const dt={};for(const Et in Li)Object.defineProperty(dt,Et,{get:()=>p.value[Et],enumerable:!0});nt.provide(za,Ke),nt.provide(H0,kd(dt)),nt.provide(sc,p);const mt=nt.unmount;ne.add(nt),nt.unmount=function(){ne.delete(nt),ne.size<1&&(x=Li,xt&&xt(),xt=null,p.value=Li,Le=!1,lt=!1),mt()}}};function bt(nt){return nt.reduce((dt,mt)=>dt.then(()=>F(mt)),Promise.resolve())}return Ke}function ja(){return Xn(za)}const ar=R0("user",()=>{const t=Me({name:"",gender:"female",age:25,height:160,weight:50,activityLevel:1.2,goal:"maintain"}),e=Me({apiKey:"",theme:"dark",notifications:!0}),n=Me(!1),s=Me([]),o=Me({level:1,currentXP:0,totalXP:0,streak:0,waterIntake:0,lastLoginDate:null,dailyQuests:{date:"",items:[]}}),l=Ae(()=>!!e.value.apiKey&&!!t.value.name),f=Ae(()=>{const j=t.value.gender==="male"?5:-161;return 10*t.value.weight+6.25*t.value.height-5*t.value.age+j}),d=Ae(()=>Math.round(f.value*t.value.activityLevel)),p=Ae(()=>Math.round(t.value.weight*33)),x=Ae(()=>{let j=d.value;t.value.goal==="cut"&&(j-=500),t.value.goal==="bulk"&&(j+=300);let tt={p:30,f:30,c:40};return t.value.goal==="cut"&&(tt={p:40,f:35,c:25}),t.value.goal==="bulk"&&(tt={p:30,f:20,c:50}),{calories:j,protein:Math.round(j*(tt.p/100)/4),fat:Math.round(j*(tt.f/100)/9),carbs:Math.round(j*(tt.c/100)/4)}}),b=Ae(()=>Math.floor(100*Math.pow(1.1,o.value.level-1))),y=Ae(()=>Math.min(100,o.value.currentXP/b.value*100));function C(j){Object.assign(t.value,j)}function A(j){e.value.apiKey=j}function S(j){for(o.value.currentXP+=j,o.value.totalXP+=j;o.value.currentXP>=b.value;)o.value.currentXP-=b.value,o.value.level++,n.value=!0}function O(){n.value=!1}function D(j){o.value.waterIntake+=j,o.value.waterIntake>=p.value&&k("water")}function U(j){t.value.weight=parseFloat(j);const tt=new Date(Date.now()+8*60*60*1e3).toISOString().split("T")[0],H=s.value.findIndex(J=>J.date===tt);H!==-1?s.value[H].weight=parseFloat(j):s.value.push({date:tt,weight:parseFloat(j)})}function V(){const j=new Date(Date.now()+288e5).toISOString().split("T")[0];if(o.value.dailyQuests.date!==j){if(o.value.dailyQuests.date=j,o.value.waterIntake=0,o.value.dailyQuests.items=[{id:"login",title:"",desc:"",xp:10,completed:!1},{id:"scan",title:"",desc:" AI ",xp:50,completed:!1},{id:"protein",title:"",desc:"",xp:100,completed:!1},{id:"water",title:"",desc:` (${p.value}ml)`,xp:30,completed:!1}],o.value.lastLoginDate){const tt=new Date(o.value.lastLoginDate),H=Math.abs(new Date(j)-tt),J=Math.ceil(H/(1e3*60*60*24));J===1?o.value.streak++:J>1&&(o.value.streak=1)}else o.value.streak=1;o.value.lastLoginDate=j}}function k(j){const tt=o.value.dailyQuests.items.find(H=>H.id===j);tt&&!tt.completed&&(tt.completed=!0,S(tt.xp))}function G(){e.value.apiKey="",t.value.name=""}return{profile:t,settings:e,game:o,showLevelUpModal:n,weightHistory:s,isLoggedIn:l,bmr:f,tdee:d,dailyTargets:x,waterGoal:p,nextLevelXP:b,xpProgress:y,updateProfile:C,setApiKey:A,addXP:S,addWater:D,closeLevelUpModal:O,recordWeight:U,checkDailyReset:V,completeQuest:k,logout:G}},{persist:!0}),Lc=R0("diary",()=>{const t=Me([]),e=l=>{const f={id:Date.now(),timestamp:Date.now(),date:new Date(Date.now()+288e5).toISOString().split("T")[0],...l};t.value.push(f)},n=l=>{const f=t.value.findIndex(d=>d.id===l);f!==-1&&t.value.splice(f,1)},s=Ae(()=>{const l=new Date(Date.now()+288e5).toISOString().split("T")[0];return t.value.filter(d=>d.date===l).reduce((d,p)=>({calories:d.calories+(p.calories||0),protein:d.protein+(p.protein||0),carbs:d.carbs+(p.carbs||0),fat:d.fat+(p.fat||0)}),{calories:0,protein:0,carbs:0,fat:0})}),o=Ae(()=>[...t.value].sort((l,f)=>f.timestamp-l.timestamp));return{logs:t,addLog:e,removeLog:n,todaySummary:s,recentLogs:o}},{persist:!0}),Cm={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm animate-fade-in"},Am={class:"relative z-10 text-center transform transition-all"},Em={class:"relative flex items-center justify-center my-8"},Im={class:"text-9xl font-black text-white drop-shadow-[0_0_25px_rgba(234,179,8,0.8)] animate-scale-up"},vm={__name:"LevelUpModal",setup(t){const e=ar();return(n,s)=>me(e).showLevelUpModal?(Kt(),te("div",Cm,[s[5]||(s[5]=B("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[B("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-yellow-500/20 rounded-full blur-[100px] animate-pulse"})],-1)),B("div",Am,[s[3]||(s[3]=B("h2",{class:"text-6xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 via-orange-400 to-red-500 drop-shadow-lg animate-bounce-in"}," LEVEL UP! ",-1)),B("div",Em,[s[1]||(s[1]=B("div",{class:"absolute w-40 h-40 border-4 border-yellow-500/30 rounded-full animate-spin-slow"},null,-1)),s[2]||(s[2]=B("div",{class:"absolute w-32 h-32 border-2 border-yellow-300/50 rounded-full animate-reverse-spin"},null,-1)),B("div",Im,Bt(me(e).game.level),1)]),s[4]||(s[4]=B("p",{class:"text-2xl font-bold text-yellow-100 mb-8 animate-slide-up"},"  ",-1)),B("button",{onClick:s[0]||(s[0]=(...o)=>me(e).closeLevelUpModal&&me(e).closeLevelUpModal(...o)),class:"btn btn-lg border-none bg-gradient-to-r from-yellow-500 to-orange-600 text-black font-black text-xl px-12 rounded-full hover:scale-105 hover:shadow-[0_0_20px_rgba(234,179,8,0.6)] transition-all animate-pulse-slow"},"  ")])])):fn("",!0)}},Sm=kc(vm,[["__scopeId","data-v-542b79f9"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bo(t){return t+.5|0}const Xi=(t,e,n)=>Math.max(Math.min(t,n),e);function Sr(t){return Xi(bo(t*2.55),0,255)}function Zi(t){return Xi(bo(t*255),0,255)}function _i(t){return Xi(bo(t/2.55)/100,0,1)}function vf(t){return Xi(bo(t*100),0,100)}const Pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rc=[..."0123456789ABCDEF"],Tm=t=>rc[t&15],Om=t=>rc[(t&240)>>4]+rc[t&15],Do=t=>(t&240)>>4===(t&15),Rm=t=>Do(t.r)&&Do(t.g)&&Do(t.b)&&Do(t.a);function Nm(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Pn[t[1]]*17,g:255&Pn[t[2]]*17,b:255&Pn[t[3]]*17,a:e===5?Pn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Pn[t[1]]<<4|Pn[t[2]],g:Pn[t[3]]<<4|Pn[t[4]],b:Pn[t[5]]<<4|Pn[t[6]],a:e===9?Pn[t[7]]<<4|Pn[t[8]]:255})),n}const Mm=(t,e)=>t<255?e(t):"";function Dm(t){var e=Rm(t)?Tm:Om;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Mm(t.a,e):void 0}const Pm=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function z0(t,e,n){const s=e*Math.min(n,1-n),o=(l,f=(l+t/30)%12)=>n-s*Math.max(Math.min(f-3,9-f,1),-1);return[o(0),o(8),o(4)]}function km(t,e,n){const s=(o,l=(o+t/60)%6)=>n-n*e*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function Bm(t,e,n){const s=z0(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)s[o]*=1-e-n,s[o]+=e;return s}function Lm(t,e,n,s,o){return t===o?(e-n)/s+(e<n?6:0):e===o?(n-t)/s+2:(t-e)/s+4}function Fc(t){const n=t.r/255,s=t.g/255,o=t.b/255,l=Math.max(n,s,o),f=Math.min(n,s,o),d=(l+f)/2;let p,x,b;return l!==f&&(b=l-f,x=d>.5?b/(2-l-f):b/(l+f),p=Lm(n,s,o,b,l),p=p*60+.5),[p|0,x||0,d]}function Uc(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Zi)}function Hc(t,e,n){return Uc(z0,t,e,n)}function Fm(t,e,n){return Uc(Bm,t,e,n)}function Um(t,e,n){return Uc(km,t,e,n)}function j0(t){return(t%360+360)%360}function Hm(t){const e=Pm.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Sr(+e[5]):Zi(+e[5]));const o=j0(+e[2]),l=+e[3]/100,f=+e[4]/100;return e[1]==="hwb"?s=Fm(o,l,f):e[1]==="hsv"?s=Um(o,l,f):s=Hc(o,l,f),{r:s[0],g:s[1],b:s[2],a:n}}function Vm(t,e){var n=Fc(t);n[0]=j0(n[0]+e),n=Hc(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Wm(t){if(!t)return;const e=Fc(t),n=e[0],s=vf(e[1]),o=vf(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${o}%, ${_i(t.a)})`:`hsl(${n}, ${s}%, ${o}%)`}const Sf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Tf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Gm(){const t={},e=Object.keys(Tf),n=Object.keys(Sf);let s,o,l,f,d;for(s=0;s<e.length;s++){for(f=d=e[s],o=0;o<n.length;o++)l=n[o],d=d.replace(l,Sf[l]);l=parseInt(Tf[f],16),t[d]=[l>>16&255,l>>8&255,l&255]}return t}let Po;function zm(t){Po||(Po=Gm(),Po.transparent=[0,0,0,0]);const e=Po[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jm=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Xm(t){const e=jm.exec(t);let n=255,s,o,l;if(e){if(e[7]!==s){const f=+e[7];n=e[8]?Sr(f):Xi(f*255,0,255)}return s=+e[1],o=+e[3],l=+e[5],s=255&(e[2]?Sr(s):Xi(s,0,255)),o=255&(e[4]?Sr(o):Xi(o,0,255)),l=255&(e[6]?Sr(l):Xi(l,0,255)),{r:s,g:o,b:l,a:n}}}function Ym(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_i(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ml=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Vs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Km(t,e,n){const s=Vs(_i(t.r)),o=Vs(_i(t.g)),l=Vs(_i(t.b));return{r:Zi(Ml(s+n*(Vs(_i(e.r))-s))),g:Zi(Ml(o+n*(Vs(_i(e.g))-o))),b:Zi(Ml(l+n*(Vs(_i(e.b))-l))),a:t.a+n*(e.a-t.a)}}function ko(t,e,n){if(t){let s=Fc(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Hc(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function X0(t,e){return t&&Object.assign(e||{},t)}function Of(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Zi(t[3]))):(e=X0(t,{r:0,g:0,b:0,a:1}),e.a=Zi(e.a)),e}function Zm(t){return t.charAt(0)==="r"?Xm(t):Hm(t)}class io{constructor(e){if(e instanceof io)return e;const n=typeof e;let s;n==="object"?s=Of(e):n==="string"&&(s=Nm(e)||zm(e)||Zm(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=X0(this._rgb);return e&&(e.a=_i(e.a)),e}set rgb(e){this._rgb=Of(e)}rgbString(){return this._valid?Ym(this._rgb):void 0}hexString(){return this._valid?Dm(this._rgb):void 0}hslString(){return this._valid?Wm(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,o=e.rgb;let l;const f=n===l?.5:n,d=2*f-1,p=s.a-o.a,x=((d*p===-1?d:(d+p)/(1+d*p))+1)/2;l=1-x,s.r=255&x*s.r+l*o.r+.5,s.g=255&x*s.g+l*o.g+.5,s.b=255&x*s.b+l*o.b+.5,s.a=f*s.a+(1-f)*o.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Km(this._rgb,e._rgb,n)),this}clone(){return new io(this.rgb)}alpha(e){return this._rgb.a=Zi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=bo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ko(this._rgb,2,e),this}darken(e){return ko(this._rgb,2,-e),this}saturate(e){return ko(this._rgb,1,e),this}desaturate(e){return ko(this._rgb,1,-e),this}rotate(e){return Vm(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pi(){}const qm=(()=>{let t=0;return()=>t++})();function be(t){return t==null}function je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Un(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ii(t,e){return Un(t)?t:e}function Zt(t,e){return typeof t>"u"?e:t}const Qm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ce(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function le(t,e,n,s){let o,l,f;if(je(t))for(l=t.length,o=0;o<l;o++)e.call(n,t[o],o);else if(ee(t))for(f=Object.keys(t),l=f.length,o=0;o<l;o++)e.call(n,t[f[o]],f[o])}function ga(t,e){let n,s,o,l;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(o=t[n],l=e[n],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function pa(t){if(je(t))return t.map(pa);if(ee(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let o=0;for(;o<s;++o)e[n[o]]=pa(t[n[o]]);return e}return t}function Y0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Jm(t,e,n,s){if(!Y0(t))return;const o=e[t],l=n[t];ee(o)&&ee(l)?so(o,l,s):e[t]=pa(l)}function so(t,e,n){const s=je(e)?e:[e],o=s.length;if(!ee(t))return t;n=n||{};const l=n.merger||Jm;let f;for(let d=0;d<o;++d){if(f=s[d],!ee(f))continue;const p=Object.keys(f);for(let x=0,b=p.length;x<b;++x)l(p[x],t,f,n)}return t}function Wr(t,e){return so(t,e,{merger:$m})}function $m(t,e,n){if(!Y0(t))return;const s=e[t],o=n[t];ee(s)&&ee(o)?Wr(s,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pa(o))}const Rf={"":t=>t,x:t=>t.x,y:t=>t.y};function tb(t){const e=t.split("."),n=[];let s="";for(const o of e)s+=o,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function eb(t){const e=tb(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function xa(t,e){return(Rf[e]||(Rf[e]=eb(e)))(t)}function Vc(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ma=t=>typeof t<"u",Ji=t=>typeof t=="function",Nf=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function nb(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xe=Math.PI,ui=2*Xe,ib=ui+Xe,ba=Number.POSITIVE_INFINITY,sb=Xe/180,zn=Xe/2,cs=Xe/4,Mf=Xe*2/3,K0=Math.log10,ir=Math.sign;function Gr(t,e,n){return Math.abs(t-e)<n}function Df(t){const e=Math.round(t);t=Gr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(K0(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function rb(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((o,l)=>o-l).pop(),e}function ob(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ro(t){return!ob(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ab(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function lb(t,e,n){let s,o,l;for(s=0,o=t.length;s<o;s++)l=t[s][n],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function ws(t){return t*(Xe/180)}function cb(t){return t*(180/Xe)}function Pf(t){if(!Un(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ub(t,e){const n=e.x-t.x,s=e.y-t.y,o=Math.sqrt(n*n+s*s);let l=Math.atan2(s,n);return l<-.5*Xe&&(l+=ui),{angle:l,distance:o}}function oc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fb(t,e){return(t-e+ib)%ui-Xe}function Hi(t){return(t%ui+ui)%ui}function Z0(t,e,n,s){const o=Hi(t),l=Hi(e),f=Hi(n),d=Hi(l-o),p=Hi(f-o),x=Hi(o-l),b=Hi(o-f);return o===l||o===f||s&&l===f||d>p&&x<b}function Bn(t,e,n){return Math.max(e,Math.min(n,t))}function hb(t){return Bn(t,-32768,32767)}function Tr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Wc(t,e,n){n=n||(f=>t[f]<e);let s=t.length-1,o=0,l;for(;s-o>1;)l=o+s>>1,n(l)?o=l:s=l;return{lo:o,hi:s}}const ys=(t,e,n,s)=>Wc(t,n,s?o=>{const l=t[o][e];return l<n||l===n&&t[o+1][e]===n}:o=>t[o][e]<n),db=(t,e,n)=>Wc(t,n,s=>t[s][e]>=n);function gb(t,e,n){let s=0,o=t.length;for(;s<o&&t[s]<e;)s++;for(;o>s&&t[o-1]>n;)o--;return s>0||o<t.length?t.slice(s,o):t}const q0=["push","pop","shift","splice","unshift"];function pb(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),q0.forEach(n=>{const s="_onData"+Vc(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...l){const f=o.apply(this,l);return t._chartjs.listeners.forEach(d=>{typeof d[s]=="function"&&d[s](...l)}),f}})})}function kf(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,o=s.indexOf(e);o!==-1&&s.splice(o,1),!(s.length>0)&&(q0.forEach(l=>{delete t[l]}),delete t._chartjs)}function xb(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Q0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function J0(t,e){let n=[],s=!1;return function(...o){n=o,s||(s=!0,Q0.call(window,()=>{s=!1,t.apply(e,n)}))}}function mb(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Gc=t=>t==="start"?"left":t==="end"?"right":"center",en=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,bb=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function wb(t,e,n){const s=e.length;let o=0,l=s;if(t._sorted){const{iScale:f,vScale:d,_parsed:p}=t,x=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,b=f.axis,{min:y,max:C,minDefined:A,maxDefined:S}=f.getUserBounds();if(A){if(o=Math.min(ys(p,b,y).lo,n?s:ys(e,b,f.getPixelForValue(y)).lo),x){const O=p.slice(0,o+1).reverse().findIndex(D=>!be(D[d.axis]));o-=Math.max(0,O)}o=Bn(o,0,s-1)}if(S){let O=Math.max(ys(p,f.axis,C,!0).hi+1,n?0:ys(e,b,f.getPixelForValue(C),!0).hi+1);if(x){const D=p.slice(O-1).findIndex(U=>!be(U[d.axis]));O+=Math.max(0,D)}l=Bn(O,o,s)-o}else l=s-o}return{start:o,count:l}}function yb(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=o,!0;const l=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,o),l}const Bo=t=>t===0||t===1,Bf=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ui/n)),Lf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ui/n)+1,zr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zn)+1,easeOutSine:t=>Math.sin(t*zn),easeInOutSine:t=>-.5*(Math.cos(Xe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Bo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Bo(t)?t:Bf(t,.075,.3),easeOutElastic:t=>Bo(t)?t:Lf(t,.075,.3),easeInOutElastic(t){return Bo(t)?t:t<.5?.5*Bf(t*2,.1125,.45):.5+.5*Lf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zr.easeInBounce(t*2)*.5:zr.easeOutBounce(t*2-1)*.5+.5};function zc(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ff(t){return zc(t)?t:new io(t)}function Dl(t){return zc(t)?t:new io(t).saturate(.5).darken(.1).hexString()}const _b=["x","y","borderWidth","radius","tension"],Cb=["color","borderColor","backgroundColor"];function Ab(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Cb},numbers:{type:"number",properties:_b}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Eb(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Uf=new Map;function Ib(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Uf.get(n);return s||(s=new Intl.NumberFormat(t,e),Uf.set(n,s)),s}function $0(t,e,n){return Ib(e,n).format(t)}const vb={values(t){return je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let o,l=t;if(n.length>1){const x=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(x<1e-4||x>1e15)&&(o="scientific"),l=Sb(t,n)}const f=K0(Math.abs(l)),d=isNaN(f)?1:Math.max(Math.min(-1*Math.floor(f),20),0),p={notation:o,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(p,this.options.ticks.format),$0(t,s,p)}};function Sb(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var t1={formatters:vb};function Tb(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:t1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Is=Object.create(null),ac=Object.create(null);function jr(t,e){if(!e)return t;const n=e.split(".");for(let s=0,o=n.length;s<o;++s){const l=n[s];t=t[l]||(t[l]=Object.create(null))}return t}function Pl(t,e,n){return typeof e=="string"?so(jr(t,e),n):so(jr(t,""),e)}class Ob{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,o)=>Dl(o.backgroundColor),this.hoverBorderColor=(s,o)=>Dl(o.borderColor),this.hoverColor=(s,o)=>Dl(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Pl(this,e,n)}get(e){return jr(this,e)}describe(e,n){return Pl(ac,e,n)}override(e,n){return Pl(Is,e,n)}route(e,n,s,o){const l=jr(this,e),f=jr(this,s),d="_"+n;Object.defineProperties(l,{[d]:{value:l[n],writable:!0},[n]:{enumerable:!0,get(){const p=this[d],x=f[o];return ee(p)?Object.assign({},x,p):Zt(p,x)},set(p){this[d]=p}}})}apply(e){e.forEach(n=>n(this))}}var Be=new Ob({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ab,Eb,Tb]);function Rb(t){return!t||be(t.size)||be(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Hf(t,e,n,s,o){let l=e[o];return l||(l=e[o]=t.measureText(o).width,n.push(o)),l>s&&(s=l),s}function us(t,e,n){const s=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*s)/s+o}function Vf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function lc(t,e,n,s){e1(t,e,n,s,null)}function e1(t,e,n,s,o){let l,f,d,p,x,b,y,C;const A=e.pointStyle,S=e.rotation,O=e.radius;let D=(S||0)*sb;if(A&&typeof A=="object"&&(l=A.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(D),t.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),t.restore();return}if(!(isNaN(O)||O<=0)){switch(t.beginPath(),A){default:o?t.ellipse(n,s,o/2,O,0,0,ui):t.arc(n,s,O,0,ui),t.closePath();break;case"triangle":b=o?o/2:O,t.moveTo(n+Math.sin(D)*b,s-Math.cos(D)*O),D+=Mf,t.lineTo(n+Math.sin(D)*b,s-Math.cos(D)*O),D+=Mf,t.lineTo(n+Math.sin(D)*b,s-Math.cos(D)*O),t.closePath();break;case"rectRounded":x=O*.516,p=O-x,f=Math.cos(D+cs)*p,y=Math.cos(D+cs)*(o?o/2-x:p),d=Math.sin(D+cs)*p,C=Math.sin(D+cs)*(o?o/2-x:p),t.arc(n-y,s-d,x,D-Xe,D-zn),t.arc(n+C,s-f,x,D-zn,D),t.arc(n+y,s+d,x,D,D+zn),t.arc(n-C,s+f,x,D+zn,D+Xe),t.closePath();break;case"rect":if(!S){p=Math.SQRT1_2*O,b=o?o/2:p,t.rect(n-b,s-p,2*b,2*p);break}D+=cs;case"rectRot":y=Math.cos(D)*(o?o/2:O),f=Math.cos(D)*O,d=Math.sin(D)*O,C=Math.sin(D)*(o?o/2:O),t.moveTo(n-y,s-d),t.lineTo(n+C,s-f),t.lineTo(n+y,s+d),t.lineTo(n-C,s+f),t.closePath();break;case"crossRot":D+=cs;case"cross":y=Math.cos(D)*(o?o/2:O),f=Math.cos(D)*O,d=Math.sin(D)*O,C=Math.sin(D)*(o?o/2:O),t.moveTo(n-y,s-d),t.lineTo(n+y,s+d),t.moveTo(n+C,s-f),t.lineTo(n-C,s+f);break;case"star":y=Math.cos(D)*(o?o/2:O),f=Math.cos(D)*O,d=Math.sin(D)*O,C=Math.sin(D)*(o?o/2:O),t.moveTo(n-y,s-d),t.lineTo(n+y,s+d),t.moveTo(n+C,s-f),t.lineTo(n-C,s+f),D+=cs,y=Math.cos(D)*(o?o/2:O),f=Math.cos(D)*O,d=Math.sin(D)*O,C=Math.sin(D)*(o?o/2:O),t.moveTo(n-y,s-d),t.lineTo(n+y,s+d),t.moveTo(n+C,s-f),t.lineTo(n-C,s+f);break;case"line":f=o?o/2:Math.cos(D)*O,d=Math.sin(D)*O,t.moveTo(n-f,s-d),t.lineTo(n+f,s+d);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(D)*(o?o/2:O),s+Math.sin(D)*O);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function jc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xc(t){t.restore()}function Nb(t,e,n,s,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const l=(e.x+n.x)/2;t.lineTo(l,e.y),t.lineTo(l,n.y)}else o==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Mb(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Db(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),be(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Pb(t,e,n,s,o){if(o.strikethrough||o.underline){const l=t.measureText(s),f=e-l.actualBoundingBoxLeft,d=e+l.actualBoundingBoxRight,p=n-l.actualBoundingBoxAscent,x=n+l.actualBoundingBoxDescent,b=o.strikethrough?(p+x)/2:x;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(f,b),t.lineTo(d,b),t.stroke()}}function kb(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ao(t,e,n,s,o,l={}){const f=je(e)?e:[e],d=l.strokeWidth>0&&l.strokeColor!=="";let p,x;for(t.save(),t.font=o.string,Db(t,l),p=0;p<f.length;++p)x=f[p],l.backdrop&&kb(t,l.backdrop),d&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),be(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(x,n,s,l.maxWidth)),t.fillText(x,n,s,l.maxWidth),Pb(t,n,s,x,l),s+=Number(o.lineHeight);t.restore()}function cc(t,e){const{x:n,y:s,w:o,h:l,radius:f}=e;t.arc(n+f.topLeft,s+f.topLeft,f.topLeft,1.5*Xe,Xe,!0),t.lineTo(n,s+l-f.bottomLeft),t.arc(n+f.bottomLeft,s+l-f.bottomLeft,f.bottomLeft,Xe,zn,!0),t.lineTo(n+o-f.bottomRight,s+l),t.arc(n+o-f.bottomRight,s+l-f.bottomRight,f.bottomRight,zn,0,!0),t.lineTo(n+o,s+f.topRight),t.arc(n+o-f.topRight,s+f.topRight,f.topRight,0,-zn,!0),t.lineTo(n+f.topLeft,s)}const Bb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Lb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Fb(t,e){const n=(""+t).match(Bb);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Ub=t=>+t||0;function n1(t,e){const n={},s=ee(e),o=s?Object.keys(e):e,l=ee(t)?s?f=>Zt(t[f],t[e[f]]):f=>t[f]:()=>t;for(const f of o)n[f]=Ub(l(f));return n}function Hb(t){return n1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Xr(t){return n1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Hn(t){const e=Hb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||Be.font;let n=Zt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Zt(t.style,e.style);s&&!(""+s).match(Lb)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const o={family:Zt(t.family,e.family),lineHeight:Fb(Zt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Zt(t.weight,e.weight),string:""};return o.string=Rb(o),o}function Lo(t,e,n,s){let o,l,f;for(o=0,l=t.length;o<l;++o)if(f=t[o],f!==void 0&&f!==void 0)return f}function Vb(t,e,n){const{min:s,max:o}=t,l=Qm(e,(o-s)/2),f=(d,p)=>n&&d===0?0:d+p;return{min:f(s,-Math.abs(l)),max:f(o,l)}}function Ts(t,e){return Object.assign(Object.create(t),e)}function Yc(t,e=[""],n,s,o=()=>t[0]){const l=n||t;typeof s>"u"&&(s=o1("_fallback",t));const f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:s,_getTarget:o,override:d=>Yc([d,...t],e,l,s)};return new Proxy(f,{deleteProperty(d,p){return delete d[p],delete d._keys,delete t[0][p],!0},get(d,p){return s1(d,p,()=>Zb(p,e,t,d))},getOwnPropertyDescriptor(d,p){return Reflect.getOwnPropertyDescriptor(d._scopes[0],p)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,p){return Gf(d).includes(p)},ownKeys(d){return Gf(d)},set(d,p,x){const b=d._storage||(d._storage=o());return d[p]=b[p]=x,delete d._keys,!0}})}function sr(t,e,n,s){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:i1(t,s),setContext:l=>sr(t,l,n,s),override:l=>sr(t.override(l),e,n,s)};return new Proxy(o,{deleteProperty(l,f){return delete l[f],delete t[f],!0},get(l,f,d){return s1(l,f,()=>Gb(l,f,d))},getOwnPropertyDescriptor(l,f){return l._descriptors.allKeys?Reflect.has(t,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,f)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,f){return Reflect.has(t,f)},ownKeys(){return Reflect.ownKeys(t)},set(l,f,d){return t[f]=d,delete l[f],!0}})}function i1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:s,isScriptable:Ji(n)?n:()=>n,isIndexable:Ji(s)?s:()=>s}}const Wb=(t,e)=>t?t+Vc(e):e,Kc=(t,e)=>ee(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function s1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function Gb(t,e,n){const{_proxy:s,_context:o,_subProxy:l,_descriptors:f}=t;let d=s[e];return Ji(d)&&f.isScriptable(e)&&(d=zb(e,d,t,n)),je(d)&&d.length&&(d=jb(e,d,t,f.isIndexable)),Kc(e,d)&&(d=sr(d,o,l&&l[e],f)),d}function zb(t,e,n,s){const{_proxy:o,_context:l,_subProxy:f,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let p=e(l,f||s);return d.delete(t),Kc(t,p)&&(p=Zc(o._scopes,o,t,p)),p}function jb(t,e,n,s){const{_proxy:o,_context:l,_subProxy:f,_descriptors:d}=n;if(typeof l.index<"u"&&s(t))return e[l.index%e.length];if(ee(e[0])){const p=e,x=o._scopes.filter(b=>b!==p);e=[];for(const b of p){const y=Zc(x,o,t,b);e.push(sr(y,l,f&&f[t],d))}}return e}function r1(t,e,n){return Ji(t)?t(e,n):t}const Xb=(t,e)=>t===!0?e:typeof t=="string"?xa(e,t):void 0;function Yb(t,e,n,s,o){for(const l of e){const f=Xb(n,l);if(f){t.add(f);const d=r1(f._fallback,n,o);if(typeof d<"u"&&d!==n&&d!==s)return d}else if(f===!1&&typeof s<"u"&&n!==s)return null}return!1}function Zc(t,e,n,s){const o=e._rootScopes,l=r1(e._fallback,n,s),f=[...t,...o],d=new Set;d.add(s);let p=Wf(d,f,n,l||n,s);return p===null||typeof l<"u"&&l!==n&&(p=Wf(d,f,l,p,s),p===null)?!1:Yc(Array.from(d),[""],o,l,()=>Kb(e,n,s))}function Wf(t,e,n,s,o){for(;n;)n=Yb(t,e,n,s,o);return n}function Kb(t,e,n){const s=t._getTarget();e in s||(s[e]={});const o=s[e];return je(o)&&ee(n)?n:o||{}}function Zb(t,e,n,s){let o;for(const l of e)if(o=o1(Wb(l,t),n),typeof o<"u")return Kc(t,o)?Zc(n,s,t,o):o}function o1(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Gf(t){let e=t._keys;return e||(e=t._keys=qb(t._scopes)),e}function qb(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(s);return Array.from(e)}const Qb=Number.EPSILON||1e-14,rr=(t,e)=>e<t.length&&!t[e].skip&&t[e],a1=t=>t==="x"?"y":"x";function Jb(t,e,n,s){const o=t.skip?e:t,l=e,f=n.skip?e:n,d=oc(l,o),p=oc(f,l);let x=d/(d+p),b=p/(d+p);x=isNaN(x)?0:x,b=isNaN(b)?0:b;const y=s*x,C=s*b;return{previous:{x:l.x-y*(f.x-o.x),y:l.y-y*(f.y-o.y)},next:{x:l.x+C*(f.x-o.x),y:l.y+C*(f.y-o.y)}}}function $b(t,e,n){const s=t.length;let o,l,f,d,p,x=rr(t,0);for(let b=0;b<s-1;++b)if(p=x,x=rr(t,b+1),!(!p||!x)){if(Gr(e[b],0,Qb)){n[b]=n[b+1]=0;continue}o=n[b]/e[b],l=n[b+1]/e[b],d=Math.pow(o,2)+Math.pow(l,2),!(d<=9)&&(f=3/Math.sqrt(d),n[b]=o*f*e[b],n[b+1]=l*f*e[b])}}function tw(t,e,n="x"){const s=a1(n),o=t.length;let l,f,d,p=rr(t,0);for(let x=0;x<o;++x){if(f=d,d=p,p=rr(t,x+1),!d)continue;const b=d[n],y=d[s];f&&(l=(b-f[n])/3,d[`cp1${n}`]=b-l,d[`cp1${s}`]=y-l*e[x]),p&&(l=(p[n]-b)/3,d[`cp2${n}`]=b+l,d[`cp2${s}`]=y+l*e[x])}}function ew(t,e="x"){const n=a1(e),s=t.length,o=Array(s).fill(0),l=Array(s);let f,d,p,x=rr(t,0);for(f=0;f<s;++f)if(d=p,p=x,x=rr(t,f+1),!!p){if(x){const b=x[e]-p[e];o[f]=b!==0?(x[n]-p[n])/b:0}l[f]=d?x?ir(o[f-1])!==ir(o[f])?0:(o[f-1]+o[f])/2:o[f-1]:o[f]}$b(t,o,l),tw(t,l,e)}function Fo(t,e,n){return Math.max(Math.min(t,n),e)}function nw(t,e){let n,s,o,l,f,d=oo(t[0],e);for(n=0,s=t.length;n<s;++n)f=l,l=d,d=n<s-1&&oo(t[n+1],e),l&&(o=t[n],f&&(o.cp1x=Fo(o.cp1x,e.left,e.right),o.cp1y=Fo(o.cp1y,e.top,e.bottom)),d&&(o.cp2x=Fo(o.cp2x,e.left,e.right),o.cp2y=Fo(o.cp2y,e.top,e.bottom)))}function iw(t,e,n,s,o){let l,f,d,p;if(e.spanGaps&&(t=t.filter(x=>!x.skip)),e.cubicInterpolationMode==="monotone")ew(t,o);else{let x=s?t[t.length-1]:t[0];for(l=0,f=t.length;l<f;++l)d=t[l],p=Jb(x,d,t[Math.min(l+1,f-(s?0:1))%f],e.tension),d.cp1x=p.previous.x,d.cp1y=p.previous.y,d.cp2x=p.next.x,d.cp2y=p.next.y,x=d}e.capBezierPoints&&nw(t,n)}function qc(){return typeof window<"u"&&typeof document<"u"}function Qc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wa(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Xa=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sw(t,e){return Xa(t).getPropertyValue(e)}const rw=["top","right","bottom","left"];function Es(t,e,n){const s={};n=n?"-"+n:"";for(let o=0;o<4;o++){const l=rw[o];s[l]=parseFloat(t[e+"-"+l+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ow=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function aw(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:o,offsetY:l}=s;let f=!1,d,p;if(ow(o,l,t.target))d=o,p=l;else{const x=e.getBoundingClientRect();d=s.clientX-x.left,p=s.clientY-x.top,f=!0}return{x:d,y:p,box:f}}function ds(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,o=Xa(n),l=o.boxSizing==="border-box",f=Es(o,"padding"),d=Es(o,"border","width"),{x:p,y:x,box:b}=aw(t,n),y=f.left+(b&&d.left),C=f.top+(b&&d.top);let{width:A,height:S}=e;return l&&(A-=f.width+d.width,S-=f.height+d.height),{x:Math.round((p-y)/A*n.width/s),y:Math.round((x-C)/S*n.height/s)}}function lw(t,e,n){let s,o;if(e===void 0||n===void 0){const l=t&&Qc(t);if(!l)e=t.clientWidth,n=t.clientHeight;else{const f=l.getBoundingClientRect(),d=Xa(l),p=Es(d,"border","width"),x=Es(d,"padding");e=f.width-x.width-p.width,n=f.height-x.height-p.height,s=wa(d.maxWidth,l,"clientWidth"),o=wa(d.maxHeight,l,"clientHeight")}}return{width:e,height:n,maxWidth:s||ba,maxHeight:o||ba}}const Yi=t=>Math.round(t*10)/10;function cw(t,e,n,s){const o=Xa(t),l=Es(o,"margin"),f=wa(o.maxWidth,t,"clientWidth")||ba,d=wa(o.maxHeight,t,"clientHeight")||ba,p=lw(t,e,n);let{width:x,height:b}=p;if(o.boxSizing==="content-box"){const C=Es(o,"border","width"),A=Es(o,"padding");x-=A.width+C.width,b-=A.height+C.height}return x=Math.max(0,x-l.width),b=Math.max(0,s?x/s:b-l.height),x=Yi(Math.min(x,f,p.maxWidth)),b=Yi(Math.min(b,d,p.maxHeight)),x&&!b&&(b=Yi(x/2)),(e!==void 0||n!==void 0)&&s&&p.height&&b>p.height&&(b=p.height,x=Yi(Math.floor(b*s))),{width:x,height:b}}function zf(t,e,n){const s=e||1,o=Yi(t.height*s),l=Yi(t.width*s);t.height=Yi(t.height),t.width=Yi(t.width);const f=t.canvas;return f.style&&(n||!f.style.height&&!f.style.width)&&(f.style.height=`${t.height}px`,f.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||f.height!==o||f.width!==l?(t.currentDevicePixelRatio=s,f.height=o,f.width=l,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const uw=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};qc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function jf(t,e){const n=sw(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function gs(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function fw(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function hw(t,e,n,s){const o={x:t.cp2x,y:t.cp2y},l={x:e.cp1x,y:e.cp1y},f=gs(t,o,n),d=gs(o,l,n),p=gs(l,e,n),x=gs(f,d,n),b=gs(d,p,n);return gs(x,b,n)}const dw=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},gw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Js(t,e,n){return t?dw(e,n):gw()}function l1(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function c1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function u1(t){return t==="angle"?{between:Z0,compare:fb,normalize:Hi}:{between:Tr,compare:(e,n)=>e-n,normalize:e=>e}}function Xf({start:t,end:e,count:n,loop:s,style:o}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:o}}function pw(t,e,n){const{property:s,start:o,end:l}=n,{between:f,normalize:d}=u1(s),p=e.length;let{start:x,end:b,loop:y}=t,C,A;if(y){for(x+=p,b+=p,C=0,A=p;C<A&&f(d(e[x%p][s]),o,l);++C)x--,b--;x%=p,b%=p}return b<x&&(b+=p),{start:x,end:b,loop:y,style:t.style}}function xw(t,e,n){if(!n)return[t];const{property:s,start:o,end:l}=n,f=e.length,{compare:d,between:p,normalize:x}=u1(s),{start:b,end:y,loop:C,style:A}=pw(t,e,n),S=[];let O=!1,D=null,U,V,k;const G=()=>p(o,k,U)&&d(o,k)!==0,j=()=>d(l,U)===0||p(l,k,U),tt=()=>O||G(),H=()=>!O||j();for(let J=b,F=b;J<=y;++J)V=e[J%f],!V.skip&&(U=x(V[s]),U!==k&&(O=p(U,o,l),D===null&&tt()&&(D=d(U,o)===0?J:F),D!==null&&H()&&(S.push(Xf({start:D,end:J,loop:C,count:f,style:A})),D=null),F=J,k=U));return D!==null&&S.push(Xf({start:D,end:y,loop:C,count:f,style:A})),S}function mw(t,e){const n=[],s=t.segments;for(let o=0;o<s.length;o++){const l=xw(s[o],t.points,e);l.length&&n.push(...l)}return n}function bw(t,e,n,s){let o=0,l=e-1;if(n&&!s)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(l+=o);l>o&&t[l%e].skip;)l--;return l%=e,{start:o,end:l}}function ww(t,e,n,s){const o=t.length,l=[];let f=e,d=t[e],p;for(p=e+1;p<=n;++p){const x=t[p%o];x.skip||x.stop?d.skip||(s=!1,l.push({start:e%o,end:(p-1)%o,loop:s}),e=f=x.stop?p:null):(f=p,d.skip&&(e=p)),d=x}return f!==null&&l.push({start:e%o,end:f%o,loop:s}),l}function yw(t,e){const n=t.points,s=t.options.spanGaps,o=n.length;if(!o)return[];const l=!!t._loop,{start:f,end:d}=bw(n,o,l,s);if(s===!0)return Yf(t,[{start:f,end:d,loop:l}],n,e);const p=d<f?d+o:d,x=!!t._fullLoop&&f===0&&d===o-1;return Yf(t,ww(n,f,p,x),n,e)}function Yf(t,e,n,s){return!s||!s.setContext||!n?e:_w(t,e,n,s)}function _w(t,e,n,s){const o=t._chart.getContext(),l=Kf(t.options),{_datasetIndex:f,options:{spanGaps:d}}=t,p=n.length,x=[];let b=l,y=e[0].start,C=y;function A(S,O,D,U){const V=d?-1:1;if(S!==O){for(S+=p;n[S%p].skip;)S-=V;for(;n[O%p].skip;)O+=V;S%p!==O%p&&(x.push({start:S%p,end:O%p,loop:D,style:U}),b=U,y=O%p)}}for(const S of e){y=d?y:S.start;let O=n[y%p],D;for(C=y+1;C<=S.end;C++){const U=n[C%p];D=Kf(s.setContext(Ts(o,{type:"segment",p0:O,p1:U,p0DataIndex:(C-1)%p,p1DataIndex:C%p,datasetIndex:f}))),Cw(D,b)&&A(y,C-1,S.loop,b),O=U,b=D}y<C-1&&A(y,C-1,S.loop,b)}return x}function Kf(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cw(t,e){if(!e)return!1;const n=[],s=function(o,l){return zc(l)?(n.includes(l)||n.push(l),n.indexOf(l)):l};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Uo(t,e,n){return t.options.clip?t[n]:e[n]}function Aw(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Uo(n,e,"left"),right:Uo(n,e,"right"),top:Uo(s,e,"top"),bottom:Uo(s,e,"bottom")}:e}function Ew(t,e){const n=e._clip;if(n.disabled)return!1;const s=Aw(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Iw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,o){const l=n.listeners[o],f=n.duration;l.forEach(d=>d({chart:e,initial:n.initial,numSteps:f,currentStep:Math.min(s-n.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=Q0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,o)=>{if(!s.running||!s.items.length)return;const l=s.items;let f=l.length-1,d=!1,p;for(;f>=0;--f)p=l[f],p._active?(p._total>s.duration&&(s.duration=p._total),p.tick(e),d=!0):(l[f]=l[l.length-1],l.pop());d&&(o.draw(),this._notify(o,s,e,"progress")),l.length||(s.running=!1,this._notify(o,s,e,"complete"),s.initial=!1),n+=l.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,o)=>Math.max(s,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let o=s.length-1;for(;o>=0;--o)s[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xi=new Iw;const Zf="transparent",vw={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Ff(t||Zf),o=s.valid&&Ff(e||Zf);return o&&o.valid?o.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Sw{constructor(e,n,s,o){const l=n[s];o=Lo([e.to,o,l,e.from]);const f=Lo([e.from,l,o]);this._active=!0,this._fn=e.fn||vw[e.type||typeof f],this._easing=zr[e.easing]||zr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=f,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const o=this._target[this._prop],l=s-this._start,f=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(f,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Lo([e.to,n,o,e.from]),this._from=Lo([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,o=this._prop,l=this._from,f=this._loop,d=this._to;let p;if(this._active=l!==d&&(f||n<s),!this._active){this._target[o]=d,this._notify(!0);return}if(n<0){this._target[o]=l;return}p=n/s%2,p=f&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[o]=this._fn(l,d,p)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let o=0;o<s.length;o++)s[o][n]()}}class f1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ee(e))return;const n=Object.keys(Be.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!ee(l))return;const f={};for(const d of n)f[d]=l[d];(je(l.properties)&&l.properties||[o]).forEach(d=>{(d===o||!s.has(d))&&s.set(d,f)})})}_animateOptions(e,n){const s=n.options,o=Ow(e,s);if(!o)return[];const l=this._createAnimations(o,s);return s.$shared&&Tw(e.options.$animations,s).then(()=>{e.options=s},()=>{}),l}_createAnimations(e,n){const s=this._properties,o=[],l=e.$animations||(e.$animations={}),f=Object.keys(n),d=Date.now();let p;for(p=f.length-1;p>=0;--p){const x=f[p];if(x.charAt(0)==="$")continue;if(x==="options"){o.push(...this._animateOptions(e,n));continue}const b=n[x];let y=l[x];const C=s.get(x);if(y)if(C&&y.active()){y.update(C,b,d);continue}else y.cancel();if(!C||!C.duration){e[x]=b;continue}l[x]=y=new Sw(C,e,x,b),o.push(y)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return xi.add(this._chart,s),!0}}function Tw(t,e){const n=[],s=Object.keys(e);for(let o=0;o<s.length;o++){const l=t[s[o]];l&&l.active()&&n.push(l.wait())}return Promise.all(n)}function Ow(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function qf(t,e){const n=t&&t.options||{},s=n.reverse,o=n.min===void 0?e:0,l=n.max===void 0?e:0;return{start:s?l:o,end:s?o:l}}function Rw(t,e,n){if(n===!1)return!1;const s=qf(t,n),o=qf(e,n);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}function Nw(t){let e,n,s,o;return ee(t)?(e=t.top,n=t.right,s=t.bottom,o=t.left):e=n=s=o=t,{top:e,right:n,bottom:s,left:o,disabled:t===!1}}function h1(t,e){const n=[],s=t._getSortedDatasetMetas(e);let o,l;for(o=0,l=s.length;o<l;++o)n.push(s[o].index);return n}function Qf(t,e,n,s={}){const o=t.keys,l=s.mode==="single";let f,d,p,x;if(e===null)return;let b=!1;for(f=0,d=o.length;f<d;++f){if(p=+o[f],p===n){if(b=!0,s.all)continue;break}x=t.values[p],Un(x)&&(l||e===0||ir(e)===ir(x))&&(e+=x)}return!b&&!s.all?0:e}function Mw(t,e){const{iScale:n,vScale:s}=e,o=n.axis==="x"?"x":"y",l=s.axis==="x"?"x":"y",f=Object.keys(t),d=new Array(f.length);let p,x,b;for(p=0,x=f.length;p<x;++p)b=f[p],d[p]={[o]:b,[l]:t[b]};return d}function kl(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Dw(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Pw(t){const{min:e,max:n,minDefined:s,maxDefined:o}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function kw(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Jf(t,e,n,s){for(const o of e.getMatchingVisibleMetas(s).reverse()){const l=t[o.index];if(n&&l>0||!n&&l<0)return o.index}return null}function $f(t,e){const{chart:n,_cachedMeta:s}=t,o=n._stacks||(n._stacks={}),{iScale:l,vScale:f,index:d}=s,p=l.axis,x=f.axis,b=Dw(l,f,s),y=e.length;let C;for(let A=0;A<y;++A){const S=e[A],{[p]:O,[x]:D}=S,U=S._stacks||(S._stacks={});C=U[x]=kw(o,b,O),C[d]=D,C._top=Jf(C,f,!0,s.type),C._bottom=Jf(C,f,!1,s.type);const V=C._visualValues||(C._visualValues={});V[d]=D}}function Bl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Bw(t,e){return Ts(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Lw(t,e,n){return Ts(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function yr(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const o of e){const l=o._stacks;if(!l||l[s]===void 0||l[s][n]===void 0)return;delete l[s][n],l[s]._visualValues!==void 0&&l[s]._visualValues[n]!==void 0&&delete l[s]._visualValues[n]}}}const Ll=t=>t==="reset"||t==="none",th=(t,e)=>e?t:Object.assign({},t),Fw=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:h1(n,!0),values:null};class Yr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=kl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),o=(y,C,A,S)=>y==="x"?C:y==="r"?S:A,l=n.xAxisID=Zt(s.xAxisID,Bl(e,"x")),f=n.yAxisID=Zt(s.yAxisID,Bl(e,"y")),d=n.rAxisID=Zt(s.rAxisID,Bl(e,"r")),p=n.indexAxis,x=n.iAxisID=o(p,l,f,d),b=n.vAxisID=o(p,f,l,d);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(f),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(x),n.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kf(this._data,this),e._stacked&&yr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ee(n)){const o=this._cachedMeta;this._data=Mw(n,o)}else if(s!==n){if(s){kf(s,this);const o=this._cachedMeta;yr(o),o._parsed=[]}n&&Object.isExtensible(n)&&pb(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let o=!1;this._dataCheck();const l=n._stacked;n._stacked=kl(n.vScale,n),n.stack!==s.stack&&(o=!0,yr(n),n.stack=s.stack),this._resyncElements(e),(o||l!==n._stacked)&&($f(this,n._parsed),n._stacked=kl(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:o}=this,{iScale:l,_stacked:f}=s,d=l.axis;let p=e===0&&n===o.length?!0:s._sorted,x=e>0&&s._parsed[e-1],b,y,C;if(this._parsing===!1)s._parsed=o,s._sorted=!0,C=o;else{je(o[e])?C=this.parseArrayData(s,o,e,n):ee(o[e])?C=this.parseObjectData(s,o,e,n):C=this.parsePrimitiveData(s,o,e,n);const A=()=>y[d]===null||x&&y[d]<x[d];for(b=0;b<n;++b)s._parsed[b+e]=y=C[b],p&&(A()&&(p=!1),x=y);s._sorted=p}f&&$f(this,C)}parsePrimitiveData(e,n,s,o){const{iScale:l,vScale:f}=e,d=l.axis,p=f.axis,x=l.getLabels(),b=l===f,y=new Array(o);let C,A,S;for(C=0,A=o;C<A;++C)S=C+s,y[C]={[d]:b||l.parse(x[S],S),[p]:f.parse(n[S],S)};return y}parseArrayData(e,n,s,o){const{xScale:l,yScale:f}=e,d=new Array(o);let p,x,b,y;for(p=0,x=o;p<x;++p)b=p+s,y=n[b],d[p]={x:l.parse(y[0],b),y:f.parse(y[1],b)};return d}parseObjectData(e,n,s,o){const{xScale:l,yScale:f}=e,{xAxisKey:d="x",yAxisKey:p="y"}=this._parsing,x=new Array(o);let b,y,C,A;for(b=0,y=o;b<y;++b)C=b+s,A=n[C],x[b]={x:l.parse(xa(A,d),C),y:f.parse(xa(A,p),C)};return x}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const o=this.chart,l=this._cachedMeta,f=n[e.axis],d={keys:h1(o,!0),values:n._stacks[e.axis]._visualValues};return Qf(d,f,l.index,{mode:s})}updateRangeFromParsed(e,n,s,o){const l=s[n.axis];let f=l===null?NaN:l;const d=o&&s._stacks[n.axis];o&&d&&(o.values=d,f=Qf(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,f),e.max=Math.max(e.max,f)}getMinMax(e,n){const s=this._cachedMeta,o=s._parsed,l=s._sorted&&e===s.iScale,f=o.length,d=this._getOtherScale(e),p=Fw(n,s,this.chart),x={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:y}=Pw(d);let C,A;function S(){A=o[C];const O=A[d.axis];return!Un(A[e.axis])||b>O||y<O}for(C=0;C<f&&!(!S()&&(this.updateRangeFromParsed(x,e,A,p),l));++C);if(l){for(C=f-1;C>=0;--C)if(!S()){this.updateRangeFromParsed(x,e,A,p);break}}return x}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let o,l,f;for(o=0,l=n.length;o<l;++o)f=n[o][e.axis],Un(f)&&s.push(f);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,o=n.vScale,l=this.getParsed(e);return{label:s?""+s.getLabelForValue(l[s.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Nw(Zt(this.options.clip,Rw(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,o=s.data||[],l=n.chartArea,f=[],d=this._drawStart||0,p=this._drawCount||o.length-d,x=this.options.drawActiveElementsOnTop;let b;for(s.dataset&&s.dataset.draw(e,l,d,p),b=d;b<d+p;++b){const y=o[b];y.hidden||(y.active&&x?f.push(y):y.draw(e,l))}for(b=0;b<f.length;++b)f[b].draw(e,l)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const o=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const f=this._cachedMeta.data[e];l=f.$context||(f.$context=Lw(this.getContext(),e,f)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=Bw(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=s,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const o=n==="active",l=this._cachedDataOpts,f=e+"-"+n,d=l[f],p=this.enableOptionSharing&&ma(s);if(d)return th(d,p);const x=this.chart.config,b=x.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],C=x.getOptionScopes(this.getDataset(),b),A=Object.keys(Be.elements[e]),S=()=>this.getContext(s,o,n),O=x.resolveNamedOptions(C,A,S,y);return O.$shared&&(O.$shared=p,l[f]=Object.freeze(th(O,p))),O}_resolveAnimations(e,n,s){const o=this.chart,l=this._cachedDataOpts,f=`animation-${n}`,d=l[f];if(d)return d;let p;if(o.options.animation!==!1){const b=this.chart.config,y=b.datasetAnimationScopeKeys(this._type,n),C=b.getOptionScopes(this.getDataset(),y);p=b.createResolver(C,this.getContext(e,s,n))}const x=new f1(o,p&&p.animations);return p&&p._cacheable&&(l[f]=Object.freeze(x)),x}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ll(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),o=this._sharedOptions,l=this.getSharedOptions(s),f=this.includeOptions(n,l)||l!==o;return this.updateSharedOptions(l,n,s),{sharedOptions:l,includeOptions:f}}updateElement(e,n,s,o){Ll(o)?Object.assign(e,s):this._resolveAnimations(n,o).update(e,s)}updateSharedOptions(e,n,s){e&&!Ll(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,o){e.active=o;const l=this.getStyle(n,o);this._resolveAnimations(n,s,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[d,p,x]of this._syncList)this[d](p,x);this._syncList=[];const o=s.length,l=n.length,f=Math.min(l,o);f&&this.parse(0,f),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,n,s=!0){const o=this._cachedMeta,l=o.data,f=e+n;let d;const p=x=>{for(x.length+=n,d=x.length-1;d>=f;d--)x[d]=x[d-n]};for(p(l),d=e;d<f;++d)l[d]=new this.dataElementType;this._parsing&&p(o._parsed),this.parse(e,n),s&&this.updateElements(l,e,n,"reset")}updateElements(e,n,s,o){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const o=s._parsed.splice(e,n);s._stacked&&yr(s,o)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,o]=e;this[n](s,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ht(Yr,"defaults",{}),Ht(Yr,"datasetElementType",null),Ht(Yr,"dataElementType",null);class Jo extends Yr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:o=[],_dataset:l}=n,f=this.chart._animationsDisabled;let{start:d,count:p}=wb(n,o,f);this._drawStart=d,this._drawCount=p,yb(n)&&(d=0,p=o.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!l._decimated,s.points=o;const x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),x.segment=this.options.segment,this.updateElement(s,void 0,{animated:!f,options:x},e),this.updateElements(o,d,p,e)}updateElements(e,n,s,o){const l=o==="reset",{iScale:f,vScale:d,_stacked:p,_dataset:x}=this._cachedMeta,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(n,o),C=f.axis,A=d.axis,{spanGaps:S,segment:O}=this.options,D=ro(S)?S:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||l||o==="none",V=n+s,k=e.length;let G=n>0&&this.getParsed(n-1);for(let j=0;j<k;++j){const tt=e[j],H=U?tt:{};if(j<n||j>=V){H.skip=!0;continue}const J=this.getParsed(j),F=be(J[A]),pt=H[C]=f.getPixelForValue(J[C],j),ht=H[A]=l||F?d.getBasePixel():d.getPixelForValue(p?this.applyStack(d,J,p):J[A],j);H.skip=isNaN(pt)||isNaN(ht)||F,H.stop=j>0&&Math.abs(J[C]-G[C])>D,O&&(H.parsed=J,H.raw=x.data[j]),y&&(H.options=b||this.resolveDataElementOptions(j,tt.active?"active":o)),U||this.updateElement(tt,j,H,o),G=J}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return s;const l=o[0].size(this.resolveDataElementOptions(0)),f=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(s,l,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ht(Jo,"id","line"),Ht(Jo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ht(Jo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jc{constructor(e){Ht(this,"options");this.options=e||{}}static override(e){Object.assign(Jc.prototype,e)}init(){}formats(){return fs()}parse(){return fs()}format(){return fs()}add(){return fs()}diff(){return fs()}startOf(){return fs()}endOf(){return fs()}}var Uw={_date:Jc};function Hw(t,e,n,s){const{controller:o,data:l,_sorted:f}=t,d=o._cachedMeta.iScale,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&f&&l.length){const x=d._reversePixels?db:ys;if(s){if(o._sharedOptions){const b=l[0],y=typeof b.getRange=="function"&&b.getRange(e);if(y){const C=x(l,e,n-y),A=x(l,e,n+y);return{lo:C.lo,hi:A.hi}}}}else{const b=x(l,e,n);if(p){const{vScale:y}=o._cachedMeta,{_parsed:C}=t,A=C.slice(0,b.lo+1).reverse().findIndex(O=>!be(O[y.axis]));b.lo-=Math.max(0,A);const S=C.slice(b.hi).findIndex(O=>!be(O[y.axis]));b.hi+=Math.max(0,S)}return b}}return{lo:0,hi:l.length-1}}function Ya(t,e,n,s,o){const l=t.getSortedVisibleDatasetMetas(),f=n[e];for(let d=0,p=l.length;d<p;++d){const{index:x,data:b}=l[d],{lo:y,hi:C}=Hw(l[d],e,f,o);for(let A=y;A<=C;++A){const S=b[A];S.skip||s(S,x,A)}}}function Vw(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,o){const l=e?Math.abs(s.x-o.x):0,f=n?Math.abs(s.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(f,2))}}function Fl(t,e,n,s,o){const l=[];return!o&&!t.isPointInArea(e)||Ya(t,n,e,function(d,p,x){!o&&!oo(d,t.chartArea,0)||d.inRange(e.x,e.y,s)&&l.push({element:d,datasetIndex:p,index:x})},!0),l}function Ww(t,e,n,s){let o=[];function l(f,d,p){const{startAngle:x,endAngle:b}=f.getProps(["startAngle","endAngle"],s),{angle:y}=ub(f,{x:e.x,y:e.y});Z0(y,x,b)&&o.push({element:f,datasetIndex:d,index:p})}return Ya(t,n,e,l),o}function Gw(t,e,n,s,o,l){let f=[];const d=Vw(n);let p=Number.POSITIVE_INFINITY;function x(b,y,C){const A=b.inRange(e.x,e.y,o);if(s&&!A)return;const S=b.getCenterPoint(o);if(!(!!l||t.isPointInArea(S))&&!A)return;const D=d(e,S);D<p?(f=[{element:b,datasetIndex:y,index:C}],p=D):D===p&&f.push({element:b,datasetIndex:y,index:C})}return Ya(t,n,e,x),f}function Ul(t,e,n,s,o,l){return!l&&!t.isPointInArea(e)?[]:n==="r"&&!s?Ww(t,e,n,o):Gw(t,e,n,s,o,l)}function eh(t,e,n,s,o){const l=[],f=n==="x"?"inXRange":"inYRange";let d=!1;return Ya(t,n,e,(p,x,b)=>{p[f]&&p[f](e[n],o)&&(l.push({element:p,datasetIndex:x,index:b}),d=d||p.inRange(e.x,e.y,o))}),s&&!d?[]:l}var zw={modes:{index(t,e,n,s){const o=ds(e,t),l=n.axis||"x",f=n.includeInvisible||!1,d=n.intersect?Fl(t,o,l,s,f):Ul(t,o,l,!1,s,f),p=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(x=>{const b=d[0].index,y=x.data[b];y&&!y.skip&&p.push({element:y,datasetIndex:x.index,index:b})}),p):[]},dataset(t,e,n,s){const o=ds(e,t),l=n.axis||"xy",f=n.includeInvisible||!1;let d=n.intersect?Fl(t,o,l,s,f):Ul(t,o,l,!1,s,f);if(d.length>0){const p=d[0].datasetIndex,x=t.getDatasetMeta(p).data;d=[];for(let b=0;b<x.length;++b)d.push({element:x[b],datasetIndex:p,index:b})}return d},point(t,e,n,s){const o=ds(e,t),l=n.axis||"xy",f=n.includeInvisible||!1;return Fl(t,o,l,s,f)},nearest(t,e,n,s){const o=ds(e,t),l=n.axis||"xy",f=n.includeInvisible||!1;return Ul(t,o,l,n.intersect,s,f)},x(t,e,n,s){const o=ds(e,t);return eh(t,o,"x",n.intersect,s)},y(t,e,n,s){const o=ds(e,t);return eh(t,o,"y",n.intersect,s)}}};const d1=["left","top","right","bottom"];function _r(t,e){return t.filter(n=>n.pos===e)}function nh(t,e){return t.filter(n=>d1.indexOf(n.pos)===-1&&n.box.axis===e)}function Cr(t,e){return t.sort((n,s)=>{const o=e?s:n,l=e?n:s;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function jw(t){const e=[];let n,s,o,l,f,d;for(n=0,s=(t||[]).length;n<s;++n)o=t[n],{position:l,options:{stack:f,stackWeight:d=1}}=o,e.push({index:n,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:f&&l+f,stackWeight:d});return e}function Xw(t){const e={};for(const n of t){const{stack:s,pos:o,stackWeight:l}=n;if(!s||!d1.includes(o))continue;const f=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=l}return e}function Yw(t,e){const n=Xw(t),{vBoxMaxWidth:s,hBoxMaxHeight:o}=e;let l,f,d;for(l=0,f=t.length;l<f;++l){d=t[l];const{fullSize:p}=d.box,x=n[d.stack],b=x&&d.stackWeight/x.weight;d.horizontal?(d.width=b?b*s:p&&e.availableWidth,d.height=o):(d.width=s,d.height=b?b*o:p&&e.availableHeight)}return n}function Kw(t){const e=jw(t),n=Cr(e.filter(x=>x.box.fullSize),!0),s=Cr(_r(e,"left"),!0),o=Cr(_r(e,"right")),l=Cr(_r(e,"top"),!0),f=Cr(_r(e,"bottom")),d=nh(e,"x"),p=nh(e,"y");return{fullSize:n,leftAndTop:s.concat(l),rightAndBottom:o.concat(p).concat(f).concat(d),chartArea:_r(e,"chartArea"),vertical:s.concat(o).concat(p),horizontal:l.concat(f).concat(d)}}function ih(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function g1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Zw(t,e,n,s){const{pos:o,box:l}=n,f=t.maxPadding;if(!ee(o)){n.size&&(t[o]-=n.size);const y=s[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?l.height:l.width),n.size=y.size/y.count,t[o]+=n.size}l.getPadding&&g1(f,l.getPadding());const d=Math.max(0,e.outerWidth-ih(f,t,"left","right")),p=Math.max(0,e.outerHeight-ih(f,t,"top","bottom")),x=d!==t.w,b=p!==t.h;return t.w=d,t.h=p,n.horizontal?{same:x,other:b}:{same:b,other:x}}function qw(t){const e=t.maxPadding;function n(s){const o=Math.max(e[s]-t[s],0);return t[s]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Qw(t,e){const n=e.maxPadding;function s(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(f=>{l[f]=Math.max(e[f],n[f])}),l}return s(t?["left","right"]:["top","bottom"])}function Or(t,e,n,s){const o=[];let l,f,d,p,x,b;for(l=0,f=t.length,x=0;l<f;++l){d=t[l],p=d.box,p.update(d.width||e.w,d.height||e.h,Qw(d.horizontal,e));const{same:y,other:C}=Zw(e,n,d,s);x|=y&&o.length,b=b||C,p.fullSize||o.push(d)}return x&&Or(o,e,n,s)||b}function Ho(t,e,n,s,o){t.top=n,t.left=e,t.right=e+s,t.bottom=n+o,t.width=s,t.height=o}function sh(t,e,n,s){const o=n.padding;let{x:l,y:f}=e;for(const d of t){const p=d.box,x=s[d.stack]||{placed:0,weight:1},b=d.stackWeight/x.weight||1;if(d.horizontal){const y=e.w*b,C=x.size||p.height;ma(x.start)&&(f=x.start),p.fullSize?Ho(p,o.left,f,n.outerWidth-o.right-o.left,C):Ho(p,e.left+x.placed,f,y,C),x.start=f,x.placed+=y,f=p.bottom}else{const y=e.h*b,C=x.size||p.width;ma(x.start)&&(l=x.start),p.fullSize?Ho(p,l,o.top,C,n.outerHeight-o.bottom-o.top):Ho(p,l,e.top+x.placed,C,y),x.start=l,x.placed+=y,l=p.right}}e.x=l,e.y=f}var Ln={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const o=Hn(t.options.layout.padding),l=Math.max(e-o.width,0),f=Math.max(n-o.height,0),d=Kw(t.boxes),p=d.vertical,x=d.horizontal;le(t.boxes,O=>{typeof O.beforeLayout=="function"&&O.beforeLayout()});const b=p.reduce((O,D)=>D.box.options&&D.box.options.display===!1?O:O+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:l,availableHeight:f,vBoxMaxWidth:l/2/b,hBoxMaxHeight:f/2}),C=Object.assign({},o);g1(C,Hn(s));const A=Object.assign({maxPadding:C,w:l,h:f,x:o.left,y:o.top},o),S=Yw(p.concat(x),y);Or(d.fullSize,A,y,S),Or(p,A,y,S),Or(x,A,y,S)&&Or(p,A,y,S),qw(A),sh(d.leftAndTop,A,y,S),A.x+=A.w,A.y+=A.h,sh(d.rightAndBottom,A,y,S),t.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},le(d.chartArea,O=>{const D=O.box;Object.assign(D,t.chartArea),D.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class p1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,o){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):s)}}isAttached(e){return!0}updateConfig(e){}}class Jw extends p1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $o="$chartjs",$w={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rh=t=>t===null||t==="";function ty(t,e){const n=t.style,s=t.getAttribute("height"),o=t.getAttribute("width");if(t[$o]={initial:{height:s,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",rh(o)){const l=jf(t,"width");l!==void 0&&(t.width=l)}if(rh(s))if(t.style.height==="")t.height=t.width/(e||2);else{const l=jf(t,"height");l!==void 0&&(t.height=l)}return t}const x1=uw?{passive:!0}:!1;function ey(t,e,n){t&&t.addEventListener(e,n,x1)}function ny(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,x1)}function iy(t,e){const n=$w[t.type]||t.type,{x:s,y:o}=ds(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:o!==void 0?o:null}}function ya(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function sy(t,e,n){const s=t.canvas,o=new MutationObserver(l=>{let f=!1;for(const d of l)f=f||ya(d.addedNodes,s),f=f&&!ya(d.removedNodes,s);f&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function ry(t,e,n){const s=t.canvas,o=new MutationObserver(l=>{let f=!1;for(const d of l)f=f||ya(d.removedNodes,s),f=f&&!ya(d.addedNodes,s);f&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const lo=new Map;let oh=0;function m1(){const t=window.devicePixelRatio;t!==oh&&(oh=t,lo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oy(t,e){lo.size||window.addEventListener("resize",m1),lo.set(t,e)}function ay(t){lo.delete(t),lo.size||window.removeEventListener("resize",m1)}function ly(t,e,n){const s=t.canvas,o=s&&Qc(s);if(!o)return;const l=J0((d,p)=>{const x=o.clientWidth;n(d,p),x<o.clientWidth&&n()},window),f=new ResizeObserver(d=>{const p=d[0],x=p.contentRect.width,b=p.contentRect.height;x===0&&b===0||l(x,b)});return f.observe(o),oy(t,l),f}function Hl(t,e,n){n&&n.disconnect(),e==="resize"&&ay(t)}function cy(t,e,n){const s=t.canvas,o=J0(l=>{t.ctx!==null&&n(iy(l,t))},t);return ey(s,e,o),o}class uy extends p1{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(ty(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[$o])return!1;const s=n[$o].initial;["height","width"].forEach(l=>{const f=s[l];be(f)?n.removeAttribute(l):n.setAttribute(l,f)});const o=s.style||{};return Object.keys(o).forEach(l=>{n.style[l]=o[l]}),n.width=n.width,delete n[$o],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),f={attach:sy,detach:ry,resize:ly}[n]||cy;o[n]=f(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),o=s[n];if(!o)return;({attach:Hl,detach:Hl,resize:Hl}[n]||ny)(e,n,o),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,o){return cw(e,n,s,o)}isAttached(e){const n=e&&Qc(e);return!!(n&&n.isConnected)}}function fy(t){return!qc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Jw:uy}var Xo;let Os=(Xo=class{constructor(){Ht(this,"x");Ht(this,"y");Ht(this,"active",!1);Ht(this,"options");Ht(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return ro(this.x)&&ro(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const o={};return e.forEach(l=>{o[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),o}},Ht(Xo,"defaults",{}),Ht(Xo,"defaultRoutes"),Xo);function hy(t,e){const n=t.options.ticks,s=dy(t),o=Math.min(n.maxTicksLimit||s,s),l=n.major.enabled?py(e):[],f=l.length,d=l[0],p=l[f-1],x=[];if(f>o)return xy(e,x,l,f/o),x;const b=gy(l,e,o);if(f>0){let y,C;const A=f>1?Math.round((p-d)/(f-1)):null;for(Vo(e,x,b,be(A)?0:d-A,d),y=0,C=f-1;y<C;y++)Vo(e,x,b,l[y],l[y+1]);return Vo(e,x,b,p,be(A)?e.length:p+A),x}return Vo(e,x,b),x}function dy(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(s,o))}function gy(t,e,n){const s=my(t),o=e.length/n;if(!s)return Math.max(o,1);const l=rb(s);for(let f=0,d=l.length-1;f<d;f++){const p=l[f];if(p>o)return p}return Math.max(o,1)}function py(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function xy(t,e,n,s){let o=0,l=n[0],f;for(s=Math.ceil(s),f=0;f<t.length;f++)f===l&&(e.push(t[f]),o++,l=n[o*s])}function Vo(t,e,n,s,o){const l=Zt(s,0),f=Math.min(Zt(o,t.length),t.length);let d=0,p,x,b;for(n=Math.ceil(n),o&&(p=o-s,n=p/Math.floor(p/n)),b=l;b<0;)d++,b=Math.round(l+d*n);for(x=Math.max(l,0);x<f;x++)x===b&&(e.push(t[x]),d++,b=Math.round(l+d*n))}function my(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const by=t=>t==="left"?"right":t==="right"?"left":t,ah=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,lh=(t,e)=>Math.min(e||t,t);function ch(t,e){const n=[],s=t.length/e,o=t.length;let l=0;for(;l<o;l+=s)n.push(t[Math.floor(l)]);return n}function wy(t,e,n){const s=t.ticks.length,o=Math.min(e,s-1),l=t._startPixel,f=t._endPixel,d=1e-6;let p=t.getPixelForTick(o),x;if(!(n&&(s===1?x=Math.max(p-l,f-p):e===0?x=(t.getPixelForTick(1)-p)/2:x=(p-t.getPixelForTick(o-1))/2,p+=o<e?x:-x,p<l-d||p>f+d)))return p}function yy(t,e){le(t,n=>{const s=n.gc,o=s.length/2;let l;if(o>e){for(l=0;l<o;++l)delete n.data[s[l]];s.splice(0,o)}})}function Ar(t){return t.drawTicks?t.tickLength:0}function uh(t,e){if(!t.display)return 0;const n=an(t.font,e),s=Hn(t.padding);return(je(t.text)?t.text.length:1)*n.lineHeight+s.height}function _y(t,e){return Ts(t,{scale:e,type:"scale"})}function Cy(t,e,n){return Ts(t,{tick:n,index:e,type:"tick"})}function Ay(t,e,n){let s=Gc(t);return(n&&e!=="right"||!n&&e==="right")&&(s=by(s)),s}function Ey(t,e,n,s){const{top:o,left:l,bottom:f,right:d,chart:p}=t,{chartArea:x,scales:b}=p;let y=0,C,A,S;const O=f-o,D=d-l;if(t.isHorizontal()){if(A=en(s,l,d),ee(n)){const U=Object.keys(n)[0],V=n[U];S=b[U].getPixelForValue(V)+O-e}else n==="center"?S=(x.bottom+x.top)/2+O-e:S=ah(t,n,e);C=d-l}else{if(ee(n)){const U=Object.keys(n)[0],V=n[U];A=b[U].getPixelForValue(V)-D+e}else n==="center"?A=(x.left+x.right)/2-D+e:A=ah(t,n,e);S=en(s,f,o),y=n==="left"?-zn:zn}return{titleX:A,titleY:S,maxWidth:C,rotation:y}}class lr extends Os{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:o}=this;return e=ii(e,Number.POSITIVE_INFINITY),n=ii(n,Number.NEGATIVE_INFINITY),s=ii(s,Number.POSITIVE_INFINITY),o=ii(o,Number.NEGATIVE_INFINITY),{min:ii(e,s),max:ii(n,o),minDefined:Un(e),maxDefined:Un(n)}}getMinMax(e){let{min:n,max:s,minDefined:o,maxDefined:l}=this.getUserBounds(),f;if(o&&l)return{min:n,max:s};const d=this.getMatchingVisibleMetas();for(let p=0,x=d.length;p<x;++p)f=d[p].controller.getMinMax(this,e),o||(n=Math.min(n,f.min)),l||(s=Math.max(s,f.max));return n=l&&n>s?s:n,s=o&&n>s?n:s,{min:ii(n,ii(s,n)),max:ii(s,ii(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:o,grace:l,ticks:f}=this.options,d=f.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Vb(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=d<this.ticks.length;this._convertTicksToLabels(p?ch(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||f.source==="auto")&&(this.ticks=hy(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,o,l;for(s=0,o=e.length;s<o;s++)l=e[s],l.label=Ce(n.callback,[l.value,s,e],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=lh(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,l=n.maxRotation;let f=o,d,p,x;if(!this._isVisible()||!n.display||o>=l||s<=1||!this.isHorizontal()){this.labelRotation=o;return}const b=this._getLabelSizes(),y=b.widest.width,C=b.highest.height,A=Bn(this.chart.width-y,0,this.maxWidth);d=e.offset?this.maxWidth/s:A/(s-1),y+6>d&&(d=A/(s-(e.offset?.5:1)),p=this.maxHeight-Ar(e.grid)-n.padding-uh(e.title,this.chart.options.font),x=Math.sqrt(y*y+C*C),f=cb(Math.min(Math.asin(Bn((b.highest.height+6)/d,-1,1)),Math.asin(Bn(p/x,-1,1))-Math.asin(Bn(C/x,-1,1)))),f=Math.max(o,Math.min(l,f))),this.labelRotation=f}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:o,grid:l}}=this,f=this._isVisible(),d=this.isHorizontal();if(f){const p=uh(o,n.options.font);if(d?(e.width=this.maxWidth,e.height=Ar(l)+p):(e.height=this.maxHeight,e.width=Ar(l)+p),s.display&&this.ticks.length){const{first:x,last:b,widest:y,highest:C}=this._getLabelSizes(),A=s.padding*2,S=ws(this.labelRotation),O=Math.cos(S),D=Math.sin(S);if(d){const U=s.mirror?0:D*y.width+O*C.height;e.height=Math.min(this.maxHeight,e.height+U+A)}else{const U=s.mirror?0:O*y.width+D*C.height;e.width=Math.min(this.maxWidth,e.width+U+A)}this._calculatePadding(x,b,D,O)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,o){const{ticks:{align:l,padding:f},position:d}=this.options,p=this.labelRotation!==0,x=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,A=0;p?x?(C=o*e.width,A=s*n.height):(C=s*e.height,A=o*n.width):l==="start"?A=n.width:l==="end"?C=e.width:l!=="inner"&&(C=e.width/2,A=n.width/2),this.paddingLeft=Math.max((C-b+f)*this.width/(this.width-b),0),this.paddingRight=Math.max((A-y+f)*this.width/(this.width-y),0)}else{let b=n.height/2,y=e.height/2;l==="start"?(b=0,y=e.height):l==="end"&&(b=n.height,y=0),this.paddingTop=b+f,this.paddingBottom=y+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)be(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=ch(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:o,_longestTextCache:l}=this,f=[],d=[],p=Math.floor(n/lh(n,s));let x=0,b=0,y,C,A,S,O,D,U,V,k,G,j;for(y=0;y<n;y+=p){if(S=e[y].label,O=this._resolveTickFontOptions(y),o.font=D=O.string,U=l[D]=l[D]||{data:{},gc:[]},V=O.lineHeight,k=G=0,!be(S)&&!je(S))k=Hf(o,U.data,U.gc,k,S),G=V;else if(je(S))for(C=0,A=S.length;C<A;++C)j=S[C],!be(j)&&!je(j)&&(k=Hf(o,U.data,U.gc,k,j),G+=V);f.push(k),d.push(G),x=Math.max(k,x),b=Math.max(G,b)}yy(l,n);const tt=f.indexOf(x),H=d.indexOf(b),J=F=>({width:f[F]||0,height:d[F]||0});return{first:J(0),last:J(n-1),widest:J(tt),highest:J(H),widths:f,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return hb(this._alignToPixels?us(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Cy(this.getContext(),e,s))}return this.$context||(this.$context=_y(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ws(this.labelRotation),s=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),l=this._getLabelSizes(),f=e.autoSkipPadding||0,d=l?l.widest.width+f:0,p=l?l.highest.height+f:0;return this.isHorizontal()?p*s>d*o?d/s:p/o:p*o<d*s?p/s:d/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,o=this.options,{grid:l,position:f,border:d}=o,p=l.offset,x=this.isHorizontal(),y=this.ticks.length+(p?1:0),C=Ar(l),A=[],S=d.setContext(this.getContext()),O=S.display?S.width:0,D=O/2,U=function(Ct){return us(s,Ct,O)};let V,k,G,j,tt,H,J,F,pt,ht,Z,xt;if(f==="top")V=U(this.bottom),H=this.bottom-C,F=V-D,ht=U(e.top)+D,xt=e.bottom;else if(f==="bottom")V=U(this.top),ht=e.top,xt=U(e.bottom)-D,H=V+D,F=this.top+C;else if(f==="left")V=U(this.right),tt=this.right-C,J=V-D,pt=U(e.left)+D,Z=e.right;else if(f==="right")V=U(this.left),pt=e.left,Z=U(e.right)-D,tt=V+D,J=this.left+C;else if(n==="x"){if(f==="center")V=U((e.top+e.bottom)/2+.5);else if(ee(f)){const Ct=Object.keys(f)[0],lt=f[Ct];V=U(this.chart.scales[Ct].getPixelForValue(lt))}ht=e.top,xt=e.bottom,H=V+D,F=H+C}else if(n==="y"){if(f==="center")V=U((e.left+e.right)/2);else if(ee(f)){const Ct=Object.keys(f)[0],lt=f[Ct];V=U(this.chart.scales[Ct].getPixelForValue(lt))}tt=V-D,J=tt-C,pt=e.left,Z=e.right}const Rt=Zt(o.ticks.maxTicksLimit,y),X=Math.max(1,Math.ceil(y/Rt));for(k=0;k<y;k+=X){const Ct=this.getContext(k),lt=l.setContext(Ct),Ft=d.setContext(Ct),ve=lt.lineWidth,Ee=lt.color,We=Ft.dash||[],zt=Ft.dashOffset,Le=lt.tickWidth,ne=lt.tickColor,Ke=lt.tickBorderDash||[],bt=lt.tickBorderDashOffset;G=wy(this,k,p),G!==void 0&&(j=us(s,G,ve),x?tt=J=pt=Z=j:H=F=ht=xt=j,A.push({tx1:tt,ty1:H,tx2:J,ty2:F,x1:pt,y1:ht,x2:Z,y2:xt,width:ve,color:Ee,borderDash:We,borderDashOffset:zt,tickWidth:Le,tickColor:ne,tickBorderDash:Ke,tickBorderDashOffset:bt}))}return this._ticksLength=y,this._borderValue=V,A}_computeLabelItems(e){const n=this.axis,s=this.options,{position:o,ticks:l}=s,f=this.isHorizontal(),d=this.ticks,{align:p,crossAlign:x,padding:b,mirror:y}=l,C=Ar(s.grid),A=C+b,S=y?-b:A,O=-ws(this.labelRotation),D=[];let U,V,k,G,j,tt,H,J,F,pt,ht,Z,xt="middle";if(o==="top")tt=this.bottom-S,H=this._getXAxisLabelAlignment();else if(o==="bottom")tt=this.top+S,H=this._getXAxisLabelAlignment();else if(o==="left"){const X=this._getYAxisLabelAlignment(C);H=X.textAlign,j=X.x}else if(o==="right"){const X=this._getYAxisLabelAlignment(C);H=X.textAlign,j=X.x}else if(n==="x"){if(o==="center")tt=(e.top+e.bottom)/2+A;else if(ee(o)){const X=Object.keys(o)[0],Ct=o[X];tt=this.chart.scales[X].getPixelForValue(Ct)+A}H=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")j=(e.left+e.right)/2-A;else if(ee(o)){const X=Object.keys(o)[0],Ct=o[X];j=this.chart.scales[X].getPixelForValue(Ct)}H=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(p==="start"?xt="top":p==="end"&&(xt="bottom"));const Rt=this._getLabelSizes();for(U=0,V=d.length;U<V;++U){k=d[U],G=k.label;const X=l.setContext(this.getContext(U));J=this.getPixelForTick(U)+l.labelOffset,F=this._resolveTickFontOptions(U),pt=F.lineHeight,ht=je(G)?G.length:1;const Ct=ht/2,lt=X.color,Ft=X.textStrokeColor,ve=X.textStrokeWidth;let Ee=H;f?(j=J,H==="inner"&&(U===V-1?Ee=this.options.reverse?"left":"right":U===0?Ee=this.options.reverse?"right":"left":Ee="center"),o==="top"?x==="near"||O!==0?Z=-ht*pt+pt/2:x==="center"?Z=-Rt.highest.height/2-Ct*pt+pt:Z=-Rt.highest.height+pt/2:x==="near"||O!==0?Z=pt/2:x==="center"?Z=Rt.highest.height/2-Ct*pt:Z=Rt.highest.height-ht*pt,y&&(Z*=-1),O!==0&&!X.showLabelBackdrop&&(j+=pt/2*Math.sin(O))):(tt=J,Z=(1-ht)*pt/2);let We;if(X.showLabelBackdrop){const zt=Hn(X.backdropPadding),Le=Rt.heights[U],ne=Rt.widths[U];let Ke=Z-zt.top,bt=0-zt.left;switch(xt){case"middle":Ke-=Le/2;break;case"bottom":Ke-=Le;break}switch(H){case"center":bt-=ne/2;break;case"right":bt-=ne;break;case"inner":U===V-1?bt-=ne:U>0&&(bt-=ne/2);break}We={left:bt,top:Ke,width:ne+zt.width,height:Le+zt.height,color:X.backdropColor}}D.push({label:G,font:F,textOffset:Z,options:{rotation:O,color:lt,strokeColor:Ft,strokeWidth:ve,textAlign:Ee,textBaseline:xt,translation:[j,tt],backdrop:We}})}return D}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ws(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:o,padding:l}}=this.options,f=this._getLabelSizes(),d=e+l,p=f.widest.width;let x,b;return n==="left"?o?(b=this.right+l,s==="near"?x="left":s==="center"?(x="center",b+=p/2):(x="right",b+=p)):(b=this.right-d,s==="near"?x="right":s==="center"?(x="center",b-=p/2):(x="left",b=this.left)):n==="right"?o?(b=this.left+l,s==="near"?x="right":s==="center"?(x="center",b-=p/2):(x="left",b-=p)):(b=this.left+d,s==="near"?x="left":s==="center"?(x="center",b+=p/2):(x="right",b=this.right)):x="right",{textAlign:x,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:o,width:l,height:f}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,o,l,f),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(l=>l.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,f;const d=(p,x,b)=>{!b.width||!b.color||(s.save(),s.lineWidth=b.width,s.strokeStyle=b.color,s.setLineDash(b.borderDash||[]),s.lineDashOffset=b.borderDashOffset,s.beginPath(),s.moveTo(p.x,p.y),s.lineTo(x.x,x.y),s.stroke(),s.restore())};if(n.display)for(l=0,f=o.length;l<f;++l){const p=o[l];n.drawOnChartArea&&d({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),n.drawTicks&&d({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:o}}=this,l=s.setContext(this.getContext()),f=s.display?l.width:0;if(!f)return;const d=o.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let x,b,y,C;this.isHorizontal()?(x=us(e,this.left,f)-f/2,b=us(e,this.right,d)+d/2,y=C=p):(y=us(e,this.top,f)-f/2,C=us(e,this.bottom,d)+d/2,x=b=p),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(x,y),n.lineTo(b,C),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,o=this._computeLabelArea();o&&jc(s,o);const l=this.getLabelItems(e);for(const f of l){const d=f.options,p=f.font,x=f.label,b=f.textOffset;ao(s,x,0,b,p,d)}o&&Xc(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:o}}=this;if(!s.display)return;const l=an(s.font),f=Hn(s.padding),d=s.align;let p=l.lineHeight/2;n==="bottom"||n==="center"||ee(n)?(p+=f.bottom,je(s.text)&&(p+=l.lineHeight*(s.text.length-1))):p+=f.top;const{titleX:x,titleY:b,maxWidth:y,rotation:C}=Ey(this,p,n,d);ao(e,s.text,0,0,l,{color:s.color,maxWidth:y,rotation:C,textAlign:Ay(d,n,o),textBaseline:"middle",translation:[x,b]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Zt(e.grid&&e.grid.z,-1),o=Zt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lr.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",o=[];let l,f;for(l=0,f=n.length;l<f;++l){const d=n[l];d[s]===this.id&&(!e||d.type===e)&&o.push(d)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return an(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Wo{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Sy(n)&&(s=this.register(n));const o=this.items,l=e.id,f=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in o||(o[l]=e,Iy(e,f,s),this.override&&Be.override(e.id,e.overrides)),f}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,o=this.scope;s in n&&delete n[s],o&&s in Be[o]&&(delete Be[o][s],this.override&&delete Is[s])}}function Iy(t,e,n){const s=so(Object.create(null),[n?Be.get(n):{},Be.get(e),t.defaults]);Be.set(e,s),t.defaultRoutes&&vy(e,t.defaultRoutes),t.descriptors&&Be.describe(e,t.descriptors)}function vy(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),o=s.pop(),l=[t].concat(s).join("."),f=e[n].split("."),d=f.pop(),p=f.join(".");Be.route(l,o,p,d)})}function Sy(t){return"id"in t&&"defaults"in t}class Ty{constructor(){this.controllers=new Wo(Yr,"datasets",!0),this.elements=new Wo(Os,"elements"),this.plugins=new Wo(Object,"plugins"),this.scales=new Wo(lr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(o=>{const l=s||this._getRegistryForType(o);s||l.isForType(o)||l===this.plugins&&o.id?this._exec(e,l,o):le(o,f=>{const d=s||this._getRegistryForType(f);this._exec(e,d,f)})})}_exec(e,n,s){const o=Vc(e);Ce(s["before"+o],[],s),n[e](s),Ce(s["after"+o],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return o}}var ai=new Ty;class Oy{constructor(){this._init=void 0}notify(e,n,s,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const l=o?this._descriptors(e).filter(o):this._descriptors(e),f=this._notify(l,e,n,s);return n==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),f}_notify(e,n,s,o){o=o||{};for(const l of e){const f=l.plugin,d=f[s],p=[n,o,l.options];if(Ce(d,p,f)===!1&&o.cancelable)return!1}return!0}invalidate(){be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,o=Zt(s.options&&s.options.plugins,{}),l=Ry(s);return o===!1&&!n?[]:My(e,l,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,o=(l,f)=>l.filter(d=>!f.some(p=>d.plugin.id===p.plugin.id));this._notify(o(n,s),e,"stop"),this._notify(o(s,n),e,"start")}}function Ry(t){const e={},n=[],s=Object.keys(ai.plugins.items);for(let l=0;l<s.length;l++)n.push(ai.getPlugin(s[l]));const o=t.plugins||[];for(let l=0;l<o.length;l++){const f=o[l];n.indexOf(f)===-1&&(n.push(f),e[f.id]=!0)}return{plugins:n,localIds:e}}function Ny(t,e){return!e&&t===!1?null:t===!0?{}:t}function My(t,{plugins:e,localIds:n},s,o){const l=[],f=t.getContext();for(const d of e){const p=d.id,x=Ny(s[p],o);x!==null&&l.push({plugin:d,options:Dy(t.config,{plugin:d,local:n[p]},x,f)})}return l}function Dy(t,{plugin:e,local:n},s,o){const l=t.pluginScopeKeys(e),f=t.getOptionScopes(s,l);return n&&e.defaults&&f.push(e.defaults),t.createResolver(f,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uc(t,e){const n=Be.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Py(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function ky(t,e){return t===e?"_index_":"_value_"}function fh(t){if(t==="x"||t==="y"||t==="r")return t}function By(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function fc(t,...e){if(fh(t))return t;for(const n of e){const s=n.axis||By(n.position)||t.length>1&&fh(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hh(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Ly(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return hh(t,"x",n[0])||hh(t,"y",n[0])}return{}}function Fy(t,e){const n=Is[t.type]||{scales:{}},s=e.scales||{},o=uc(t.type,e),l=Object.create(null);return Object.keys(s).forEach(f=>{const d=s[f];if(!ee(d))return console.error(`Invalid scale configuration for scale: ${f}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const p=fc(f,d,Ly(f,t),Be.scales[d.type]),x=ky(p,o),b=n.scales||{};l[f]=Wr(Object.create(null),[{axis:p},d,b[p],b[x]])}),t.data.datasets.forEach(f=>{const d=f.type||t.type,p=f.indexAxis||uc(d,e),b=(Is[d]||{}).scales||{};Object.keys(b).forEach(y=>{const C=Py(y,p),A=f[C+"AxisID"]||C;l[A]=l[A]||Object.create(null),Wr(l[A],[{axis:C},s[A],b[y]])})}),Object.keys(l).forEach(f=>{const d=l[f];Wr(d,[Be.scales[d.type],Be.scale])}),l}function b1(t){const e=t.options||(t.options={});e.plugins=Zt(e.plugins,{}),e.scales=Fy(t,e)}function w1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Uy(t){return t=t||{},t.data=w1(t.data),b1(t),t}const dh=new Map,y1=new Set;function Go(t,e){let n=dh.get(t);return n||(n=e(),dh.set(t,n),y1.add(n)),n}const Er=(t,e,n)=>{const s=xa(e,n);s!==void 0&&t.add(s)};class Hy{constructor(e){this._config=Uy(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=w1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),b1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Go(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Go(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Go(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Go(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let o=s.get(e);return(!o||n)&&(o=new Map,s.set(e,o)),o}getOptionScopes(e,n,s){const{options:o,type:l}=this,f=this._cachedScopes(e,s),d=f.get(n);if(d)return d;const p=new Set;n.forEach(b=>{e&&(p.add(e),b.forEach(y=>Er(p,e,y))),b.forEach(y=>Er(p,o,y)),b.forEach(y=>Er(p,Is[l]||{},y)),b.forEach(y=>Er(p,Be,y)),b.forEach(y=>Er(p,ac,y))});const x=Array.from(p);return x.length===0&&x.push(Object.create(null)),y1.has(n)&&f.set(n,x),x}chartOptionScopes(){const{options:e,type:n}=this;return[e,Is[n]||{},Be.datasets[n]||{},{type:n},Be,ac]}resolveNamedOptions(e,n,s,o=[""]){const l={$shared:!0},{resolver:f,subPrefixes:d}=gh(this._resolverCache,e,o);let p=f;if(Wy(f,n)){l.$shared=!1,s=Ji(s)?s():s;const x=this.createResolver(e,s,d);p=sr(f,s,x)}for(const x of n)l[x]=p[x];return l}createResolver(e,n,s=[""],o){const{resolver:l}=gh(this._resolverCache,e,s);return ee(n)?sr(l,n,void 0,o):l}}function gh(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const o=n.join();let l=s.get(o);return l||(l={resolver:Yc(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},s.set(o,l)),l}const Vy=t=>ee(t)&&Object.getOwnPropertyNames(t).some(e=>Ji(t[e]));function Wy(t,e){const{isScriptable:n,isIndexable:s}=i1(t);for(const o of e){const l=n(o),f=s(o),d=(f||l)&&t[o];if(l&&(Ji(d)||Vy(d))||f&&je(d))return!0}return!1}var Gy="4.5.1";const zy=["top","bottom","left","right","chartArea"];function ph(t,e){return t==="top"||t==="bottom"||zy.indexOf(t)===-1&&e==="x"}function xh(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function mh(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[t],e)}function jy(t){const e=t.chart,n=e.options.animation;Ce(n&&n.onProgress,[t],e)}function _1(t){return qc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ta={},bh=t=>{const e=_1(t);return Object.values(ta).filter(n=>n.canvas===e).pop()};function Xy(t,e,n){const s=Object.keys(t);for(const o of s){const l=+o;if(l>=e){const f=t[o];delete t[o],(n>0||l>e)&&(t[l+n]=f)}}}function Yy(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Fi;let Ka=(Fi=class{static register(...e){ai.add(...e),wh()}static unregister(...e){ai.remove(...e),wh()}constructor(e,n){const s=this.config=new Hy(n),o=_1(e),l=bh(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const f=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||fy(o)),this.platform.updateConfig(s);const d=this.platform.acquireContext(o,f.aspectRatio),p=d&&d.canvas,x=p&&p.height,b=p&&p.width;if(this.id=qm(),this.ctx=d,this.canvas=p,this.width=b,this.height=x,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Oy,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mb(y=>this.update(y),f.resizeDelay||0),this._dataChanges=[],ta[this.id]=this,!d||!p){console.error("Failed to create chart: can't acquire context from the given item");return}xi.listen(this,"complete",mh),xi.listen(this,"progress",jy),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:o,_aspectRatio:l}=this;return be(e)?n&&l?l:o?s/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ai}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vf(this.canvas,this.ctx),this}stop(){return xi.stop(this),this}resize(e,n){xi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,o=this.canvas,l=s.maintainAspectRatio&&this.aspectRatio,f=this.platform.getMaximumSize(o,e,n,l),d=s.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,zf(this,d,!0)&&(this.notifyPlugins("resize",{size:f}),Ce(s.onResize,[this,f],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};le(n,(s,o)=>{s.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,o=Object.keys(s).reduce((f,d)=>(f[d]=!1,f),{});let l=[];n&&(l=l.concat(Object.keys(n).map(f=>{const d=n[f],p=fc(f,d),x=p==="r",b=p==="x";return{options:d,dposition:x?"chartArea":b?"bottom":"left",dtype:x?"radialLinear":b?"category":"linear"}}))),le(l,f=>{const d=f.options,p=d.id,x=fc(p,d),b=Zt(d.type,f.dtype);(d.position===void 0||ph(d.position,x)!==ph(f.dposition))&&(d.position=f.dposition),o[p]=!0;let y=null;if(p in s&&s[p].type===b)y=s[p];else{const C=ai.getScale(b);y=new C({id:p,type:b,ctx:this.ctx,chart:this}),s[y.id]=y}y.init(d,e)}),le(o,(f,d)=>{f||delete s[d]}),le(s,f=>{Ln.configure(this,f,f.options),Ln.addBox(this,f)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((o,l)=>o.index-l.index),s>n){for(let o=n;o<s;++o)this._destroyDatasetMeta(o);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(xh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,o)=>{n.filter(l=>l===s._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,o;for(this._removeUnreferencedMetasets(),s=0,o=n.length;s<o;s++){const l=n[s];let f=this.getDatasetMeta(s);const d=l.type||this.config.type;if(f.type&&f.type!==d&&(this._destroyDatasetMeta(s),f=this.getDatasetMeta(s)),f.type=d,f.indexAxis=l.indexAxis||uc(d,this.options),f.order=l.order||0,f.index=s,f.label=""+l.label,f.visible=this.isDatasetVisible(s),f.controller)f.controller.updateIndex(s),f.controller.linkScales();else{const p=ai.getController(d),{datasetElementType:x,dataElementType:b}=Be.datasets[d];Object.assign(p,{dataElementType:ai.getElement(b),datasetElementType:x&&ai.getElement(x)}),f.controller=new p(this,s),e.push(f.controller)}}return this._updateMetasets(),e}_resetElements(){le(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let x=0,b=this.data.datasets.length;x<b;x++){const{controller:y}=this.getDatasetMeta(x),C=!o&&l.indexOf(y)===-1;y.buildOrUpdateElements(C),f=Math.max(+y.getMaxOverflow(),f)}f=this._minPadding=s.layout.autoPadding?f:0,this._updateLayout(f),o||le(l,x=>{x.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xh("z","_idx"));const{_active:d,_lastEvent:p}=this;p?this._eventHandler(p,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){le(this.scales,e=>{Ln.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Nf(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:o,count:l}of n){const f=s==="_removeElements"?-l:l;Xy(e,o,f)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=l=>new Set(e.filter(f=>f[0]===l).map((f,d)=>d+","+f.splice(1).join(","))),o=s(0);for(let l=1;l<n;l++)if(!Nf(o,s(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ln.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],le(this.boxes,o=>{s&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ji(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),o={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(s.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xi.has(this)?this.attached&&!xi.running(this)&&xi.start(this):(this.draw(),mh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let o,l;for(o=0,l=n.length;o<l;++o){const f=n[o];(!e||f.visible)&&s.push(f)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},o=Ew(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(o&&jc(n,o),e.controller.draw(),o&&Xc(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return oo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,o){const l=zw.modes[n];return typeof l=="function"?l(this,e,s,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let o=s.filter(l=>l&&l._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=Ts(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const o=s?"show":"hide",l=this.getDatasetMeta(e),f=l.controller._resolveAnimations(void 0,o);ma(n)?(l.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),f.update(l,{visible:s}),this.update(d=>d.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),xi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vf(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ta[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(l,f)=>{n.addEventListener(this,l,f),e[l]=f},o=(l,f,d)=>{l.offsetX=f,l.offsetY=d,this._eventHandler(l)};le(this.options.events,l=>s(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(p,x)=>{n.addEventListener(this,p,x),e[p]=x},o=(p,x)=>{e[p]&&(n.removeEventListener(this,p,x),delete e[p])},l=(p,x)=>{this.canvas&&this.resize(p,x)};let f;const d=()=>{o("attach",d),this.attached=!0,this.resize(),s("resize",l),s("detach",f)};f=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),s("attach",d)},n.isAttached(this.canvas)?d():f()}unbindEvents(){le(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},le(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const o=s?"set":"remove";let l,f,d,p;for(n==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),d=0,p=e.length;d<p;++d){f=e[d];const x=f&&this.getDatasetMeta(f.datasetIndex).controller;x&&x[o+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:l,index:f})=>{const d=this.getDatasetMeta(l);if(!d)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:d.data[f],index:f}});!ga(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const o=this.options.hover,l=(p,x)=>p.filter(b=>!x.some(y=>b.datasetIndex===y.datasetIndex&&b.index===y.index)),f=l(n,e),d=s?e:l(e,n);f.length&&this.updateHoverStyle(f,o.mode,!1),d.length&&o.mode&&this.updateHoverStyle(d,o.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=f=>(f.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,o)===!1)return;const l=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(l||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:o=[],options:l}=this,f=n,d=this._getActiveElements(e,o,s,f),p=nb(e),x=Yy(e,this._lastEvent,s,p);s&&(this._lastEvent=null,Ce(l.onHover,[e,d,this],this),p&&Ce(l.onClick,[e,d,this],this));const b=!ga(d,o);return(b||n)&&(this._active=d,this._updateHoverStyles(d,o,n)),this._lastEvent=x,b}_getActiveElements(e,n,s,o){if(e.type==="mouseout")return[];if(!s)return n;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}},Ht(Fi,"defaults",Be),Ht(Fi,"instances",ta),Ht(Fi,"overrides",Is),Ht(Fi,"registry",ai),Ht(Fi,"version",Gy),Ht(Fi,"getChart",bh),Fi);function wh(){return le(Ka.instances,t=>t._plugins.invalidate())}function C1(t,e,n=e){t.lineCap=Zt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Zt(n.borderDash,e.borderDash)),t.lineDashOffset=Zt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Zt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Zt(n.borderWidth,e.borderWidth),t.strokeStyle=Zt(n.borderColor,e.borderColor)}function Ky(t,e,n){t.lineTo(n.x,n.y)}function Zy(t){return t.stepped?Nb:t.tension||t.cubicInterpolationMode==="monotone"?Mb:Ky}function A1(t,e,n={}){const s=t.length,{start:o=0,end:l=s-1}=n,{start:f,end:d}=e,p=Math.max(o,f),x=Math.min(l,d),b=o<f&&l<f||o>d&&l>d;return{count:s,start:p,loop:e.loop,ilen:x<p&&!b?s+x-p:x-p}}function qy(t,e,n,s){const{points:o,options:l}=e,{count:f,start:d,loop:p,ilen:x}=A1(o,n,s),b=Zy(l);let{move:y=!0,reverse:C}=s||{},A,S,O;for(A=0;A<=x;++A)S=o[(d+(C?x-A:A))%f],!S.skip&&(y?(t.moveTo(S.x,S.y),y=!1):b(t,O,S,C,l.stepped),O=S);return p&&(S=o[(d+(C?x:0))%f],b(t,O,S,C,l.stepped)),!!p}function Qy(t,e,n,s){const o=e.points,{count:l,start:f,ilen:d}=A1(o,n,s),{move:p=!0,reverse:x}=s||{};let b=0,y=0,C,A,S,O,D,U;const V=G=>(f+(x?d-G:G))%l,k=()=>{O!==D&&(t.lineTo(b,D),t.lineTo(b,O),t.lineTo(b,U))};for(p&&(A=o[V(0)],t.moveTo(A.x,A.y)),C=0;C<=d;++C){if(A=o[V(C)],A.skip)continue;const G=A.x,j=A.y,tt=G|0;tt===S?(j<O?O=j:j>D&&(D=j),b=(y*b+G)/++y):(k(),t.lineTo(G,j),S=tt,y=0,O=D=j),U=j}k()}function hc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Qy:qy}function Jy(t){return t.stepped?fw:t.tension||t.cubicInterpolationMode==="monotone"?hw:gs}function $y(t,e,n,s){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,s)&&o.closePath()),C1(t,e.options),t.stroke(o)}function t_(t,e,n,s){const{segments:o,options:l}=e,f=hc(e);for(const d of o)C1(t,l,d.style),t.beginPath(),f(t,e,d,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const e_=typeof Path2D=="function";function n_(t,e,n,s){e_&&!e.options.segment?$y(t,e,n,s):t_(t,e,n,s)}class Rr extends Os{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const o=s.spanGaps?this._loop:this._fullLoop;iw(this._points,s,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yw(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,o=e[n],l=this.points,f=mw(this,{property:n,start:o,end:o});if(!f.length)return;const d=[],p=Jy(s);let x,b;for(x=0,b=f.length;x<b;++x){const{start:y,end:C}=f[x],A=l[y],S=l[C];if(A===S){d.push(A);continue}const O=Math.abs((o-A[n])/(S[n]-A[n])),D=p(A,S,O,s.stepped);D[n]=e[n],d.push(D)}return d.length===1?d[0]:d}pathSegment(e,n,s){return hc(this)(e,this,n,s)}path(e,n,s){const o=this.segments,l=hc(this);let f=this._loop;n=n||0,s=s||this.points.length-n;for(const d of o)f&=l(e,this,d,{start:n,end:n+s-1});return!!f}draw(e,n,s,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),n_(e,this,s,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ht(Rr,"id","line"),Ht(Rr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ht(Rr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ht(Rr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function yh(t,e,n,s){const o=t.options,{[n]:l}=t.getProps([n],s);return Math.abs(e-l)<o.radius+o.hitRadius}class ea extends Os{constructor(n){super();Ht(this,"parsed");Ht(this,"skip");Ht(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,o){const l=this.options,{x:f,y:d}=this.getProps(["x","y"],o);return Math.pow(n-f,2)+Math.pow(s-d,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(n,s){return yh(this,n,"x",s)}inYRange(n,s){return yh(this,n,"y",s)}getCenterPoint(n){const{x:s,y:o}=this.getProps(["x","y"],n);return{x:s,y:o}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const o=s&&n.borderWidth||0;return(s+o)*2}draw(n,s){const o=this.options;this.skip||o.radius<.1||!oo(this,s,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,lc(n,o,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ht(ea,"id","point"),Ht(ea,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ht(ea,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const _h=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},i_=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ch extends Os{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ce(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,o)=>e.sort(s,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,o=an(s.font),l=o.size,f=this._computeTitleHeight(),{boxWidth:d,itemHeight:p}=_h(s,l);let x,b;n.font=o.string,this.isHorizontal()?(x=this.maxWidth,b=this._fitRows(f,l,d,p)+10):(b=this.maxHeight,x=this._fitCols(f,o,d,p)+10),this.width=Math.min(x,e.maxWidth||this.maxWidth),this.height=Math.min(b,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,o){const{ctx:l,maxWidth:f,options:{labels:{padding:d}}}=this,p=this.legendHitBoxes=[],x=this.lineWidths=[0],b=o+d;let y=e;l.textAlign="left",l.textBaseline="middle";let C=-1,A=-b;return this.legendItems.forEach((S,O)=>{const D=s+n/2+l.measureText(S.text).width;(O===0||x[x.length-1]+D+2*d>f)&&(y+=b,x[x.length-(O>0?0:1)]=0,A+=b,C++),p[O]={left:0,top:A,row:C,width:D,height:o},x[x.length-1]+=D+d}),y}_fitCols(e,n,s,o){const{ctx:l,maxHeight:f,options:{labels:{padding:d}}}=this,p=this.legendHitBoxes=[],x=this.columnSizes=[],b=f-e;let y=d,C=0,A=0,S=0,O=0;return this.legendItems.forEach((D,U)=>{const{itemWidth:V,itemHeight:k}=s_(s,n,l,D,o);U>0&&A+k+2*d>b&&(y+=C+d,x.push({width:C,height:A}),S+=C+d,O++,C=A=0),p[U]={left:S,top:A,col:O,width:V,height:k},C=Math.max(C,V),A+=k+d}),y+=C,x.push({width:C,height:A}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:o},rtl:l}}=this,f=Js(l,this.left,this.width);if(this.isHorizontal()){let d=0,p=en(s,this.left+o,this.right-this.lineWidths[d]);for(const x of n)d!==x.row&&(d=x.row,p=en(s,this.left+o,this.right-this.lineWidths[d])),x.top+=this.top+e+o,x.left=f.leftForLtr(f.x(p),x.width),p+=x.width+o}else{let d=0,p=en(s,this.top+e+o,this.bottom-this.columnSizes[d].height);for(const x of n)x.col!==d&&(d=x.col,p=en(s,this.top+e+o,this.bottom-this.columnSizes[d].height)),x.top=p,x.left+=this.left+o,x.left=f.leftForLtr(f.x(x.left),x.width),p+=x.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jc(e,this),this._draw(),Xc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:o}=this,{align:l,labels:f}=e,d=Be.color,p=Js(e.rtl,this.left,this.width),x=an(f.font),{padding:b}=f,y=x.size,C=y/2;let A;this.drawTitle(),o.textAlign=p.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=x.string;const{boxWidth:S,boxHeight:O,itemHeight:D}=_h(f,y),U=function(tt,H,J){if(isNaN(S)||S<=0||isNaN(O)||O<0)return;o.save();const F=Zt(J.lineWidth,1);if(o.fillStyle=Zt(J.fillStyle,d),o.lineCap=Zt(J.lineCap,"butt"),o.lineDashOffset=Zt(J.lineDashOffset,0),o.lineJoin=Zt(J.lineJoin,"miter"),o.lineWidth=F,o.strokeStyle=Zt(J.strokeStyle,d),o.setLineDash(Zt(J.lineDash,[])),f.usePointStyle){const pt={radius:O*Math.SQRT2/2,pointStyle:J.pointStyle,rotation:J.rotation,borderWidth:F},ht=p.xPlus(tt,S/2),Z=H+C;e1(o,pt,ht,Z,f.pointStyleWidth&&S)}else{const pt=H+Math.max((y-O)/2,0),ht=p.leftForLtr(tt,S),Z=Xr(J.borderRadius);o.beginPath(),Object.values(Z).some(xt=>xt!==0)?cc(o,{x:ht,y:pt,w:S,h:O,radius:Z}):o.rect(ht,pt,S,O),o.fill(),F!==0&&o.stroke()}o.restore()},V=function(tt,H,J){ao(o,J.text,tt,H+D/2,x,{strikethrough:J.hidden,textAlign:p.textAlign(J.textAlign)})},k=this.isHorizontal(),G=this._computeTitleHeight();k?A={x:en(l,this.left+b,this.right-s[0]),y:this.top+b+G,line:0}:A={x:this.left+b,y:en(l,this.top+G+b,this.bottom-n[0].height),line:0},l1(this.ctx,e.textDirection);const j=D+b;this.legendItems.forEach((tt,H)=>{o.strokeStyle=tt.fontColor,o.fillStyle=tt.fontColor;const J=o.measureText(tt.text).width,F=p.textAlign(tt.textAlign||(tt.textAlign=f.textAlign)),pt=S+C+J;let ht=A.x,Z=A.y;p.setWidth(this.width),k?H>0&&ht+pt+b>this.right&&(Z=A.y+=j,A.line++,ht=A.x=en(l,this.left+b,this.right-s[A.line])):H>0&&Z+j>this.bottom&&(ht=A.x=ht+n[A.line].width+b,A.line++,Z=A.y=en(l,this.top+G+b,this.bottom-n[A.line].height));const xt=p.x(ht);if(U(xt,Z,tt),ht=bb(F,ht+S+C,k?ht+pt:this.right,e.rtl),V(p.x(ht),Z,tt),k)A.x+=pt+b;else if(typeof tt.text!="string"){const Rt=x.lineHeight;A.y+=E1(tt,Rt)+b}else A.y+=j}),c1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=an(n.font),o=Hn(n.padding);if(!n.display)return;const l=Js(e.rtl,this.left,this.width),f=this.ctx,d=n.position,p=s.size/2,x=o.top+p;let b,y=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),b=this.top+x,y=en(e.align,y,this.right-C);else{const S=this.columnSizes.reduce((O,D)=>Math.max(O,D.height),0);b=x+en(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const A=en(d,y,y+C);f.textAlign=l.textAlign(Gc(d)),f.textBaseline="middle",f.strokeStyle=n.color,f.fillStyle=n.color,f.font=s.string,ao(f,n.text,A,b,s)}_computeTitleHeight(){const e=this.options.title,n=an(e.font),s=Hn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,o,l;if(Tr(e,this.left,this.right)&&Tr(n,this.top,this.bottom)){for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(o=l[s],Tr(e,o.left,o.left+o.width)&&Tr(n,o.top,o.top+o.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!a_(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,l=i_(o,s);o&&!l&&Ce(n.onLeave,[e,o,this],this),this._hoveredItem=s,s&&!l&&Ce(n.onHover,[e,s,this],this)}else s&&Ce(n.onClick,[e,s,this],this)}}function s_(t,e,n,s,o){const l=r_(s,t,e,n),f=o_(o,s,e.lineHeight);return{itemWidth:l,itemHeight:f}}function r_(t,e,n,s){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((l,f)=>l.length>f.length?l:f)),e+n.size/2+s.measureText(o).width}function o_(t,e,n){let s=t;return typeof e.text!="string"&&(s=E1(e,n)),s}function E1(t,e){const n=t.text?t.text.length:0;return e*n}function a_(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var l_={id:"legend",_element:Ch,start(t,e,n){const s=t.legend=new Ch({ctx:t.ctx,options:n,chart:t});Ln.configure(t,s,n),Ln.addBox(t,s)},stop(t){Ln.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Ln.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,o=n.chart;o.isDatasetVisible(s)?(o.hide(s),e.hidden=!0):(o.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:o,color:l,useBorderRadius:f,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(p=>{const x=p.controller.getStyle(n?0:void 0),b=Hn(x.borderWidth);return{text:e[p.index].label,fillStyle:x.backgroundColor,fontColor:l,hidden:!p.visible,lineCap:x.borderCapStyle,lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:x.borderColor,pointStyle:s||x.pointStyle,rotation:x.rotation,textAlign:o||x.textAlign,borderRadius:f&&(d||x.borderRadius),datasetIndex:p.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class I1 extends Os{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=je(s.text)?s.text.length:1;this._padding=Hn(s.padding);const l=o*an(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:o,right:l,options:f}=this,d=f.align;let p=0,x,b,y;return this.isHorizontal()?(b=en(d,s,l),y=n+e,x=l-s):(f.position==="left"?(b=s+e,y=en(d,o,n),p=Xe*-.5):(b=l-e,y=en(d,n,o),p=Xe*.5),x=o-n),{titleX:b,titleY:y,maxWidth:x,rotation:p}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=an(n.font),l=s.lineHeight/2+this._padding.top,{titleX:f,titleY:d,maxWidth:p,rotation:x}=this._drawArgs(l);ao(e,n.text,0,0,s,{color:n.color,maxWidth:p,rotation:x,textAlign:Gc(n.align),textBaseline:"middle",translation:[f,d]})}}function c_(t,e){const n=new I1({ctx:t.ctx,options:e,chart:t});Ln.configure(t,n,e),Ln.addBox(t,n),t.titleBlock=n}var u_={id:"title",_element:I1,start(t,e,n){c_(t,n)},stop(t){const e=t.titleBlock;Ln.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Ln.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nr={average(t){if(!t.length)return!1;let e,n,s=new Set,o=0,l=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const p=d.tooltipPosition();s.add(p.x),o+=p.y,++l}}return l===0||s.size===0?!1:{x:[...s].reduce((d,p)=>d+p)/s.size,y:o/l}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,o=Number.POSITIVE_INFINITY,l,f,d;for(l=0,f=t.length;l<f;++l){const p=t[l].element;if(p&&p.hasValue()){const x=p.getCenterPoint(),b=oc(e,x);b<o&&(o=b,d=p)}}if(d){const p=d.tooltipPosition();n=p.x,s=p.y}return{x:n,y:s}}};function si(t,e){return e&&(je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function mi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function f_(t,e){const{element:n,datasetIndex:s,index:o}=e,l=t.getDatasetMeta(s).controller,{label:f,value:d}=l.getLabelAndValue(o);return{chart:t,label:f,parsed:l.getParsed(o),raw:t.data.datasets[s].data[o],formattedValue:d,dataset:l.getDataset(),dataIndex:o,datasetIndex:s,element:n}}function Ah(t,e){const n=t.chart.ctx,{body:s,footer:o,title:l}=t,{boxWidth:f,boxHeight:d}=e,p=an(e.bodyFont),x=an(e.titleFont),b=an(e.footerFont),y=l.length,C=o.length,A=s.length,S=Hn(e.padding);let O=S.height,D=0,U=s.reduce((G,j)=>G+j.before.length+j.lines.length+j.after.length,0);if(U+=t.beforeBody.length+t.afterBody.length,y&&(O+=y*x.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),U){const G=e.displayColors?Math.max(d,p.lineHeight):p.lineHeight;O+=A*G+(U-A)*p.lineHeight+(U-1)*e.bodySpacing}C&&(O+=e.footerMarginTop+C*b.lineHeight+(C-1)*e.footerSpacing);let V=0;const k=function(G){D=Math.max(D,n.measureText(G).width+V)};return n.save(),n.font=x.string,le(t.title,k),n.font=p.string,le(t.beforeBody.concat(t.afterBody),k),V=e.displayColors?f+2+e.boxPadding:0,le(s,G=>{le(G.before,k),le(G.lines,k),le(G.after,k)}),V=0,n.font=b.string,le(t.footer,k),n.restore(),D+=S.width,{width:D,height:O}}function h_(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function d_(t,e,n,s){const{x:o,width:l}=s,f=n.caretSize+n.caretPadding;if(t==="left"&&o+l+f>e.width||t==="right"&&o-l-f<0)return!0}function g_(t,e,n,s){const{x:o,width:l}=n,{width:f,chartArea:{left:d,right:p}}=t;let x="center";return s==="center"?x=o<=(d+p)/2?"left":"right":o<=l/2?x="left":o>=f-l/2&&(x="right"),d_(x,t,e,n)&&(x="center"),x}function Eh(t,e,n){const s=n.yAlign||e.yAlign||h_(t,n);return{xAlign:n.xAlign||e.xAlign||g_(t,e,n,s),yAlign:s}}function p_(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function x_(t,e,n){let{y:s,height:o}=t;return e==="top"?s+=n:e==="bottom"?s-=o+n:s-=o/2,s}function Ih(t,e,n,s){const{caretSize:o,caretPadding:l,cornerRadius:f}=t,{xAlign:d,yAlign:p}=n,x=o+l,{topLeft:b,topRight:y,bottomLeft:C,bottomRight:A}=Xr(f);let S=p_(e,d);const O=x_(e,p,x);return p==="center"?d==="left"?S+=x:d==="right"&&(S-=x):d==="left"?S-=Math.max(b,C)+o:d==="right"&&(S+=Math.max(y,A)+o),{x:Bn(S,0,s.width-e.width),y:Bn(O,0,s.height-e.height)}}function zo(t,e,n){const s=Hn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function vh(t){return si([],mi(t))}function m_(t,e,n){return Ts(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Sh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const v1={beforeTitle:pi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:pi,beforeBody:pi,beforeLabel:pi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return be(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:pi,afterBody:pi,beforeFooter:pi,footer:pi,afterFooter:pi};function yn(t,e,n,s){const o=t[e].call(n,s);return typeof o>"u"?v1[e].call(n,s):o}class dc extends Os{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),o=s.enabled&&n.options.animation&&s.animations,l=new f1(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=m_(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,o=yn(s,"beforeTitle",this,e),l=yn(s,"title",this,e),f=yn(s,"afterTitle",this,e);let d=[];return d=si(d,mi(o)),d=si(d,mi(l)),d=si(d,mi(f)),d}getBeforeBody(e,n){return vh(yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,o=[];return le(e,l=>{const f={before:[],lines:[],after:[]},d=Sh(s,l);si(f.before,mi(yn(d,"beforeLabel",this,l))),si(f.lines,yn(d,"label",this,l)),si(f.after,mi(yn(d,"afterLabel",this,l))),o.push(f)}),o}getAfterBody(e,n){return vh(yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,o=yn(s,"beforeFooter",this,e),l=yn(s,"footer",this,e),f=yn(s,"afterFooter",this,e);let d=[];return d=si(d,mi(o)),d=si(d,mi(l)),d=si(d,mi(f)),d}_createItems(e){const n=this._active,s=this.chart.data,o=[],l=[],f=[];let d=[],p,x;for(p=0,x=n.length;p<x;++p)d.push(f_(this.chart,n[p]));return e.filter&&(d=d.filter((b,y,C)=>e.filter(b,y,C,s))),e.itemSort&&(d=d.sort((b,y)=>e.itemSort(b,y,s))),le(d,b=>{const y=Sh(e.callbacks,b);o.push(yn(y,"labelColor",this,b)),l.push(yn(y,"labelPointStyle",this,b)),f.push(yn(y,"labelTextColor",this,b))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=f,this.dataPoints=d,d}update(e,n){const s=this.options.setContext(this.getContext()),o=this._active;let l,f=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const d=Nr[s.position].call(this,o,this._eventPosition);f=this._createItems(s),this.title=this.getTitle(f,s),this.beforeBody=this.getBeforeBody(f,s),this.body=this.getBody(f,s),this.afterBody=this.getAfterBody(f,s),this.footer=this.getFooter(f,s);const p=this._size=Ah(this,s),x=Object.assign({},d,p),b=Eh(this.chart,s,x),y=Ih(s,x,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,l={opacity:1,x:y.x,y:y.y,width:p.width,height:p.height,caretX:d.x,caretY:d.y}}this._tooltipItems=f,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,o){const l=this.getCaretPosition(e,s,o);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(e,n,s){const{xAlign:o,yAlign:l}=this,{caretSize:f,cornerRadius:d}=s,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:y}=Xr(d),{x:C,y:A}=e,{width:S,height:O}=n;let D,U,V,k,G,j;return l==="center"?(G=A+O/2,o==="left"?(D=C,U=D-f,k=G+f,j=G-f):(D=C+S,U=D+f,k=G-f,j=G+f),V=D):(o==="left"?U=C+Math.max(p,b)+f:o==="right"?U=C+S-Math.max(x,y)-f:U=this.caretX,l==="top"?(k=A,G=k-f,D=U-f,V=U+f):(k=A+O,G=k+f,D=U+f,V=U-f),j=k),{x1:D,x2:U,x3:V,y1:k,y2:G,y3:j}}drawTitle(e,n,s){const o=this.title,l=o.length;let f,d,p;if(l){const x=Js(s.rtl,this.x,this.width);for(e.x=zo(this,s.titleAlign,s),n.textAlign=x.textAlign(s.titleAlign),n.textBaseline="middle",f=an(s.titleFont),d=s.titleSpacing,n.fillStyle=s.titleColor,n.font=f.string,p=0;p<l;++p)n.fillText(o[p],x.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+d,p+1===l&&(e.y+=s.titleMarginBottom-d)}}_drawColorBox(e,n,s,o,l){const f=this.labelColors[s],d=this.labelPointStyles[s],{boxHeight:p,boxWidth:x}=l,b=an(l.bodyFont),y=zo(this,"left",l),C=o.x(y),A=p<b.lineHeight?(b.lineHeight-p)/2:0,S=n.y+A;if(l.usePointStyle){const O={radius:Math.min(x,p)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},D=o.leftForLtr(C,x)+x/2,U=S+p/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,lc(e,O,D,U),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,lc(e,O,D,U)}else{e.lineWidth=ee(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const O=o.leftForLtr(C,x),D=o.leftForLtr(o.xPlus(C,1),x-2),U=Xr(f.borderRadius);Object.values(U).some(V=>V!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,cc(e,{x:O,y:S,w:x,h:p,radius:U}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),cc(e,{x:D,y:S+1,w:x-2,h:p-2,radius:U}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(O,S,x,p),e.strokeRect(O,S,x,p),e.fillStyle=f.backgroundColor,e.fillRect(D,S+1,x-2,p-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:o}=this,{bodySpacing:l,bodyAlign:f,displayColors:d,boxHeight:p,boxWidth:x,boxPadding:b}=s,y=an(s.bodyFont);let C=y.lineHeight,A=0;const S=Js(s.rtl,this.x,this.width),O=function(J){n.fillText(J,S.x(e.x+A),e.y+C/2),e.y+=C+l},D=S.textAlign(f);let U,V,k,G,j,tt,H;for(n.textAlign=f,n.textBaseline="middle",n.font=y.string,e.x=zo(this,D,s),n.fillStyle=s.bodyColor,le(this.beforeBody,O),A=d&&D!=="right"?f==="center"?x/2+b:x+2+b:0,G=0,tt=o.length;G<tt;++G){for(U=o[G],V=this.labelTextColors[G],n.fillStyle=V,le(U.before,O),k=U.lines,d&&k.length&&(this._drawColorBox(n,e,G,S,s),C=Math.max(y.lineHeight,p)),j=0,H=k.length;j<H;++j)O(k[j]),C=y.lineHeight;le(U.after,O)}A=0,C=y.lineHeight,le(this.afterBody,O),e.y-=l}drawFooter(e,n,s){const o=this.footer,l=o.length;let f,d;if(l){const p=Js(s.rtl,this.x,this.width);for(e.x=zo(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=p.textAlign(s.footerAlign),n.textBaseline="middle",f=an(s.footerFont),n.fillStyle=s.footerColor,n.font=f.string,d=0;d<l;++d)n.fillText(o[d],p.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+s.footerSpacing}}drawBackground(e,n,s,o){const{xAlign:l,yAlign:f}=this,{x:d,y:p}=e,{width:x,height:b}=s,{topLeft:y,topRight:C,bottomLeft:A,bottomRight:S}=Xr(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(d+y,p),f==="top"&&this.drawCaret(e,n,s,o),n.lineTo(d+x-C,p),n.quadraticCurveTo(d+x,p,d+x,p+C),f==="center"&&l==="right"&&this.drawCaret(e,n,s,o),n.lineTo(d+x,p+b-S),n.quadraticCurveTo(d+x,p+b,d+x-S,p+b),f==="bottom"&&this.drawCaret(e,n,s,o),n.lineTo(d+A,p+b),n.quadraticCurveTo(d,p+b,d,p+b-A),f==="center"&&l==="left"&&this.drawCaret(e,n,s,o),n.lineTo(d,p+y),n.quadraticCurveTo(d,p,d+y,p),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,o=s&&s.x,l=s&&s.y;if(o||l){const f=Nr[e.position].call(this,this._active,this._eventPosition);if(!f)return;const d=this._size=Ah(this,e),p=Object.assign({},f,this._size),x=Eh(n,e,p),b=Ih(e,p,x,n);(o._to!==b.x||l._to!==b.y)&&(this.xAlign=x.xAlign,this.yAlign=x.yAlign,this.width=d.width,this.height=d.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const f=Hn(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=s,this.drawBackground(l,e,o,n),l1(e,n.textDirection),l.y+=f.top,this.drawTitle(l,e,n),this.drawBody(l,e,n),this.drawFooter(l,e,n),c1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,o=e.map(({datasetIndex:d,index:p})=>{const x=this.chart.getDatasetMeta(d);if(!x)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:x.data[p],index:p}}),l=!ga(s,o),f=this._positionChanged(o,n);(l||f)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],f=this._getActiveElements(e,l,n,s),d=this._positionChanged(f,e),p=n||!ga(f,l)||d;return p&&(this._active=f,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),p}_getActiveElements(e,n,s,o){const l=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const f=this.chart.getElementsAtEventForMode(e,l.mode,l,s);return l.reverse&&f.reverse(),f}_positionChanged(e,n){const{caretX:s,caretY:o,options:l}=this,f=Nr[l.position].call(this,e,n);return f!==!1&&(s!==f.x||o!==f.y)}}Ht(dc,"positioners",Nr);var b_={id:"tooltip",_element:dc,positioners:Nr,afterInit(t,e,n){n&&(t.tooltip=new dc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:v1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const w_=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function y_(t,e,n,s){const o=t.indexOf(e);if(o===-1)return w_(t,e,n,s);const l=t.lastIndexOf(e);return o!==l?n:o}const __=(t,e)=>t===null?null:Bn(Math.round(t),0,e);function Th(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class gc extends lr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:o,label:l}of n)s[o]===l&&s.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(be(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:y_(s,e,Zt(n,e),this._addedLabels),__(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(o=this.getLabels().length-1)),this.min=s,this.max=o}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,o=[];let l=this.getLabels();l=e===0&&n===l.length-1?l:l.slice(e,n+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let f=e;f<=n;f++)o.push({value:f});return o}getLabelForValue(e){return Th.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ht(gc,"id","category"),Ht(gc,"defaults",{ticks:{callback:Th}});function C_(t,e){const n=[],{bounds:o,step:l,min:f,max:d,precision:p,count:x,maxTicks:b,maxDigits:y,includeBounds:C}=t,A=l||1,S=b-1,{min:O,max:D}=e,U=!be(f),V=!be(d),k=!be(x),G=(D-O)/(y+1);let j=Df((D-O)/S/A)*A,tt,H,J,F;if(j<1e-14&&!U&&!V)return[{value:O},{value:D}];F=Math.ceil(D/j)-Math.floor(O/j),F>S&&(j=Df(F*j/S/A)*A),be(p)||(tt=Math.pow(10,p),j=Math.ceil(j*tt)/tt),o==="ticks"?(H=Math.floor(O/j)*j,J=Math.ceil(D/j)*j):(H=O,J=D),U&&V&&l&&ab((d-f)/l,j/1e3)?(F=Math.round(Math.min((d-f)/j,b)),j=(d-f)/F,H=f,J=d):k?(H=U?f:H,J=V?d:J,F=x-1,j=(J-H)/F):(F=(J-H)/j,Gr(F,Math.round(F),j/1e3)?F=Math.round(F):F=Math.ceil(F));const pt=Math.max(Pf(j),Pf(H));tt=Math.pow(10,be(p)?pt:p),H=Math.round(H*tt)/tt,J=Math.round(J*tt)/tt;let ht=0;for(U&&(C&&H!==f?(n.push({value:f}),H<f&&ht++,Gr(Math.round((H+ht*j)*tt)/tt,f,Oh(f,G,t))&&ht++):H<f&&ht++);ht<F;++ht){const Z=Math.round((H+ht*j)*tt)/tt;if(V&&Z>d)break;n.push({value:Z})}return V&&C&&J!==d?n.length&&Gr(n[n.length-1].value,d,Oh(d,G,t))?n[n.length-1].value=d:n.push({value:d}):(!V||J===d)&&n.push({value:J}),n}function Oh(t,e,{horizontal:n,minRotation:s}){const o=ws(s),l=(n?Math.sin(o):Math.cos(o))||.001,f=.75*e*(""+t).length;return Math.min(e/l,f)}class A_ extends lr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return be(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:o,max:l}=this;const f=p=>o=n?o:p,d=p=>l=s?l:p;if(e){const p=ir(o),x=ir(l);p<0&&x<0?d(0):p>0&&x>0&&f(0)}if(o===l){let p=l===0?1:Math.abs(l*.05);d(l+p),e||f(o-p)}this.min=o,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,o;return s?(o=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const o={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},l=this._range||this,f=C_(o,l);return e.bounds==="ticks"&&lb(f,this,"value"),e.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const o=(s-n)/Math.max(e.length-1,1)/2;n-=o,s+=o}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return $0(e,this.chart.options.locale,this.options.ticks.format)}}class pc extends A_{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Un(e)?e:0,this.max=Un(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=ws(this.options.ticks.minRotation),o=(e?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,l.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ht(pc,"id","linear"),Ht(pc,"defaults",{ticks:{callback:t1.formatters.numeric}});const Za={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(Za);function Rh(t,e){return t-e}function Nh(t,e){if(be(e))return null;const n=t._adapter,{parser:s,round:o,isoWeekday:l}=t._parseOpts;let f=e;return typeof s=="function"&&(f=s(f)),Un(f)||(f=typeof s=="string"?n.parse(f,s):n.parse(f)),f===null?null:(o&&(f=o==="week"&&(ro(l)||l===!0)?n.startOf(f,"isoWeek",l):n.startOf(f,o)),+f)}function Mh(t,e,n,s){const o=_n.length;for(let l=_n.indexOf(t);l<o-1;++l){const f=Za[_n[l]],d=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((n-e)/(d*f.size))<=s)return _n[l]}return _n[o-1]}function E_(t,e,n,s,o){for(let l=_n.length-1;l>=_n.indexOf(n);l--){const f=_n[l];if(Za[f].common&&t._adapter.diff(o,s,f)>=e-1)return f}return _n[n?_n.indexOf(n):0]}function I_(t){for(let e=_n.indexOf(t)+1,n=_n.length;e<n;++e)if(Za[_n[e]].common)return _n[e]}function Dh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:o}=Wc(n,e),l=n[s]>=e?n[s]:n[o];t[l]=!0}}function v_(t,e,n,s){const o=t._adapter,l=+o.startOf(e[0].value,s),f=e[e.length-1].value;let d,p;for(d=l;d<=f;d=+o.add(d,1,s))p=n[d],p>=0&&(e[p].major=!0);return e}function Ph(t,e,n){const s=[],o={},l=e.length;let f,d;for(f=0;f<l;++f)d=e[f],o[d]=f,s.push({value:d,major:!1});return l===0||!n?s:v_(t,s,o,n)}class _a extends lr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),o=this._adapter=new Uw._date(e.adapters.date);o.init(n),Wr(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Nh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:o,max:l,minDefined:f,maxDefined:d}=this.getUserBounds();function p(x){!f&&!isNaN(x.min)&&(o=Math.min(o,x.min)),!d&&!isNaN(x.max)&&(l=Math.max(l,x.max))}(!f||!d)&&(p(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&p(this.getMinMax(!1))),o=Un(o)&&!isNaN(o)?o:+n.startOf(Date.now(),s),l=Un(l)&&!isNaN(l)?l:+n.endOf(Date.now(),s)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,o=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,f=this.max,d=gb(o,l,f);return this._unit=n.unit||(s.autoSkip?Mh(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):E_(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:I_(this._unit),this.initOffsets(o),e.reverse&&d.reverse(),Ph(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?s=l:s=(l-this.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;n=Bn(n,0,f),s=Bn(s,0,f),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,o=this.options,l=o.time,f=l.unit||Mh(l.minUnit,n,s,this._getLabelCapacity(n)),d=Zt(o.ticks.stepSize,1),p=f==="week"?l.isoWeekday:!1,x=ro(p)||p===!0,b={};let y=n,C,A;if(x&&(y=+e.startOf(y,"isoWeek",p)),y=+e.startOf(y,x?"day":f),e.diff(s,n,f)>1e5*d)throw new Error(n+" and "+s+" are too far apart with stepSize of "+d+" "+f);const S=o.ticks.source==="data"&&this.getDataTimestamps();for(C=y,A=0;C<s;C=+e.add(C,d,f),A++)Dh(b,C,S);return(C===s||o.bounds==="ticks"||A===1)&&Dh(b,C,S),Object.keys(b).sort(Rh).map(O=>+O)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,l=this._unit,f=n||o[l];return this._adapter.format(e,f)}_tickFormatFunction(e,n,s,o){const l=this.options,f=l.ticks.callback;if(f)return Ce(f,[e,n,s],this);const d=l.time.displayFormats,p=this._unit,x=this._majorUnit,b=p&&d[p],y=x&&d[x],C=s[n],A=x&&y&&C&&C.major;return this._adapter.format(e,o||(A?y:b))}generateTickLabels(e){let n,s,o;for(n=0,s=e.length;n<s;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,o=ws(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(o),f=Math.sin(o),d=this._resolveTickFontOptions(0).size;return{w:s*l+d*f,h:s*f+d*l}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,o=s[n.unit]||s.millisecond,l=this._tickFormatFunction(e,0,Ph(this,[e],this._majorUnit),o),f=this._getLabelSize(l),d=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,s=o.length;n<s;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const o=this.getLabels();for(n=0,s=o.length;n<s;++n)e.push(Nh(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return xb(e.sort(Rh))}}Ht(_a,"id","time"),Ht(_a,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jo(t,e,n){let s=0,o=t.length-1,l,f,d,p;n?(e>=t[s].pos&&e<=t[o].pos&&({lo:s,hi:o}=ys(t,"pos",e)),{pos:l,time:d}=t[s],{pos:f,time:p}=t[o]):(e>=t[s].time&&e<=t[o].time&&({lo:s,hi:o}=ys(t,"time",e)),{time:l,pos:d}=t[s],{time:f,pos:p}=t[o]);const x=f-l;return x?d+(p-d)*(e-l)/x:d}class kh extends _a{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=jo(n,this.min),this._tableRange=jo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,o=[],l=[];let f,d,p,x,b;for(f=0,d=e.length;f<d;++f)x=e[f],x>=n&&x<=s&&o.push(x);if(o.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(f=0,d=o.length;f<d;++f)b=o[f+1],p=o[f-1],x=o[f],Math.round((b+p)/2)!==x&&l.push({time:x,pos:f/(d-1)});return l}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((o,l)=>o-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(jo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return jo(this._table,s*this._tableRange+this._minPos,!0)}}Ht(kh,"id","timeseries"),Ht(kh,"defaults",_a.defaults);const S1={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},S_={ariaLabel:{type:String},ariaDescribedby:{type:String}},T_={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...S1,...S_},O_=A0[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Ws(t){return or(t)?Xt(t):t}function R_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return or(e)?new Proxy(t,{}):t}function N_(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function T1(t,e){t.labels=e}function O1(t,e,n){const s=[];t.datasets=e.map(o=>{const l=t.datasets.find(f=>f[n]===o[n]);return!l||!o.data||s.includes(l)?{...o}:(s.push(l),Object.assign(l,o),l)})}function M_(t,e){const n={labels:[],datasets:[]};return T1(n,t.labels),O1(n,t.datasets,e),n}const D_=ka({props:T_,setup(t,e){let{expose:n,slots:s}=e;const o=Me(null),l=Tc(null);n({chart:l});const f=()=>{if(!o.value)return;const{type:x,data:b,options:y,plugins:C,datasetIdKey:A}=t,S=M_(b,A),O=R_(S,b);l.value=new Ka(o.value,{type:x,data:O,options:{...y},plugins:C})},d=()=>{const x=Xt(l.value);x&&(t.destroyDelay>0?setTimeout(()=>{x.destroy(),l.value=null},t.destroyDelay):(x.destroy(),l.value=null))},p=x=>{x.update(t.updateMode)};return xo(f),Fa(d),As([()=>t.options,()=>t.data],(x,b)=>{let[y,C]=x,[A,S]=b;const O=Xt(l.value);if(!O)return;let D=!1;if(y){const U=Ws(y),V=Ws(A);U&&U!==V&&(N_(O,U),D=!0)}if(C){const U=Ws(C.labels),V=Ws(S.labels),k=Ws(C.datasets),G=Ws(S.datasets);U!==V&&(T1(O.config.data,U),D=!0),k&&k!==G&&(O1(O.config.data,k,t.datasetIdKey),D=!0)}D&&po(()=>{p(O)})},{deep:!0}),()=>tr("canvas",{role:"img","aria-label":t.ariaLabel,"aria-describedby":t.ariaDescribedby,ref:o},[tr("p",{},[s.default?s.default():""])])}});function P_(t,e){return Ka.register(e),ka({props:S1,setup(n,s){let{expose:o}=s;const l=Tc(null),f=d=>{l.value=d==null?void 0:d.chart};return o({chart:l}),()=>tr(D_,O_({ref:f},{type:t,...n}))}})}const k_=P_("line",Jo),B_={class:"h-48"},L_={__name:"WeightChart",setup(t){Ka.register(gc,pc,ea,Rr,u_,b_,l_);const e=ar(),n=Ae(()=>{const o=e.weightHistory.length>0?e.weightHistory:[{date:"Today",weight:e.profile.weight}];return{labels:o.map(l=>l.date.slice(5)),datasets:[{label:" (kg)",backgroundColor:"#3b82f6",borderColor:"#3b82f6",data:o.map(l=>l.weight),tension:.4,pointBackgroundColor:"#60a5fa",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#60a5fa"}]}}),s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.9)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#374151",borderWidth:1}},scales:{y:{grid:{color:"#374151"},ticks:{color:"#9ca3af"}},x:{grid:{display:!1},ticks:{color:"#9ca3af"}}}};return(o,l)=>(Kt(),te("div",B_,[Fe(me(k_),{data:n.value,options:s},null,8,["data"])]))}},F_={class:"relative max-w-xl mx-auto min-h-screen pb-24 overflow-hidden text-white bg-gray-900"},U_={class:"sticky top-0 z-10 flex items-center justify-between p-6 border-b border-gray-700 bg-gray-800/50 backdrop-blur-md"},H_={class:"flex items-center gap-3"},V_={class:"flex items-center justify-center w-12 h-12 text-xl font-black border-2 border-yellow-200 rounded-full shadow-lg bg-gradient-to-br from-yellow-400 to-orange-600"},W_={class:"text-lg font-bold leading-tight"},G_={class:"font-mono text-xs text-green-400"},z_={class:"p-6 space-y-8"},j_={class:"flex justify-between mb-1 text-xs text-gray-400"},X_={class:"w-full h-4 overflow-hidden bg-gray-700 border border-gray-600 rounded-full shadow-inner"},Y_={class:"relative p-6 overflow-hidden bg-gray-800 border border-gray-700 shadow-xl rounded-2xl"},K_={class:"flex items-end justify-between mb-2"},Z_={class:"text-4xl font-black text-white"},q_={class:"ml-1 text-sm text-gray-500"},Q_={class:"text-right"},J_={class:"w-full h-6 overflow-hidden bg-gray-700 rounded-full"},$_={class:"grid grid-cols-3 gap-4"},t3={class:"flex flex-col items-center p-3 bg-gray-800 border border-gray-700 rounded-xl"},e3={class:"relative flex items-center justify-center w-14 h-14"},n3={class:"w-full h-full transform -rotate-90"},i3=["stroke-dasharray","stroke-dashoffset"],s3={class:"absolute text-xs font-bold"},r3={class:"text-[10px] text-gray-500 mt-1"},o3={class:"flex flex-col items-center p-3 bg-gray-800 border border-gray-700 rounded-xl"},a3={class:"relative flex items-center justify-center w-14 h-14"},l3={class:"w-full h-full transform -rotate-90"},c3=["stroke-dasharray","stroke-dashoffset"],u3={class:"absolute text-xs font-bold"},f3={class:"text-[10px] text-gray-500 mt-1"},h3={class:"flex flex-col items-center p-3 bg-gray-800 border border-gray-700 rounded-xl"},d3={class:"relative flex items-center justify-center w-14 h-14"},g3={class:"w-full h-full transform -rotate-90"},p3=["stroke-dasharray","stroke-dashoffset"],x3={class:"absolute text-xs font-bold"},m3={class:"text-[10px] text-gray-500 mt-1"},b3={class:"relative p-6 overflow-hidden bg-gray-800 border border-gray-700 shadow-xl rounded-2xl"},w3={class:"flex items-center justify-between mb-4"},y3={class:"font-mono text-xs text-blue-400"},_3={class:"w-full h-4 mb-4 overflow-hidden bg-gray-700 rounded-full"},C3={class:"flex justify-between gap-2"},A3={class:"p-6 bg-gray-800 border border-gray-700 shadow-xl rounded-2xl"},E3={class:"space-y-3"},I3={key:0},v3={class:"flex-1"},S3={class:"text-xs text-gray-500"},T3={key:0,class:"text-xs font-bold text-yellow-400"},O3={__name:"HomeDashboard",setup(t){const e=Lc(),n=ja(),s=ar(),o=Ae(()=>s.dailyTargets),l=Ae(()=>e.todaySummary),f=Ae(()=>({calories:Math.min(100,l.value.calories/o.value.calories*100),protein:Math.min(100,l.value.protein/o.value.protein*100),carbs:Math.min(100,l.value.carbs/o.value.carbs*100),fat:Math.min(100,l.value.fat/o.value.fat*100)}));xo(()=>{s.checkDailyReset(),s.completeQuest("login")}),As(()=>l.value.protein,C=>{C>=o.value.protein&&s.completeQuest("protein")});const d=()=>{n.push("/scan")},p=()=>{n.push("/settings")},x=()=>{n.push("/log")},b=()=>{const C=prompt(" (kg):",s.profile.weight);C&&!isNaN(C)&&s.recordWeight(C)},y=C=>{s.addWater(C)};return(C,A)=>(Kt(),te("div",F_,[Fe(Sm),B("header",U_,[B("div",H_,[B("div",V_,Bt(me(s).game.level),1),B("div",null,[B("h2",W_,Bt(me(s).profile.name||""),1),B("p",G_," Lv."+Bt(me(s).game.level)+" Explorer ",1)])]),B("button",{onClick:p,class:"p-2 transition bg-gray-700 rounded-full hover:bg-gray-600"},[...A[3]||(A[3]=[B("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[B("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),B("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]),B("main",z_,[B("section",null,[B("div",j_,[A[4]||(A[4]=B("span",null,"EXP",-1)),B("span",null,Bt(me(s).game.currentXP)+" / "+Bt(me(s).nextLevelXP),1)]),B("div",X_,[B("div",{class:"bg-gradient-to-r from-yellow-500 to-yellow-300 h-4 rounded-full transition-all duration-500 ease-out shadow-[0_0_10px_rgba(234,179,8,0.5)]",style:Zs({width:`${me(s).xpProgress}%`})},null,4)])]),B("section",Y_,[A[7]||(A[7]=B("div",{class:"absolute w-32 h-32 rounded-full pointer-events-none -right-10 -top-10 bg-green-500/10 blur-2xl"},null,-1)),B("div",{class:"flex items-center justify-between mb-4"},[A[5]||(A[5]=B("h3",{class:"text-sm font-bold tracking-widest text-gray-400 uppercase"},"(Calories)",-1)),B("button",{onClick:x,class:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300"}," ")]),B("div",K_,[B("div",null,[B("span",Z_,Bt(l.value.calories),1),B("span",q_,"/ "+Bt(o.value.calories)+" kcal",1)]),B("div",Q_,[A[6]||(A[6]=B("span",{class:"block text-sm text-gray-400"},"",-1)),B("span",{class:Gn(["text-xl font-bold",o.value.calories-l.value.calories<0?"text-red-400":"text-green-400"])},Bt(o.value.calories-l.value.calories),3)])]),B("div",J_,[B("div",{class:Gn(["h-full transition-all duration-700 ease-out flex items-center justify-end pr-2 text-[10px] font-bold text-black/50",f.value.calories>100?"bg-red-500":"bg-gradient-to-r from-green-400 to-emerald-600"]),style:Zs({width:`${f.value.calories}%`})},Bt(Math.round(f.value.calories))+"% ",7)])]),B("section",$_,[B("div",t3,[A[9]||(A[9]=B("span",{class:"mb-1 text-xs font-bold text-blue-400"},"",-1)),B("div",e3,[(Kt(),te("svg",n3,[A[8]||(A[8]=B("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor","stroke-width":"4",fill:"transparent",class:"text-gray-700"},null,-1)),B("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor","stroke-width":"4",fill:"transparent",class:"text-blue-500 transition-all duration-1000","stroke-dasharray":2*Math.PI*24,"stroke-dashoffset":2*Math.PI*24*(1-f.value.protein/100),"stroke-linecap":"round"},null,8,i3)])),B("span",s3,Bt(Math.round(f.value.protein))+"%",1)]),B("span",r3,Bt(l.value.protein)+"/"+Bt(o.value.protein)+"g",1)]),B("div",o3,[A[11]||(A[11]=B("span",{class:"mb-1 text-xs font-bold text-orange-400"},"",-1)),B("div",a3,[(Kt(),te("svg",l3,[A[10]||(A[10]=B("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor","stroke-width":"4",fill:"transparent",class:"text-gray-700"},null,-1)),B("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor","stroke-width":"4",fill:"transparent",class:"text-orange-500 transition-all duration-1000","stroke-dasharray":2*Math.PI*24,"stroke-dashoffset":2*Math.PI*24*(1-f.value.carbs/100),"stroke-linecap":"round"},null,8,c3)])),B("span",u3,Bt(Math.round(f.value.carbs))+"%",1)]),B("span",f3,Bt(l.value.carbs)+"/"+Bt(o.value.carbs)+"g",1)]),B("div",h3,[A[13]||(A[13]=B("span",{class:"mb-1 text-xs font-bold text-red-400"},"",-1)),B("div",d3,[(Kt(),te("svg",g3,[A[12]||(A[12]=B("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor","stroke-width":"4",fill:"transparent",class:"text-gray-700"},null,-1)),B("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor","stroke-width":"4",fill:"transparent",class:"text-red-500 transition-all duration-1000","stroke-dasharray":2*Math.PI*24,"stroke-dashoffset":2*Math.PI*24*(1-f.value.fat/100),"stroke-linecap":"round"},null,8,p3)])),B("span",x3,Bt(Math.round(f.value.fat))+"%",1)]),B("span",m3,Bt(l.value.fat)+"/"+Bt(o.value.fat)+"g",1)])]),B("section",b3,[A[15]||(A[15]=B("div",{class:"absolute w-32 h-32 rounded-full pointer-events-none -right-6 -bottom-6 bg-blue-500/20 blur-2xl"},null,-1)),B("div",w3,[A[14]||(A[14]=B("h3",{class:"text-sm font-bold tracking-widest text-gray-400 uppercase"}," (Water)",-1)),B("span",y3,Bt(me(s).game.waterIntake)+" / "+Bt(me(s).waterGoal)+" ml",1)]),B("div",_3,[B("div",{class:"h-full transition-all duration-500 bg-blue-500",style:Zs({width:`${Math.min(100,me(s).game.waterIntake/me(s).waterGoal*100)}%`})},null,4)]),B("div",C3,[B("button",{onClick:A[0]||(A[0]=S=>y(250)),class:"flex-1 text-blue-400 border-blue-500 btn btn-sm btn-outline hover:bg-blue-500 hover:text-white"},"+250ml"),B("button",{onClick:A[1]||(A[1]=S=>y(500)),class:"flex-1 text-blue-400 border-blue-500 btn btn-sm btn-outline hover:bg-blue-500 hover:text-white"},"+500ml"),B("button",{onClick:A[2]||(A[2]=S=>y(700)),class:"flex-1 text-blue-400 border-blue-500 btn btn-sm btn-outline hover:bg-blue-500 hover:text-white"},"+700ml")])]),B("section",A3,[B("div",{class:"flex items-center justify-between mb-4"},[A[16]||(A[16]=B("h3",{class:"text-sm font-bold tracking-widest text-gray-400 uppercase"}," (Weight)",-1)),B("button",{onClick:b,class:"px-3 py-1 text-xs font-bold text-white transition bg-blue-600 rounded-full hover:bg-blue-500"}," +  ")]),Fe(L_)]),B("section",null,[A[17]||(A[17]=B("h3",{class:"flex items-center gap-2 mb-4 text-sm font-bold tracking-widest text-gray-400 uppercase"},[B("span",{class:"text-yellow-500"},""),Ur("  ")],-1)),B("div",E3,[(Kt(!0),te(kn,null,e0(me(s).game.dailyQuests.items,S=>(Kt(),te("div",{key:S.id,class:Gn(["flex items-center gap-3 p-3 transition-all bg-gray-800 border rounded-lg",S.completed?"border-green-500/30 bg-green-900/10":"border-gray-700"])},[B("div",{class:Gn(["flex items-center justify-center w-6 h-6 rounded",S.completed?"bg-green-500 text-black":"border-2 border-gray-600"])},[S.completed?(Kt(),te("span",I3,"")):fn("",!0)],2),B("div",v3,[B("h4",{class:Gn(["text-sm font-bold text-white",{"line-through text-gray-500":S.completed}])},Bt(S.title),3),B("p",S3,Bt(S.desc),1)]),S.completed?fn("",!0):(Kt(),te("span",T3,"+"+Bt(S.xp)+" XP",1))],2))),128))])])]),B("button",{onClick:d,class:"fixed bottom-6 right-6 w-16 h-16 rounded-full bg-gradient-to-r from-green-500 to-blue-500 shadow-[0_0_20px_rgba(34,197,94,0.6)] flex items-center justify-center text-white z-50 transform hover:scale-110 active:scale-95 transition-all border-2 border-white/20"},[...A[18]||(A[18]=[B("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[B("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),B("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]))}};var Bh;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lh;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Lh||(Lh={}));var Fh;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Fh||(Fh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=["user","model","function","system"];var Hh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Hh||(Hh={}));var Vh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Vh||(Vh={}));var Wh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Wh||(Wh={}));var Gh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Gh||(Gh={}));var Kr;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Kr||(Kr={}));var zh;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(zh||(zh={}));var jh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(jh||(jh={}));var Xh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Xh||(Xh={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Gs extends on{constructor(e,n){super(e),this.response=n}}class R1 extends on{constructor(e,n,s,o){super(e),this.status=n,this.statusText=s,this.errorDetails=o}}class qi extends on{}class N1 extends on{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="https://generativelanguage.googleapis.com",N3="v1beta",M3="0.24.1",D3="genai-js";var vs;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(vs||(vs={}));class P3{constructor(e,n,s,o,l){this.model=e,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=l}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||N3;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||R3}/${s}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function k3(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${D3}/${M3}`),e.join(" ")}async function B3(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",k3(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let s=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new qi(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,l]of s.entries()){if(o==="x-goog-api-key")throw new qi(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new qi(`Header name ${o} can only be set using the apiClient field`);n.append(o,l)}}return n}async function L3(t,e,n,s,o,l){const f=new P3(t,e,n,s,l);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},V3(l)),{method:"POST",headers:await B3(f),body:o})}}async function wo(t,e,n,s,o,l={},f=fetch){const{url:d,fetchOptions:p}=await L3(t,e,n,s,o,l);return F3(d,p,f)}async function F3(t,e,n=fetch){let s;try{s=await n(t,e)}catch(o){U3(o,t)}return s.ok||await H3(s,t),s}function U3(t,e){let n=t;throw n.name==="AbortError"?(n=new N1(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof R1||t instanceof qi||(n=new on(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function H3(t,e){let n="",s;try{const o=await t.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new R1(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,s)}function V3(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),na(t.candidates[0]))throw new Gs(`${ji(t)}`,t);return W3(t)}else if(t.promptFeedback)throw new Gs(`Text not available. ${ji(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),na(t.candidates[0]))throw new Gs(`${ji(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Yh(t)[0]}else if(t.promptFeedback)throw new Gs(`Function call not available. ${ji(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),na(t.candidates[0]))throw new Gs(`${ji(t)}`,t);return Yh(t)}else if(t.promptFeedback)throw new Gs(`Function call not available. ${ji(t)}`,t)},t}function W3(t){var e,n,s,o;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)f.text&&l.push(f.text),f.executableCode&&l.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&l.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function Yh(t){var e,n,s,o;const l=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&l.push(f.functionCall);if(l.length>0)return l}const G3=[Kr.RECITATION,Kr.SAFETY,Kr.LANGUAGE];function na(t){return!!t.finishReason&&G3.includes(t.finishReason)}function ji(t){var e,n,s;let o="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)o+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((s=t.candidates)===null||s===void 0)&&s[0]){const l=t.candidates[0];na(l)&&(o+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(o+=`: ${l.finishMessage}`))}return o}function co(t){return this instanceof co?(this.v=t,this):new co(t)}function z3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(C){s[C]&&(o[C]=function(A){return new Promise(function(S,O){l.push([C,A,S,O])>1||d(C,A)})})}function d(C,A){try{p(s[C](A))}catch(S){y(l[0][3],S)}}function p(C){C.value instanceof co?Promise.resolve(C.value.v).then(x,b):y(l[0][2],C)}function x(C){d("next",C)}function b(C){d("throw",C)}function y(C,A){C(A),l.shift(),l.length&&d(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function j3(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=K3(e),[s,o]=n.tee();return{stream:Y3(s),response:X3(o)}}async function X3(t){const e=[],n=t.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return $c(Z3(e));e.push(o)}}function Y3(t){return z3(this,arguments,function*(){const n=t.getReader();for(;;){const{value:s,done:o}=yield co(n.read());if(o)break;yield yield co($c(s))}})}function K3(t){const e=t.getReader();return new ReadableStream({start(s){let o="";return l();function l(){return e.read().then(({value:f,done:d})=>{if(d){if(o.trim()){s.error(new on("Failed to parse stream"));return}s.close();return}o+=f;let p=o.match(Kh),x;for(;p;){try{x=JSON.parse(p[1])}catch{s.error(new on(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(x),o=o.substring(p[0].length),p=o.match(Kh)}return l()}).catch(f=>{let d=f;throw d.stack=f.stack,d.name==="AbortError"?d=new N1("Request aborted when reading from the stream"):d=new on("Error reading from the stream"),d})}}})}function Z3(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const s of t){if(s.candidates){let o=0;for(const l of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=l.citationMetadata,n.candidates[o].groundingMetadata=l.groundingMetadata,n.candidates[o].finishReason=l.finishReason,n.candidates[o].finishMessage=l.finishMessage,n.candidates[o].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[o].content||(n.candidates[o].content={role:l.content.role||"user",parts:[]});const f={};for(const d of l.content.parts)d.text&&(f.text=d.text),d.functionCall&&(f.functionCall=d.functionCall),d.executableCode&&(f.executableCode=d.executableCode),d.codeExecutionResult&&(f.codeExecutionResult=d.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[o].content.parts.push(f)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(t,e,n,s){const o=await wo(e,vs.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),s);return j3(o)}async function D1(t,e,n,s){const l=await(await wo(e,vs.GENERATE_CONTENT,t,!1,JSON.stringify(n),s)).json();return{response:$c(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function uo(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return q3(e)}function q3(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),o=!0):(e.parts.push(l),s=!0);if(s&&o)throw new on("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new on("No content is provided for sending chat message.");return s?e:n}function Q3(t,e){var n;let s={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=t.generateContentRequest!=null;if(t.contents){if(o)throw new qi("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=t.contents}else if(o)s=Object.assign(Object.assign({},s),t.generateContentRequest);else{const l=uo(t);s.contents=[l]}return{generateContentRequest:s}}function Zh(t){let e;return t.contents?e=t:e={contents:[uo(t)]},t.systemInstruction&&(e.systemInstruction=P1(t.systemInstruction)),e}function J3(t){return typeof t=="string"||Array.isArray(t)?{content:uo(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],$3={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tC(t){let e=!1;for(const n of t){const{role:s,parts:o}=n;if(!e&&s!=="user")throw new on(`First content should be with role 'user', got ${s}`);if(!Uh.includes(s))throw new on(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Uh)}`);if(!Array.isArray(o))throw new on("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new on("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of o)for(const p of qh)p in d&&(l[p]+=1);const f=$3[s];for(const d of qh)if(!f.includes(d)&&l[d]>0)throw new on(`Content with role '${s}' can't contain '${d}' part`);e=!0}}function Qh(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="SILENT_ERROR";class eC{constructor(e,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s!=null&&s.history&&(tC(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,o,l,f,d,p;await this._sendPromise;const x=uo(e),b={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,x]},y=Object.assign(Object.assign({},this._requestOptions),n);let C;return this._sendPromise=this._sendPromise.then(()=>D1(this._apiKey,this.model,b,y)).then(A=>{var S;if(Qh(A.response)){this._history.push(x);const O=Object.assign({parts:[],role:"model"},(S=A.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(O)}else{const O=ji(A.response);O&&console.warn(`sendMessage() was unsuccessful. ${O}. Inspect response object for details.`)}C=A}).catch(A=>{throw this._sendPromise=Promise.resolve(),A}),await this._sendPromise,C}async sendMessageStream(e,n={}){var s,o,l,f,d,p;await this._sendPromise;const x=uo(e),b={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,x]},y=Object.assign(Object.assign({},this._requestOptions),n),C=M1(this._apiKey,this.model,b,y);return this._sendPromise=this._sendPromise.then(()=>C).catch(A=>{throw new Error(Jh)}).then(A=>A.response).then(A=>{if(Qh(A)){this._history.push(x);const S=Object.assign({},A.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=ji(A);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(A=>{A.message!==Jh&&console.error(A)}),C}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e,n,s){return(await wo(e,vs.COUNT_TOKENS,t,!1,JSON.stringify(n),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e,n,s){return(await wo(e,vs.EMBED_CONTENT,t,!1,JSON.stringify(n),s)).json()}async function sC(t,e,n,s){const o=n.requests.map(f=>Object.assign(Object.assign({},f),{model:e}));return(await wo(e,vs.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:o}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=P1(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const o=Zh(e),l=Object.assign(Object.assign({},this._requestOptions),n);return D1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),l)}async generateContentStream(e,n={}){var s;const o=Zh(e),l=Object.assign(Object.assign({},this._requestOptions),n);return M1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),l)}startChat(e){var n;return new eC(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=Q3(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return nC(this.apiKey,this.model,s,o)}async embedContent(e,n={}){const s=J3(e),o=Object.assign(Object.assign({},this._requestOptions),n);return iC(this.apiKey,this.model,s,o)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return sC(this.apiKey,this.model,e,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new on("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new $h(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new qi("Cached content must contain a `name` field.");if(!e.model)throw new qi("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(n!=null&&n[f]&&e[f]&&(n==null?void 0:n[f])!==e[f]){if(f==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===p)continue}throw new qi(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${e[f]})`)}const l=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new $h(this.apiKey,l,s)}}async function rC(t){return new Promise((e,n)=>{const s=new FileReader;s.onloadend=()=>{const o=s.result.split(",")[1];e({inlineData:{data:o,mimeType:t.type}})},s.onerror=n,s.readAsDataURL(t)})}const B1=t=>new Promise(e=>setTimeout(e,t)),L1=["gemini-2.5-flash","gemini-2.0-flash","gemini-flash-latest"];async function oC(t,e){if(!e)throw new Error("API Key is missing. Please set it in settings.");const n=new k1(e),s=await rC(t),o=`
    
     JSON  Markdown
    {
      "is_food": true,
      "food_name": "",
      "calories": 0,
      "protein": 0,
      "fat": 0,
      "carbs": 0,
      "advice": ""
    }
  `;let l=null;for(const f of L1)try{console.log(` [] : ${f}...`);const b=(await(await n.getGenerativeModel({model:f}).generateContent([o,s])).response).text();console.log(` []  ${f} `);const y=b.replace(/```json/g,"").replace(/```/g,"").trim(),C=JSON.parse(y);if(!C.is_food)throw new Error("");return C}catch(d){if(console.warn(`  ${f} :`,d.message),l=d,d.message.includes("503")){console.log(" 1 ..."),await B1(1e3);continue}if(d.message.includes("404")||d.message.includes("not found"))continue;if(d.message.includes("400")||d.message.includes("API key"))throw new Error("API Key ")}throw new Error(` (): ${l==null?void 0:l.message}`)}async function aC(t,e){if(!e)throw new Error("API Key is missing.");const n=new k1(e),s=`
    "${t}"
     JSON  Markdown
    {
      "is_food": true,
      "food_name": "",
      "calories": 0,
      "protein": 0,
      "fat": 0,
      "carbs": 0,
      "advice": ""
    }
     is_food  false
  `;let o=null;for(const l of L1)try{console.log(` [] : ${l}...`);const x=(await(await n.getGenerativeModel({model:l}).generateContent(s)).response).text();console.log(` []  ${l} `);const b=x.replace(/```json/g,"").replace(/```/g,"").trim(),y=JSON.parse(b);if(!y.is_food)throw new Error("");return y}catch(f){if(console.warn(`  ${l} :`,f.message),o=f,f.message.includes("503")){await B1(1e3);continue}if(f.message.includes("404")||f.message.includes("not found"))continue;if(f.message.includes("API key"))throw new Error("API Key ")}throw new Error(`: ${o==null?void 0:o.message}`)}async function lC(t){try{const n=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${t}.json`)).json();if(n.status===1&&n.product){const s=n.product,o=s.nutriments||{};return{is_food:!0,food_name:s.product_name||"",calories:Math.round(o["energy-kcal_serving"]||o["energy-kcal_100g"]||0),protein:Math.round(o.proteins_serving||o.proteins_100g||0),fat:Math.round(o.fat_serving||o.fat_100g||0),carbs:Math.round(o.carbohydrates_serving||o.carbohydrates_100g||0),advice:""}}else throw new Error("")}catch(e){throw new Error(": "+e.message)}}const cC={class:"relative w-full h-48 transition-all border-2 border-gray-600 border-dashed rounded-xl hover:border-green-500 hover:bg-gray-800/50 group"},uC={__name:"CameraInput",emits:["image-selected"],setup(t,{emit:e}){const n=e,s=o=>{const l=o.target.files[0];l&&n("image-selected",l)};return(o,l)=>(Kt(),te("div",cC,[B("input",{type:"file",accept:"image/*",capture:"environment",class:"absolute inset-0 z-10 w-full h-full opacity-0 cursor-pointer",onChange:s},null,32),l[0]||(l[0]=lx('<div class="absolute inset-0 flex flex-col items-center justify-center text-gray-400 pointer-events-none group-hover:text-green-400"><svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><span class="font-bold"></span></div>',1))]))}};var _t;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_t||(_t={}));var td=new Map([[_t.QR_CODE,"QR_CODE"],[_t.AZTEC,"AZTEC"],[_t.CODABAR,"CODABAR"],[_t.CODE_39,"CODE_39"],[_t.CODE_93,"CODE_93"],[_t.CODE_128,"CODE_128"],[_t.DATA_MATRIX,"DATA_MATRIX"],[_t.MAXICODE,"MAXICODE"],[_t.ITF,"ITF"],[_t.EAN_13,"EAN_13"],[_t.EAN_8,"EAN_8"],[_t.PDF_417,"PDF_417"],[_t.RSS_14,"RSS_14"],[_t.RSS_EXPANDED,"RSS_EXPANDED"],[_t.UPC_A,"UPC_A"],[_t.UPC_E,"UPC_E"],[_t.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ed;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(ed||(ed={}));function fC(t){return Object.values(_t).includes(t)}var Ca;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ca||(Ca={}));var hC=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Ca.SCAN_TYPE_CAMERA,Ca.SCAN_TYPE_FILE],t}(),F1=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!td.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,td.get(e))},t}(),nd=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),xc;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(xc||(xc={}));var dC=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:xc.UNKWOWN_ERROR}},t}(),gC=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function bi(t){return typeof t>"u"||t===null}var Xs=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),U1=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var s=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),f=Object.keys(e),d=0,p=f;d<p.length;d++){var x=p[d];if(l.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mc={exports:{}};(function(t,e){(function(n,s){s(e)})(Ir,function(n){function s(E){return E==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,i){E.__proto__=i}||function(E,i){for(var r in i)i.hasOwnProperty(r)&&(E[r]=i[r])};function l(E,i){o(E,i);function r(){this.constructor=E}E.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}function f(E,i){var r=Object.setPrototypeOf;r?r(E,i):E.__proto__=i}function d(E,i){i===void 0&&(i=E.constructor);var r=Error.captureStackTrace;r&&r(E,i)}var p=function(E){l(i,E);function i(r){var a=this.constructor,c=E.call(this,r)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),f(c,a.prototype),d(c),c}return i}(Error);class x extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class b extends x{}b.kind="ArgumentException";class y extends x{}y.kind="IllegalArgumentException";class C{constructor(i){if(this.binarizer=i,i===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,r){return this.binarizer.getBlackRow(i,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,r,a,c){const u=this.binarizer.getLuminanceSource().crop(i,r,a,c);return new C(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends x{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class S{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(i,r,a,c,u){for(;u--;)a[c++]=i[r++]}static currentTimeMillis(){return Date.now()}}class D extends x{}D.kind="IndexOutOfBoundsException";class U extends D{constructor(i=void 0,r=void 0){super(r),this.index=i,this.message=r}}U.kind="ArrayIndexOutOfBoundsException";class V{static fill(i,r){for(let a=0,c=i.length;a<c;a++)i[a]=r}static fillWithin(i,r,a,c){V.rangeCheck(i.length,r,a);for(let u=r;u<a;u++)i[u]=c}static rangeCheck(i,r,a){if(r>a)throw new y("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new U(r);if(a>i)throw new U(a)}static asList(...i){return i}static create(i,r,a){return Array.from({length:i}).map(u=>Array.from({length:r}).fill(a))}static createInt32Array(i,r,a){return Array.from({length:i}).map(u=>Int32Array.from({length:r}).fill(a))}static equals(i,r){if(!i||!r||!i.length||!r.length||i.length!==r.length)return!1;for(let a=0,c=i.length;a<c;a++)if(i[a]!==r[a])return!1;return!0}static hashCode(i){if(i===null)return 0;let r=1;for(const a of i)r=31*r+a;return r}static fillUint8Array(i,r){for(let a=0;a!==i.length;a++)i[a]=r}static copyOf(i,r){return i.slice(0,r)}static copyOfUint8Array(i,r){if(i.length<=r){const a=new Uint8Array(r);return a.set(i),a}return i.slice(0,r)}static copyOfRange(i,r,a){const c=a-r,u=new Int32Array(c);return O.arraycopy(i,r,u,0,c),u}static binarySearch(i,r,a){a===void 0&&(a=V.numberComparator);let c=0,u=i.length-1;for(;c<=u;){const h=u+c>>1,g=a(r,i[h]);if(g>0)c=h+1;else if(g<0)u=h-1;else return h}return-c-1}static numberComparator(i,r){return i-r}}class k{static numberOfTrailingZeros(i){let r;if(i===0)return 32;let a=31;return r=i<<16,r!==0&&(a-=16,i=r),r=i<<8,r!==0&&(a-=8,i=r),r=i<<4,r!==0&&(a-=4,i=r),r=i<<2,r!==0&&(a-=2,i=r),a-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let r=1;return i>>>16||(r+=16,i<<=16),i>>>24||(r+=8,i<<=8),i>>>28||(r+=4,i<<=4),i>>>30||(r+=2,i<<=2),r-=i>>>31,r}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,r){return Math.trunc(i/r)}static parseInt(i,r=void 0){return parseInt(i,r)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(i,r){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,r==null?this.bits=G.makeArray(i):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const r=G.makeArray(i);O.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const r=this.size;if(i>=r)return r;const a=this.bits;let c=Math.floor(i/32),u=a[c];u&=~((1<<(i&31))-1);const h=a.length;for(;u===0;){if(++c===h)return r;u=a[c]}const g=c*32+k.numberOfTrailingZeros(u);return g>r?r:g}getNextUnset(i){const r=this.size;if(i>=r)return r;const a=this.bits;let c=Math.floor(i/32),u=~a[c];u&=~((1<<(i&31))-1);const h=a.length;for(;u===0;){if(++c===h)return r;u=~a[c]}const g=c*32+k.numberOfTrailingZeros(u);return g>r?r:g}setBulk(i,r){this.bits[Math.floor(i/32)]=r}setRange(i,r){if(r<i||i<0||r>this.size)throw new y;if(r===i)return;r--;const a=Math.floor(i/32),c=Math.floor(r/32),u=this.bits;for(let h=a;h<=c;h++){const g=h>a?0:i&31,w=(2<<(h<c?31:r&31))-(1<<g);u[h]|=w}}clear(){const i=this.bits.length,r=this.bits;for(let a=0;a<i;a++)r[a]=0}isRange(i,r,a){if(r<i||i<0||r>this.size)throw new y;if(r===i)return!0;r--;const c=Math.floor(i/32),u=Math.floor(r/32),h=this.bits;for(let g=c;g<=u;g++){const m=g>c?0:i&31,_=(2<<(g<u?31:r&31))-(1<<m)&4294967295;if((h[g]&_)!==(a?_:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,r){if(r<0||r>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((i>>a-1&1)===1)}appendBitArray(i){const r=i.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(i.get(a))}xor(i){if(this.size!==i.size)throw new y("Sizes don't match");const r=this.bits;for(let a=0,c=r.length;a<c;a++)r[a]^=i.bits[a]}toBytes(i,r,a,c){for(let u=0;u<c;u++){let h=0;for(let g=0;g<8;g++)this.get(i)&&(h|=1<<7-g),i++;r[a+u]=h}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,c=this.bits;for(let u=0;u<a;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,i[r-u]=h}if(this.size!==a*32){const u=a*32-this.size;let h=i[0]>>>u;for(let g=1;g<a;g++){const m=i[g];h|=m<<32-u,i[g-1]=h,h=m>>>u}i[a-1]=h}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof G))return!1;const r=i;return this.size===r.size&&V.equals(this.bits,r.bits)}hashCode(){return 31*this.size+V.hashCode(this.bits)}toString(){let i="";for(let r=0,a=this.size;r<a;r++)r&7||(i+=" "),i+=this.get(r)?"X":".";return i}clone(){return new G(this.size,this.bits.slice())}}var j;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j||(j={}));var tt=j;class H extends x{static getFormatInstance(){return new H}}H.kind="FormatException";var J;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(J||(J={}));class F{constructor(i,r,a,...c){this.valueIdentifier=i,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=c,F.VALUE_IDENTIFIER_TO_ECI.set(i,this),F.NAME_TO_ECI.set(a,this);const u=this.values;for(let h=0,g=u.length;h!==g;h++){const m=u[h];F.VALUES_TO_ECI.set(m,this)}for(const h of c)F.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new H("incorect value");const r=F.VALUES_TO_ECI.get(i);if(r===void 0)throw new H("incorect value");return r}static getCharacterSetECIByName(i){const r=F.NAME_TO_ECI.get(i);if(r===void 0)throw new H("incorect value");return r}equals(i){if(!(i instanceof F))return!1;const r=i;return this.getName()===r.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(J.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(J.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(J.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(J.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(J.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(J.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(J.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(J.Big5,28,"Big5"),F.GB18030=new F(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(J.EUC_KR,30,"EUC_KR","EUC-KR");class pt extends x{}pt.kind="UnsupportedOperationException";class ht{static decode(i,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(i,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(i,a):new TextDecoder(a).decode(i)}static shouldDecodeOnFallback(i){return!ht.isBrowser()&&i==="ISO-8859-1"}static encode(i,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(i,a):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof F?i:F.getCharacterSetECIByName(i)}static decodeFallback(i,r){const a=this.encodingCharacterSet(r);if(ht.isDecodeFallbackSupported(a)){let c="";for(let u=0,h=i.length;u<h;u++){let g=i[u].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(a.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new pt(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(F.UTF8)||i.equals(F.ISO8859_1)||i.equals(F.ASCII)}static encodeFallback(i){const a=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class Z{static castAsNonUtf8Char(i,r=null){const a=r?r.getName():this.ISO88591;return ht.decode(new Uint8Array([i]),a)}static guessEncoding(i,r){if(r!=null&&r.get(tt.CHARACTER_SET)!==void 0)return r.get(tt.CHARACTER_SET).toString();const a=i.length;let c=!0,u=!0,h=!0,g=0,m=0,w=0,_=0,I=0,v=0,R=0,P=0,L=0,z=0,Q=0;const ct=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ut=0;ut<a&&(c||u||h);ut++){const at=i[ut]&255;h&&(g>0?at&128?g--:h=!1:at&128&&(at&64?(g++,at&32?(g++,at&16?(g++,at&8?h=!1:_++):w++):m++):h=!1)),c&&(at>127&&at<160?c=!1:at>159&&(at<192||at===215||at===247)&&Q++),u&&(I>0?at<64||at===127||at>252?u=!1:I--:at===128||at===160||at>239?u=!1:at>160&&at<224?(v++,P=0,R++,R>L&&(L=R)):at>127?(I++,R=0,P++,P>z&&(z=P)):(R=0,P=0))}return h&&g>0&&(h=!1),u&&I>0&&(u=!1),h&&(ct||m+w+_>0)?Z.UTF8:u&&(Z.ASSUME_SHIFT_JIS||L>=3||z>=3)?Z.SHIFT_JIS:c&&u?L===2&&v===2||Q*10>=a?Z.SHIFT_JIS:Z.ISO88591:c?Z.ISO88591:u?Z.SHIFT_JIS:h?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(i,...r){let a=-1;function c(h,g,m,w,_,I){if(h==="%%")return"%";if(r[++a]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let v=_?parseInt(_.substr(1)):void 0,R;switch(I){case"s":R=r[a];break;case"c":R=r[a][0];break;case"f":R=parseFloat(r[a]).toFixed(h);break;case"p":R=parseFloat(r[a]).toPrecision(h);break;case"e":R=parseFloat(r[a]).toExponential(h);break;case"x":R=parseInt(r[a]).toString(v||16);break;case"d":R=parseFloat(parseInt(r[a],v||10).toPrecision(h)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(v);let P=parseInt(m),L=m&&m[0]+""=="0"?"0":" ";for(;R.length<P;)R=g!==void 0?R+L:L+R;return R}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}static getBytes(i,r){return ht.encode(i,r)}static getCharCode(i,r=0){return i.charCodeAt(r)}static getCharAt(i){return String.fromCharCode(i)}}Z.SHIFT_JIS=F.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=F.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=F.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class xt{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,r,a){for(let c=r;r<r+a;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,r){this.value=this.value.substr(0,i)+r+this.value.substr(i+1)}substring(i,r){return this.value.substring(i,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,r){this.value=this.value.substr(0,i)+r+this.value.substr(i+r.length)}}class Rt{constructor(i,r,a,c){if(this.width=i,this.height=r,this.rowSize=a,this.bits=c,r==null&&(r=i),this.height=r,i<1||r<1)throw new y("Both dimensions must be greater than 0");a==null&&(a=Math.floor((i+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const r=i.length,a=i[0].length,c=new Rt(a,r);for(let u=0;u<r;u++){const h=i[u];for(let g=0;g<a;g++)h[g]&&c.set(g,u)}return c}static parseFromString(i,r,a){if(i===null)throw new y("stringRepresentation cannot be null");const c=new Array(i.length);let u=0,h=0,g=-1,m=0,w=0;for(;w<i.length;)if(i.charAt(w)===`
`||i.charAt(w)==="\r"){if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new y("row lengths do not match");h=u,m++}w++}else if(i.substring(w,w+r.length)===r)w+=r.length,c[u]=!0,u++;else if(i.substring(w,w+a.length)===a)w+=a.length,c[u]=!1,u++;else throw new y("illegal character encountered: "+i.substring(w));if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new y("row lengths do not match");m++}const _=new Rt(g,m);for(let I=0;I<u;I++)c[I]&&_.set(Math.floor(I%g),Math.floor(I/g));return _}get(i,r){const a=r*this.rowSize+Math.floor(i/32);return(this.bits[a]>>>(i&31)&1)!==0}set(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]|=1<<(i&31)&4294967295}unset(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]&=~(1<<(i&31)&4294967295)}flip(i,r){const a=r*this.rowSize+Math.floor(i/32);this.bits[a]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new y("input matrix dimensions do not match");const r=new G(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const g=u*a,m=i.getRow(u,r).getBitArray();for(let w=0;w<a;w++)c[g+w]^=m[w]}}clear(){const i=this.bits,r=i.length;for(let a=0;a<r;a++)i[a]=0}setRegion(i,r,a,c){if(r<0||i<0)throw new y("Left and top must be nonnegative");if(c<1||a<1)throw new y("Height and width must be at least 1");const u=i+a,h=r+c;if(h>this.height||u>this.width)throw new y("The region must fit inside the matrix");const g=this.rowSize,m=this.bits;for(let w=r;w<h;w++){const _=w*g;for(let I=i;I<u;I++)m[_+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(i,r){r==null||r.getSize()<this.width?r=new G(this.width):r.clear();const a=this.rowSize,c=this.bits,u=i*a;for(let h=0;h<a;h++)r.setBulk(h*32,c[u+h]);return r}setRow(i,r){O.arraycopy(r.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),r=this.getHeight();let a=new G(i),c=new G(i);for(let u=0,h=Math.floor((r+1)/2);u<h;u++)a=this.getRow(u,a),c=this.getRow(r-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(r-1-u,a)}getEnclosingRectangle(){const i=this.width,r=this.height,a=this.rowSize,c=this.bits;let u=i,h=r,g=-1,m=-1;for(let w=0;w<r;w++)for(let _=0;_<a;_++){const I=c[w*a+_];if(I!==0){if(w<h&&(h=w),w>m&&(m=w),_*32<u){let v=0;for(;!(I<<31-v&4294967295);)v++;_*32+v<u&&(u=_*32+v)}if(_*32+31>g){let v=31;for(;!(I>>>v);)v--;_*32+v>g&&(g=_*32+v)}}}return g<u||m<h?null:Int32Array.from([u,h,g-u+1,m-h+1])}getTopLeftOnBit(){const i=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const c=a/i;let u=a%i*32;const h=r[a];let g=0;for(;!(h<<31-g&4294967295);)g++;return u+=g,Int32Array.from([u,c])}getBottomRightOnBit(){const i=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/i);let u=Math.floor(a%i)*32;const h=r[a];let g=31;for(;!(h>>>g);)g--;return u+=g,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Rt))return!1;const r=i;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&V.equals(this.bits,r.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+V.hashCode(this.bits),i}toString(i="X ",r="  ",a=`
`){return this.buildToString(i,r,a)}buildToString(i,r,a){let c=new xt;for(let u=0,h=this.height;u<h;u++){for(let g=0,m=this.width;g<m;g++)c.append(this.get(g,u)?i:r);c.append(a)}return c.toString()}clone(){return new Rt(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends x{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class Ct extends S{constructor(i){super(i),this.luminances=Ct.EMPTY,this.buckets=new Int32Array(Ct.LUMINANCE_BUCKETS)}getBlackRow(i,r){const a=this.getLuminanceSource(),c=a.getWidth();r==null||r.getSize()<c?r=new G(c):r.clear(),this.initArrays(c);const u=a.getRow(i,this.luminances),h=this.buckets;for(let m=0;m<c;m++)h[(u[m]&255)>>Ct.LUMINANCE_SHIFT]++;const g=Ct.estimateBlackPoint(h);if(c<3)for(let m=0;m<c;m++)(u[m]&255)<g&&r.set(m);else{let m=u[0]&255,w=u[1]&255;for(let _=1;_<c-1;_++){const I=u[_+1]&255;(w*4-m-I)/2<g&&r.set(_),m=w,w=I}}return r}getBlackMatrix(){const i=this.getLuminanceSource(),r=i.getWidth(),a=i.getHeight(),c=new Rt(r,a);this.initArrays(r);const u=this.buckets;for(let m=1;m<5;m++){const w=Math.floor(a*m/5),_=i.getRow(w,this.luminances),I=Math.floor(r*4/5);for(let v=Math.floor(r/5);v<I;v++){const R=_[v]&255;u[R>>Ct.LUMINANCE_SHIFT]++}}const h=Ct.estimateBlackPoint(u),g=i.getMatrix();for(let m=0;m<a;m++){const w=m*r;for(let _=0;_<r;_++)(g[w+_]&255)<h&&c.set(_,m)}return c}createBinarizer(i){return new Ct(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const r=this.buckets;for(let a=0;a<Ct.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(i){const r=i.length;let a=0,c=0,u=0;for(let _=0;_<r;_++)i[_]>u&&(c=_,u=i[_]),i[_]>a&&(a=i[_]);let h=0,g=0;for(let _=0;_<r;_++){const I=_-c,v=i[_]*I*I;v>g&&(h=_,g=v)}if(c>h){const _=c;c=h,h=_}if(h-c<=r/16)throw new X;let m=h-1,w=-1;for(let _=h-1;_>c;_--){const I=_-c,v=I*I*(h-_)*(a-i[_]);v>w&&(m=_,w=v)}return m<<Ct.LUMINANCE_SHIFT}}Ct.LUMINANCE_BITS=5,Ct.LUMINANCE_SHIFT=8-Ct.LUMINANCE_BITS,Ct.LUMINANCE_BUCKETS=1<<Ct.LUMINANCE_BITS,Ct.EMPTY=Uint8ClampedArray.from([0]);class lt extends Ct{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),r=i.getWidth(),a=i.getHeight();if(r>=lt.MINIMUM_DIMENSION&&a>=lt.MINIMUM_DIMENSION){const c=i.getMatrix();let u=r>>lt.BLOCK_SIZE_POWER;r&lt.BLOCK_SIZE_MASK&&u++;let h=a>>lt.BLOCK_SIZE_POWER;a&lt.BLOCK_SIZE_MASK&&h++;const g=lt.calculateBlackPoints(c,u,h,r,a),m=new Rt(r,a);lt.calculateThresholdForBlock(c,u,h,r,a,g,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new lt(i)}static calculateThresholdForBlock(i,r,a,c,u,h,g){const m=u-lt.BLOCK_SIZE,w=c-lt.BLOCK_SIZE;for(let _=0;_<a;_++){let I=_<<lt.BLOCK_SIZE_POWER;I>m&&(I=m);const v=lt.cap(_,2,a-3);for(let R=0;R<r;R++){let P=R<<lt.BLOCK_SIZE_POWER;P>w&&(P=w);const L=lt.cap(R,2,r-3);let z=0;for(let ct=-2;ct<=2;ct++){const ut=h[v+ct];z+=ut[L-2]+ut[L-1]+ut[L]+ut[L+1]+ut[L+2]}const Q=z/25;lt.thresholdBlock(i,P,I,Q,c,g)}}}static cap(i,r,a){return i<r?r:i>a?a:i}static thresholdBlock(i,r,a,c,u,h){for(let g=0,m=a*u+r;g<lt.BLOCK_SIZE;g++,m+=u)for(let w=0;w<lt.BLOCK_SIZE;w++)(i[m+w]&255)<=c&&h.set(r+w,a+g)}static calculateBlackPoints(i,r,a,c,u){const h=u-lt.BLOCK_SIZE,g=c-lt.BLOCK_SIZE,m=new Array(a);for(let w=0;w<a;w++){m[w]=new Int32Array(r);let _=w<<lt.BLOCK_SIZE_POWER;_>h&&(_=h);for(let I=0;I<r;I++){let v=I<<lt.BLOCK_SIZE_POWER;v>g&&(v=g);let R=0,P=255,L=0;for(let Q=0,ct=_*c+v;Q<lt.BLOCK_SIZE;Q++,ct+=c){for(let ut=0;ut<lt.BLOCK_SIZE;ut++){const at=i[ct+ut]&255;R+=at,at<P&&(P=at),at>L&&(L=at)}if(L-P>lt.MIN_DYNAMIC_RANGE)for(Q++,ct+=c;Q<lt.BLOCK_SIZE;Q++,ct+=c)for(let ut=0;ut<lt.BLOCK_SIZE;ut++)R+=i[ct+ut]&255}let z=R>>lt.BLOCK_SIZE_POWER*2;if(L-P<=lt.MIN_DYNAMIC_RANGE&&(z=P/2,w>0&&I>0)){const Q=(m[w-1][I]+2*m[w][I-1]+m[w-1][I-1])/4;P<Q&&(z=Q)}m[w][I]=z}}return m}}lt.BLOCK_SIZE_POWER=3,lt.BLOCK_SIZE=1<<lt.BLOCK_SIZE_POWER,lt.BLOCK_SIZE_MASK=lt.BLOCK_SIZE-1,lt.MINIMUM_DIMENSION=lt.BLOCK_SIZE*5,lt.MIN_DYNAMIC_RANGE=24;class Ft{constructor(i,r){this.width=i,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,r,a,c){throw new pt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pt("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let r=new xt;for(let a=0;a<this.height;a++){const c=this.getRow(a,i);for(let u=0;u<this.width;u++){const h=c[u]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",r.append(g)}r.append(`
`)}return r.toString()}}class ve extends Ft{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,r){const a=this.delegate.getRow(i,r),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const i=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let c=0;c<r;c++)a[c]=255-(i[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(i,r,a,c){return new ve(this.delegate.crop(i,r,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class Ee extends Ft{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Ee.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const r=i.getContext("2d").getImageData(0,0,i.width,i.height);return Ee.toGrayscaleBuffer(r.data,i.width,i.height)}static toGrayscaleBuffer(i,r,a){const c=new Uint8ClampedArray(r*a);for(let u=0,h=0,g=i.length;u<g;u+=4,h++){let m;if(i[u+3]===0)m=255;else{const _=i[u],I=i[u+1],v=i[u+2];m=306*_+601*I+117*v+512>>10}c[h]=m}return c}getRow(i,r){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);const a=this.getWidth(),c=i*a;return r===null?r=this.buffer.slice(c,c+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(c,c+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,r,a,c){return super.crop(i,r,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const r=this.getTempCanvasElement(),a=r.getContext("2d"),c=i*Ee.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),m=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return r.width=g,r.height=m,a.translate(g/2,m/2),a.rotate(c),a.drawImage(this.canvas,u/-2,h/-2),this.buffer=Ee.makeBufferFromCanvasImageData(r),this}invert(){return new ve(this)}}Ee.DEGREE_TO_RADIANS=Math.PI/180;class We{constructor(i,r,a){this.deviceId=i,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var zt=(globalThis||Ir||self||window||void 0)&&(globalThis||Ir||self||window||void 0).__awaiter||function(E,i,r,a){function c(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function g(_){try{w(a.next(_))}catch(I){h(I)}}function m(_){try{w(a.throw(_))}catch(I){h(I)}}function w(_){_.done?u(_.value):c(_.value).then(g,m)}w((a=a.apply(E,i||[])).next())})};class Le{constructor(i,r=500,a){this.reader=i,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return zt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of i){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,h=a.label||`Video device ${r.length+1}`,g=a.groupId,m={deviceId:u,label:h,kind:c,groupId:g};r.push(m)}return r})}getVideoInputDevices(){return zt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new We(r.deviceId,r.label))})}findDeviceById(i){return zt(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===i):null})}decodeFromInputVideoDevice(i,r){return zt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,r)})}decodeOnceFromVideoDevice(i,r){return zt(this,void 0,void 0,function*(){this.reset();let a;i?a={deviceId:{exact:i}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,r)})}decodeOnceFromConstraints(i,r){return zt(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(i,r){return zt(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(i,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(i,r,a){return zt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,r,a)})}decodeFromVideoDevice(i,r,a){return zt(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,r,a)})}decodeFromConstraints(i,r,a){return zt(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,r,a)})}decodeFromStream(i,r,a){return zt(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,r);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,r){return zt(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,i),this.videoElement=a,this.stream=i,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(i){return new Promise((r,a)=>this.playVideoOnLoad(i,()=>r()))}playVideoOnLoad(i,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",r),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return zt(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,r){const a=document.getElementById(i);if(!a)throw new b(`element with id '${i}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new b(`element with id '${i}' must be an ${r} element`);return a}decodeFromImage(i,r){if(!i&&!r)throw new b("either imageElement with a src set or an url must be provided");return r&&!i?this.decodeFromImageUrl(r):this.decodeFromImageElement(i)}decodeFromVideo(i,r){if(!i&&!r)throw new b("Either an element with a src set or an URL must be provided");return r&&!i?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,r,a){if(i===void 0&&r===void 0)throw new b("Either an element with a src set or an URL must be provided");return r&&!i?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(i,a)}decodeFromImageElement(i){if(!i)throw new b("An image element must be provided.");this.reset();const r=this.prepareImageElement(i);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(i){const r=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(i,r){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(i){if(!i)throw new b("A video element must be provided.");this.reset();const r=this.prepareVideoElement(i);return this.videoElement=r,r}decodeFromImageUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=i,a}decodeFromVideoUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=i,a}decodeFromVideoUrlContinuously(i,r){if(!i)throw new b("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,r);return a.src=i,c}_decodeOnLoadImage(i){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(r,a),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return zt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,r){return zt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,r)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let r;return typeof i>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof i=="string"&&(r=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(r=i),r}prepareVideoElement(i){let r;return!i&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof i=="string"&&(r=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(r=i),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(i,r=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(i);u(g)}catch(g){const m=r&&g instanceof X,_=(g instanceof A||g instanceof H)&&a;if(m||_)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(g)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(i,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);r(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){r(null,c);const u=c instanceof A||c instanceof H,h=c instanceof X;(u||h)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(i){const r=this.createBinaryBitmap(i);return this.decodeBitmap(r)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,r,a){r||(r={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(i,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(i,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const r=this.getCaptureCanvas(i),a=new Ee(r),c=new lt(a);return new C(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const r=this.createCaptureCanvas(i);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(a=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(a=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),r.style.width=a+"px",r.style.height=c+"px",r.width=a,r.height=c,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,r){try{i.srcObject=r}catch{i.src=URL.createObjectURL(r)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ne{constructor(i,r,a=r==null?0:8*r.length,c,u,h=O.currentTimeMillis()){this.text=i,this.rawBytes=r,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=i,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=O.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,r)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const r=this.resultPoints;if(r===null)this.resultPoints=i;else if(i!==null&&i.length>0){const a=new Array(r.length+i.length);O.arraycopy(r,0,a,0,r.length),O.arraycopy(i,0,a,r.length,i.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ke;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ke||(Ke={}));var bt=Ke,nt;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(nt||(nt={}));var dt=nt;class mt{constructor(i,r,a,c,u=-1,h=-1){this.rawBytes=i,this.text=r,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Et{exp(i){return this.expTable[i]}log(i){if(i===0)throw new y;return this.logTable[i]}static addOrSubtract(i,r){return i^r}}class Nt{constructor(i,r){if(r.length===0)throw new y;this.field=i;const a=r.length;if(a>1&&r[0]===0){let c=1;for(;c<a&&r[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),O.arraycopy(r,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(i===1){a=0;for(let h=0,g=r.length;h!==g;h++){const m=r[h];a=Et.addOrSubtract(a,m)}return a}a=r[0];const c=r.length,u=this.field;for(let h=1;h<c;h++)a=Et.addOrSubtract(u.multiply(i,a),r[h]);return a}addOrSubtract(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let r=this.coefficients,a=i.coefficients;if(r.length>a.length){const h=r;r=a,a=h}let c=new Int32Array(a.length);const u=a.length-r.length;O.arraycopy(a,0,c,0,u);for(let h=u;h<a.length;h++)c[h]=Et.addOrSubtract(r[h-u],a[h]);return new Nt(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,c=i.coefficients,u=c.length,h=new Int32Array(a+u-1),g=this.field;for(let m=0;m<a;m++){const w=r[m];for(let _=0;_<u;_++)h[m+_]=Et.addOrSubtract(h[m+_],g.multiply(w,c[_]))}return new Nt(g,h)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const r=this.coefficients.length,a=this.field,c=new Int32Array(r),u=this.coefficients;for(let h=0;h<r;h++)c[h]=a.multiply(u[h],i);return new Nt(a,c)}multiplyByMonomial(i,r){if(i<0)throw new y;if(r===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+i),h=this.field;for(let g=0;g<c;g++)u[g]=h.multiply(a[g],r);return new Nt(h,u)}divide(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new y("Divide by 0");const r=this.field;let a=r.getZero(),c=this;const u=i.getCoefficient(i.getDegree()),h=r.inverse(u);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const g=c.getDegree()-i.getDegree(),m=r.multiply(c.getCoefficient(c.getDegree()),h),w=i.multiplyByMonomial(g,m),_=r.buildMonomial(g,m);a=a.addOrSubtract(_),c=c.addOrSubtract(w)}return[a,c]}toString(){let i="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(i+=" - ",a=-a):i.length>0&&(i+=" + "),r===0||a!==1){const c=this.field.log(a);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}r!==0&&(r===1?i+="x":(i+="x^",i+=r))}}return i}}class M extends x{}M.kind="ArithmeticException";class N extends Et{constructor(i,r,a){super(),this.primitive=i,this.size=r,this.generatorBase=a;const c=new Int32Array(r);let u=1;for(let g=0;g<r;g++)c[g]=u,u*=2,u>=r&&(u^=i,u&=r-1);this.expTable=c;const h=new Int32Array(r);for(let g=0;g<r-1;g++)h[c[g]]=g;this.logTable=h,this.zero=new Nt(this,Int32Array.from([0])),this.one=new Nt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,r){if(i<0)throw new y;if(r===0)return this.zero;const a=new Int32Array(i+1);return a[0]=r,new Nt(this,a)}inverse(i){if(i===0)throw new M;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,r){return i===0||r===0?0:this.expTable[(this.logTable[i]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}N.AZTEC_DATA_12=new N(4201,4096,1),N.AZTEC_DATA_10=new N(1033,1024,1),N.AZTEC_DATA_6=new N(67,64,1),N.AZTEC_PARAM=new N(19,16,1),N.QR_CODE_FIELD_256=new N(285,256,0),N.DATA_MATRIX_FIELD_256=new N(301,256,1),N.AZTEC_DATA_8=N.DATA_MATRIX_FIELD_256,N.MAXICODE_FIELD_64=N.AZTEC_DATA_6;class W extends x{}W.kind="ReedSolomonException";class et extends x{}et.kind="IllegalStateException";class st{constructor(i){this.field=i}decode(i,r){const a=this.field,c=new Nt(a,i),u=new Int32Array(r);let h=!0;for(let R=0;R<r;R++){const P=c.evaluateAt(a.exp(R+a.getGeneratorBase()));u[u.length-1-R]=P,P!==0&&(h=!1)}if(h)return;const g=new Nt(a,u),m=this.runEuclideanAlgorithm(a.buildMonomial(r,1),g,r),w=m[0],_=m[1],I=this.findErrorLocations(w),v=this.findErrorMagnitudes(_,I);for(let R=0;R<I.length;R++){const P=i.length-1-a.log(I[R]);if(P<0)throw new W("Bad error location");i[P]=N.addOrSubtract(i[P],v[R])}}runEuclideanAlgorithm(i,r,a){if(i.getDegree()<r.getDegree()){const R=i;i=r,r=R}const c=this.field;let u=i,h=r,g=c.getZero(),m=c.getOne();for(;h.getDegree()>=(a/2|0);){let R=u,P=g;if(u=h,g=m,u.isZero())throw new W("r_{i-1} was zero");h=R;let L=c.getZero();const z=u.getCoefficient(u.getDegree()),Q=c.inverse(z);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const ct=h.getDegree()-u.getDegree(),ut=c.multiply(h.getCoefficient(h.getDegree()),Q);L=L.addOrSubtract(c.buildMonomial(ct,ut)),h=h.addOrSubtract(u.multiplyByMonomial(ct,ut))}if(m=L.multiply(g).addOrSubtract(P),h.getDegree()>=u.getDegree())throw new et("Division algorithm failed to reduce polynomial?")}const w=m.getCoefficient(0);if(w===0)throw new W("sigmaTilde(0) was zero");const _=c.inverse(w),I=m.multiplyScalar(_),v=h.multiplyScalar(_);return[I,v]}findErrorLocations(i){const r=i.getDegree();if(r===1)return Int32Array.from([i.getCoefficient(1)]);const a=new Int32Array(r);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<r;h++)i.evaluateAt(h)===0&&(a[c]=u.inverse(h),c++);if(c!==r)throw new W("Error locator degree does not match number of roots");return a}findErrorMagnitudes(i,r){const a=r.length,c=new Int32Array(a),u=this.field;for(let h=0;h<a;h++){const g=u.inverse(r[h]);let m=1;for(let w=0;w<a;w++)if(h!==w){const _=u.multiply(r[w],g),I=_&1?_&-2:_|1;m=u.multiply(m,I)}c[h]=u.multiply(i.evaluateAt(g),u.inverse(m)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],g))}return c}}var $;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})($||($={}));class ot{decode(i){this.ddata=i;let r=i.getBits(),a=this.extractBits(r),c=this.correctBits(a),u=ot.convertBoolArrayToByteArray(c),h=ot.getEncodedData(c),g=new mt(u,h,null,null);return g.setNumBits(c.length),g}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let r=i.length,a=$.UPPER,c=$.UPPER,u="",h=0;for(;h<r;)if(c===$.BINARY){if(r-h<5)break;let g=ot.readCode(i,h,5);if(h+=5,g===0){if(r-h<11)break;g=ot.readCode(i,h,11)+31,h+=11}for(let m=0;m<g;m++){if(r-h<8){h=r;break}const w=ot.readCode(i,h,8);u+=Z.castAsNonUtf8Char(w),h+=8}c=a}else{let g=c===$.DIGIT?4:5;if(r-h<g)break;let m=ot.readCode(i,h,g);h+=g;let w=ot.getCharacter(c,m);w.startsWith("CTRL_")?(a=c,c=ot.getTable(w.charAt(5)),w.charAt(6)==="L"&&(a=c)):(u+=w,c=a)}return u}static getTable(i){switch(i){case"L":return $.LOWER;case"P":return $.PUNCT;case"M":return $.MIXED;case"D":return $.DIGIT;case"B":return $.BINARY;case"U":default:return $.UPPER}}static getCharacter(i,r){switch(i){case $.UPPER:return ot.UPPER_TABLE[r];case $.LOWER:return ot.LOWER_TABLE[r];case $.MIXED:return ot.MIXED_TABLE[r];case $.PUNCT:return ot.PUNCT_TABLE[r];case $.DIGIT:return ot.DIGIT_TABLE[r];default:throw new et("Bad table")}}correctBits(i){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=N.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=N.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=N.AZTEC_DATA_10):(a=12,r=N.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=i.length/a;if(u<c)throw new H;let h=i.length%a,g=new Int32Array(u);for(let v=0;v<u;v++,h+=a)g[v]=ot.readCode(i,h,a);try{new st(r).decode(g,u-c)}catch(v){throw new H(v)}let m=(1<<a)-1,w=0;for(let v=0;v<c;v++){let R=g[v];if(R===0||R===m)throw new H;(R===1||R===m-1)&&w++}let _=new Array(c*a-w),I=0;for(let v=0;v<c;v++){let R=g[v];if(R===1||R===m-1)_.fill(R>1,I,I+a-1),I+=a-1;else for(let P=a-1;P>=0;--P)_[I++]=(R&1<<P)!==0}return _}extractBits(i){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(r?11:14)+a*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(a,r));if(r)for(let g=0;g<u.length;g++)u[g]=g;else{let g=c+1+2*k.truncDivision(k.truncDivision(c,2)-1,15),m=c/2,w=k.truncDivision(g,2);for(let _=0;_<m;_++){let I=_+k.truncDivision(_,15);u[m-_-1]=w-I-1,u[m+_]=w+I+1}}for(let g=0,m=0;g<a;g++){let w=(a-g)*4+(r?9:12),_=g*2,I=c-1-_;for(let v=0;v<w;v++){let R=v*2;for(let P=0;P<2;P++)h[m+R+P]=i.get(u[_+P],u[_+v]),h[m+2*w+R+P]=i.get(u[_+v],u[I-P]),h[m+4*w+R+P]=i.get(u[I-P],u[I-v]),h[m+6*w+R+P]=i.get(u[I-v],u[_+P])}m+=w*8}return h}static readCode(i,r,a){let c=0;for(let u=r;u<r+a;u++)c<<=1,i[u]&&(c|=1);return c}static readByte(i,r){let a=i.length-r;return a>=8?ot.readCode(i,r,8):ot.readCode(i,r,a)<<8-a}static convertBoolArrayToByteArray(i){let r=new Uint8Array((i.length+7)/8);for(let a=0;a<r.length;a++)r[a]=ot.readByte(i,8*a);return r}totalBitsInLayer(i,r){return((r?88:112)+16*i)*i}}ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,r,a,c){const u=i-a,h=r-c;return Math.sqrt(u*u+h*h)}static sum(i){let r=0;for(let a=0,c=i.length;a!==c;a++){const u=i[a];r+=u}return r}}class ft{static floatToIntBits(i){return i}}ft.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(i,r){this.x=i,this.y=r}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof K){const r=i;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ft.floatToIntBits(this.x)+ft.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const r=this.distance(i[0],i[1]),a=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let u,h,g;if(a>=r&&a>=c?(h=i[0],u=i[1],g=i[2]):c>=a&&c>=r?(h=i[1],u=i[0],g=i[2]):(h=i[2],u=i[0],g=i[1]),this.crossProductZ(u,h,g)<0){const m=u;u=g,g=m}i[0]=u,i[1]=h,i[2]=g}static distance(i,r){return it.distance(i.x,i.y,r.x,r.y)}static crossProductZ(i,r,a){const c=r.x,u=r.y;return(a.x-c)*(i.y-u)-(a.y-u)*(i.x-c)}}class vt{constructor(i,r){this.bits=i,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class wt extends vt{constructor(i,r,a,c,u){super(i,r),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class At{constructor(i,r,a,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),r==null&&(r=At.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const u=r/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let i=this.leftInit,r=this.rightInit,a=this.upInit,c=this.downInit,u=!1,h=!0,g=!1,m=!1,w=!1,_=!1,I=!1;const v=this.width,R=this.height;for(;h;){h=!1;let P=!0;for(;(P||!m)&&r<v;)P=this.containsBlackPoint(a,c,r,!1),P?(r++,h=!0,m=!0):m||r++;if(r>=v){u=!0;break}let L=!0;for(;(L||!w)&&c<R;)L=this.containsBlackPoint(i,r,c,!0),L?(c++,h=!0,w=!0):w||c++;if(c>=R){u=!0;break}let z=!0;for(;(z||!_)&&i>=0;)z=this.containsBlackPoint(a,c,i,!1),z?(i--,h=!0,_=!0):_||i--;if(i<0){u=!0;break}let Q=!0;for(;(Q||!I)&&a>=0;)Q=this.containsBlackPoint(i,r,a,!0),Q?(a--,h=!0,I=!0):I||a--;if(a<0){u=!0;break}h&&(g=!0)}if(!u&&g){const P=r-i;let L=null;for(let ut=1;L===null&&ut<P;ut++)L=this.getBlackPointOnSegment(i,c-ut,i+ut,c);if(L==null)throw new X;let z=null;for(let ut=1;z===null&&ut<P;ut++)z=this.getBlackPointOnSegment(i,a+ut,i+ut,a);if(z==null)throw new X;let Q=null;for(let ut=1;Q===null&&ut<P;ut++)Q=this.getBlackPointOnSegment(r,a+ut,r-ut,a);if(Q==null)throw new X;let ct=null;for(let ut=1;ct===null&&ut<P;ut++)ct=this.getBlackPointOnSegment(r,c-ut,r-ut,c);if(ct==null)throw new X;return this.centerEdges(ct,L,Q,z)}else throw new X}getBlackPointOnSegment(i,r,a,c){const u=it.round(it.distance(i,r,a,c)),h=(a-i)/u,g=(c-r)/u,m=this.image;for(let w=0;w<u;w++){const _=it.round(i+w*h),I=it.round(r+w*g);if(m.get(_,I))return new K(_,I)}return null}centerEdges(i,r,a,c){const u=i.getX(),h=i.getY(),g=r.getX(),m=r.getY(),w=a.getX(),_=a.getY(),I=c.getX(),v=c.getY(),R=At.CORR;return u<this.width/2?[new K(I-R,v+R),new K(g+R,m+R),new K(w-R,_-R),new K(u+R,h-R)]:[new K(I+R,v+R),new K(g+R,m-R),new K(w-R,_+R),new K(u-R,h-R)]}containsBlackPoint(i,r,a,c){const u=this.image;if(c){for(let h=i;h<=r;h++)if(u.get(h,a))return!0}else for(let h=i;h<=r;h++)if(u.get(a,h))return!0;return!1}}At.INIT_SIZE=10,At.CORR=1;class Mt{static checkAndNudgePoints(i,r){const a=i.getWidth(),c=i.getHeight();let u=!0;for(let h=0;h<r.length&&u;h+=2){const g=Math.floor(r[h]),m=Math.floor(r[h+1]);if(g<-1||g>a||m<-1||m>c)throw new X;u=!1,g===-1?(r[h]=0,u=!0):g===a&&(r[h]=a-1,u=!0),m===-1?(r[h+1]=0,u=!0):m===c&&(r[h+1]=c-1,u=!0)}u=!0;for(let h=r.length-2;h>=0&&u;h-=2){const g=Math.floor(r[h]),m=Math.floor(r[h+1]);if(g<-1||g>a||m<-1||m>c)throw new X;u=!1,g===-1?(r[h]=0,u=!0):g===a&&(r[h]=a-1,u=!0),m===-1?(r[h+1]=0,u=!0):m===c&&(r[h+1]=c-1,u=!0)}}}class Pt{constructor(i,r,a,c,u,h,g,m,w){this.a11=i,this.a21=r,this.a31=a,this.a12=c,this.a22=u,this.a32=h,this.a13=g,this.a23=m,this.a33=w}static quadrilateralToQuadrilateral(i,r,a,c,u,h,g,m,w,_,I,v,R,P,L,z){const Q=Pt.quadrilateralToSquare(i,r,a,c,u,h,g,m);return Pt.squareToQuadrilateral(w,_,I,v,R,P,L,z).times(Q)}transformPoints(i){const r=i.length,a=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,m=this.a23,w=this.a31,_=this.a32,I=this.a33;for(let v=0;v<r;v+=2){const R=i[v],P=i[v+1],L=u*R+m*P+I;i[v]=(a*R+h*P+w)/L,i[v+1]=(c*R+g*P+_)/L}}transformPointsWithValues(i,r){const a=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,m=this.a23,w=this.a31,_=this.a32,I=this.a33,v=i.length;for(let R=0;R<v;R++){const P=i[R],L=r[R],z=u*P+m*L+I;i[R]=(a*P+h*L+w)/z,r[R]=(c*P+g*L+_)/z}}static squareToQuadrilateral(i,r,a,c,u,h,g,m){const w=i-a+u-g,_=r-c+h-m;if(w===0&&_===0)return new Pt(a-i,u-a,i,c-r,h-c,r,0,0,1);{const I=a-u,v=g-u,R=c-h,P=m-h,L=I*P-v*R,z=(w*P-v*_)/L,Q=(I*_-w*R)/L;return new Pt(a-i+z*a,g-i+Q*g,i,c-r+z*c,m-r+Q*m,r,z,Q,1)}}static quadrilateralToSquare(i,r,a,c,u,h,g,m){return Pt.squareToQuadrilateral(i,r,a,c,u,h,g,m).buildAdjoint()}buildAdjoint(){return new Pt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Pt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class ae extends Mt{sampleGrid(i,r,a,c,u,h,g,m,w,_,I,v,R,P,L,z,Q,ct,ut){const at=Pt.quadrilateralToQuadrilateral(c,u,h,g,m,w,_,I,v,R,P,L,z,Q,ct,ut);return this.sampleGridWithTransform(i,r,a,at)}sampleGridWithTransform(i,r,a,c){if(r<=0||a<=0)throw new X;const u=new Rt(r,a),h=new Float32Array(2*r);for(let g=0;g<a;g++){const m=h.length,w=g+.5;for(let _=0;_<m;_+=2)h[_]=_/2+.5,h[_+1]=w;c.transformPoints(h),Mt.checkAndNudgePoints(i,h);try{for(let _=0;_<m;_+=2)i.get(Math.floor(h[_]),Math.floor(h[_+1]))&&u.set(_/2,g)}catch{throw new X}}return u}}class Wt{static setGridSampler(i){Wt.gridSampler=i}static getInstance(){return Wt.gridSampler}}Wt.gridSampler=new ae;class ie{constructor(i,r){this.x=i,this.y=r}toResultPoint(){return new K(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ze{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(i){let h=a[0];a[0]=a[2],a[2]=h}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new wt(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new X;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(i[0],i[1],r),this.sampleLine(i[1],i[2],r),this.sampleLine(i[2],i[3],r),this.sampleLine(i[3],i[0],r)]);this.shift=this.getRotation(a,r);let c=0;for(let h=0;h<4;h++){let g=a[(this.shift+h)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,r){let a=0;i.forEach((c,u,h)=>{let g=(c>>r-2<<1)+(c&1);a=(a<<3)+g}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(k.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new X}getCorrectedParameterData(i,r){let a,c;r?(a=7,c=2):(a=10,c=4);let u=a-c,h=new Int32Array(a);for(let m=a-1;m>=0;--m)h[m]=i&15,i>>=4;try{new st(N.AZTEC_PARAM).decode(h,u)}catch{throw new X}let g=0;for(let m=0;m<c;m++)g=(g<<4)+h[m];return g}getBullsEyeCorners(i){let r=i,a=i,c=i,u=i,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(r,h,1,-1),v=this.getFirstDifferent(a,h,1,1),R=this.getFirstDifferent(c,h,-1,1),P=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(P,I)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(I,v,R,P))break}r=I,a=v,c=R,u=P,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let g=new K(r.getX()+.5,r.getY()-.5),m=new K(a.getX()+.5,a.getY()+.5),w=new K(c.getX()-.5,c.getY()+.5),_=new K(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,m,w,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,r,a,c;try{let g=new At(this.image).detect();i=g[0],r=g[1],a=g[2],c=g[3]}catch{let m=this.image.getWidth()/2,w=this.image.getHeight()/2;i=this.getFirstDifferent(new ie(m+7,w-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ie(m+7,w+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new ie(m-7,w+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new ie(m-7,w-7),!1,-1,-1).toResultPoint()}let u=it.round((i.getX()+c.getX()+r.getX()+a.getX())/4),h=it.round((i.getY()+c.getY()+r.getY()+a.getY())/4);try{let g=new At(this.image,15,u,h).detect();i=g[0],r=g[1],a=g[2],c=g[3]}catch{i=this.getFirstDifferent(new ie(u+7,h-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new ie(u+7,h+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new ie(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new ie(u-7,h-7),!1,-1,-1).toResultPoint()}return u=it.round((i.getX()+c.getX()+r.getX()+a.getX())/4),h=it.round((i.getY()+c.getY()+r.getY()+a.getY())/4),new ie(u,h)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,r,a,c,u){let h=Wt.getInstance(),g=this.getDimension(),m=g/2-this.nbCenterLayers,w=g/2+this.nbCenterLayers;return h.sampleGrid(i,g,g,m,m,w,m,w,w,m,w,r.getX(),r.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(i,r,a){let c=0,u=this.distanceResultPoint(i,r),h=u/a,g=i.getX(),m=i.getY(),w=h*(r.getX()-i.getX())/u,_=h*(r.getY()-i.getY())/u;for(let I=0;I<a;I++)this.image.get(it.round(g+I*w),it.round(m+I*_))&&(c|=1<<a-I-1);return c}isWhiteOrBlackRectangle(i,r,a,c){let u=3;i=new ie(i.getX()-u,i.getY()+u),r=new ie(r.getX()-u,r.getY()-u),a=new ie(a.getX()+u,a.getY()-u),c=new ie(c.getX()+u,c.getY()+u);let h=this.getColor(c,i);if(h===0)return!1;let g=this.getColor(i,r);return g!==h||(g=this.getColor(r,a),g!==h)?!1:(g=this.getColor(a,c),g===h)}getColor(i,r){let a=this.distancePoint(i,r),c=(r.getX()-i.getX())/a,u=(r.getY()-i.getY())/a,h=0,g=i.getX(),m=i.getY(),w=this.image.get(i.getX(),i.getY()),_=Math.ceil(a);for(let v=0;v<_;v++)g+=c,m+=u,this.image.get(it.round(g),it.round(m))!==w&&h++;let I=h/a;return I>.1&&I<.9?0:I<=.1===w?1:-1}getFirstDifferent(i,r,a,c){let u=i.getX()+a,h=i.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=a,h+=c;for(u-=a,h-=c;this.isValid(u,h)&&this.image.get(u,h)===r;)u+=a;for(u-=a;this.isValid(u,h)&&this.image.get(u,h)===r;)h+=c;return h-=c,new ie(u,h)}expandSquare(i,r,a){let c=a/(2*r),u=i[0].getX()-i[2].getX(),h=i[0].getY()-i[2].getY(),g=(i[0].getX()+i[2].getX())/2,m=(i[0].getY()+i[2].getY())/2,w=new K(g+c*u,m+c*h),_=new K(g-c*u,m-c*h);u=i[1].getX()-i[3].getX(),h=i[1].getY()-i[3].getY(),g=(i[1].getX()+i[3].getX())/2,m=(i[1].getY()+i[3].getY())/2;let I=new K(g+c*u,m+c*h),v=new K(g-c*u,m-c*h);return[w,I,_,v]}isValid(i,r){return i>=0&&i<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(i){let r=it.round(i.getX()),a=it.round(i.getY());return this.isValid(r,a)}distancePoint(i,r){return it.distance(i.getX(),i.getY(),r.getX(),r.getY())}distanceResultPoint(i,r){return it.distance(i.getX(),i.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class ln{decode(i,r=null){let a=null,c=new Ze(i.getBlackMatrix()),u=null,h=null;try{let _=c.detectMirror(!1);u=_.getPoints(),this.reportFoundResultPoints(r,u),h=new ot().decode(_)}catch(_){a=_}if(h==null)try{let _=c.detectMirror(!0);u=_.getPoints(),this.reportFoundResultPoints(r,u),h=new ot().decode(_)}catch(_){throw a??_}let g=new ne(h.getText(),h.getRawBytes(),h.getNumBits(),u,bt.AZTEC,O.currentTimeMillis()),m=h.getByteSegments();m!=null&&g.putMetadata(dt.BYTE_SEGMENTS,m);let w=h.getECLevel();return w!=null&&g.putMetadata(dt.ERROR_CORRECTION_LEVEL,w),g}reportFoundResultPoints(i,r){if(i!=null){let a=i.get(tt.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((c,u,h)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Tn extends Le{constructor(i=500){super(new ln,i)}}class ge{decode(i,r){try{return this.doDecode(i,r)}catch{if(r&&r.get(tt.TRY_HARDER)===!0&&i.isRotateSupported()){const u=i.rotateCounterClockwise(),h=this.doDecode(u,r),g=h.getResultMetadata();let m=270;g!==null&&g.get(dt.ORIENTATION)===!0&&(m=m+g.get(dt.ORIENTATION)%360),h.putMetadata(dt.ORIENTATION,m);const w=h.getResultPoints();if(w!==null){const _=u.getHeight();for(let I=0;I<w.length;I++)w[I]=new K(_-w[I].getY()-1,w[I].getX())}return h}else throw new X}}reset(){}doDecode(i,r){const a=i.getWidth(),c=i.getHeight();let u=new G(a);const h=r&&r.get(tt.TRY_HARDER)===!0,g=Math.max(1,c>>(h?8:5));let m;h?m=c:m=15;const w=Math.trunc(c/2);for(let _=0;_<m;_++){const I=Math.trunc((_+1)/2),v=(_&1)===0,R=w+g*(v?I:-I);if(R<0||R>=c)break;try{u=i.getBlackRow(R,u)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(u.reverse(),r&&r.get(tt.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;r.forEach((z,Q)=>L.set(Q,z)),L.delete(tt.NEED_RESULT_POINT_CALLBACK),r=L}try{const L=this.decodeRow(R,u,r);if(P===1){L.putMetadata(dt.ORIENTATION,180);const z=L.getResultPoints();z!==null&&(z[0]=new K(a-z[0].getX()-1,z[0].getY()),z[1]=new K(a-z[1].getX()-1,z[1].getY()))}return L}catch{}}}throw new X}static recordPattern(i,r,a){const c=a.length;for(let w=0;w<c;w++)a[w]=0;const u=i.getSize();if(r>=u)throw new X;let h=!i.get(r),g=0,m=r;for(;m<u;){if(i.get(m)!==h)a[g]++;else{if(++g===c)break;a[g]=1,h=!h}m++}if(!(g===c||g===c-1&&m===u))throw new X}static recordPatternInReverse(i,r,a){let c=a.length,u=i.get(r);for(;r>0&&c>=0;)i.get(--r)!==u&&(c--,u=!u);if(c>=0)throw new X;ge.recordPattern(i,r+1,a)}static patternMatchVariance(i,r,a){const c=i.length;let u=0,h=0;for(let w=0;w<c;w++)u+=i[w],h+=r[w];if(u<h)return Number.POSITIVE_INFINITY;const g=u/h;a*=g;let m=0;for(let w=0;w<c;w++){const _=i[w],I=r[w]*g,v=_>I?_-I:I-_;if(v>a)return Number.POSITIVE_INFINITY;m+=v}return m/u}}class gt extends ge{static findStartPattern(i){const r=i.getSize(),a=i.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=a,g=!1;const m=6;for(let w=a;w<r;w++)if(i.get(w)!==g)u[c]++;else{if(c===m-1){let _=gt.MAX_AVG_VARIANCE,I=-1;for(let v=gt.CODE_START_A;v<=gt.CODE_START_C;v++){const R=ge.patternMatchVariance(u,gt.CODE_PATTERNS[v],gt.MAX_INDIVIDUAL_VARIANCE);R<_&&(_=R,I=v)}if(I>=0&&i.isRange(Math.max(0,h-(w-h)/2),h,!1))return Int32Array.from([h,w,I]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,g=!g}throw new X}static decodeCode(i,r,a){ge.recordPattern(i,a,r);let c=gt.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<gt.CODE_PATTERNS.length;h++){const g=gt.CODE_PATTERNS[h],m=this.patternMatchVariance(r,g,gt.MAX_INDIVIDUAL_VARIANCE);m<c&&(c=m,u=h)}if(u>=0)return u;throw new X}decodeRow(i,r,a){const c=a&&a.get(tt.ASSUME_GS1)===!0,u=gt.findStartPattern(r),h=u[2];let g=0;const m=new Uint8Array(20);m[g++]=h;let w;switch(h){case gt.CODE_START_A:w=gt.CODE_CODE_A;break;case gt.CODE_START_B:w=gt.CODE_CODE_B;break;case gt.CODE_START_C:w=gt.CODE_CODE_C;break;default:throw new H}let _=!1,I=!1,v="",R=u[0],P=u[1];const L=Int32Array.from([0,0,0,0,0,0]);let z=0,Q=0,ct=h,ut=0,at=!0,jt=!1,Lt=!1;for(;!_;){const Fs=I;switch(I=!1,z=Q,Q=gt.decodeCode(r,L,P),m[g++]=Q,Q!==gt.CODE_STOP&&(at=!0),Q!==gt.CODE_STOP&&(ut++,ct+=ut*Q),R=P,P+=L.reduce((mg,bg)=>mg+bg,0),Q){case gt.CODE_START_A:case gt.CODE_START_B:case gt.CODE_START_C:throw new H}switch(w){case gt.CODE_CODE_A:if(Q<64)Lt===jt?v+=String.fromCharCode(32+Q):v+=String.fromCharCode(32+Q+128),Lt=!1;else if(Q<96)Lt===jt?v+=String.fromCharCode(Q-64):v+=String.fromCharCode(Q+64),Lt=!1;else switch(Q!==gt.CODE_STOP&&(at=!1),Q){case gt.CODE_FNC_1:c&&(v.length===0?v+="]C1":v+="");break;case gt.CODE_FNC_2:case gt.CODE_FNC_3:break;case gt.CODE_FNC_4_A:!jt&&Lt?(jt=!0,Lt=!1):jt&&Lt?(jt=!1,Lt=!1):Lt=!0;break;case gt.CODE_SHIFT:I=!0,w=gt.CODE_CODE_B;break;case gt.CODE_CODE_B:w=gt.CODE_CODE_B;break;case gt.CODE_CODE_C:w=gt.CODE_CODE_C;break;case gt.CODE_STOP:_=!0;break}break;case gt.CODE_CODE_B:if(Q<96)Lt===jt?v+=String.fromCharCode(32+Q):v+=String.fromCharCode(32+Q+128),Lt=!1;else switch(Q!==gt.CODE_STOP&&(at=!1),Q){case gt.CODE_FNC_1:c&&(v.length===0?v+="]C1":v+="");break;case gt.CODE_FNC_2:case gt.CODE_FNC_3:break;case gt.CODE_FNC_4_B:!jt&&Lt?(jt=!0,Lt=!1):jt&&Lt?(jt=!1,Lt=!1):Lt=!0;break;case gt.CODE_SHIFT:I=!0,w=gt.CODE_CODE_A;break;case gt.CODE_CODE_A:w=gt.CODE_CODE_A;break;case gt.CODE_CODE_C:w=gt.CODE_CODE_C;break;case gt.CODE_STOP:_=!0;break}break;case gt.CODE_CODE_C:if(Q<100)Q<10&&(v+="0"),v+=Q;else switch(Q!==gt.CODE_STOP&&(at=!1),Q){case gt.CODE_FNC_1:c&&(v.length===0?v+="]C1":v+="");break;case gt.CODE_CODE_A:w=gt.CODE_CODE_A;break;case gt.CODE_CODE_B:w=gt.CODE_CODE_B;break;case gt.CODE_STOP:_=!0;break}break}Fs&&(w=w===gt.CODE_CODE_A?gt.CODE_CODE_B:gt.CODE_CODE_A)}const bn=P-R;if(P=r.getNextUnset(P),!r.isRange(P,Math.min(r.getSize(),P+(P-R)/2),!1))throw new X;if(ct-=ut*z,ct%103!==z)throw new A;const Wn=v.length;if(Wn===0)throw new X;Wn>0&&at&&(w===gt.CODE_CODE_C?v=v.substring(0,Wn-2):v=v.substring(0,Wn-1));const wn=(u[1]+u[0])/2,he=R+bn/2,Je=m.length,Cn=new Uint8Array(Je);for(let Fs=0;Fs<Je;Fs++)Cn[Fs]=m[Fs];const Ls=[new K(wn,i),new K(he,i)];return new ne(v,Cn,0,Ls,bt.CODE_128,new Date().getTime())}}gt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],gt.MAX_AVG_VARIANCE=.25,gt.MAX_INDIVIDUAL_VARIANCE=.7,gt.CODE_SHIFT=98,gt.CODE_CODE_C=99,gt.CODE_CODE_B=100,gt.CODE_CODE_A=101,gt.CODE_FNC_1=102,gt.CODE_FNC_2=97,gt.CODE_FNC_3=96,gt.CODE_FNC_4_A=101,gt.CODE_FNC_4_B=100,gt.CODE_START_A=103,gt.CODE_START_B=104,gt.CODE_START_C=105,gt.CODE_STOP=106;class qt extends ge{constructor(i=!1,r=!1){super(),this.usingCheckDigit=i,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,r,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=qt.findAsteriskPattern(r,c),h=r.getNextSet(u[1]),g=r.getSize(),m,w;do{qt.recordPattern(r,h,c);let L=qt.toNarrowWidePattern(c);if(L<0)throw new X;m=qt.patternToChar(L),this.decodeRowResult+=m,w=h;for(let z of c)h+=z;h=r.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let L of c)_+=L;let I=h-w-_;if(h!==g&&I*2<_)throw new X;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,z=0;for(let Q=0;Q<L;Q++)z+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(L)!==qt.ALPHABET_STRING.charAt(z%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new X;let v;this.extendedMode?v=qt.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let R=(u[1]+u[0])/2,P=w+_/2;return new ne(v,null,0,[new K(R,i),new K(P,i)],bt.CODE_39,new Date().getTime())}static findAsteriskPattern(i,r){let a=i.getSize(),c=i.getNextSet(0),u=0,h=c,g=!1,m=r.length;for(let w=c;w<a;w++)if(i.get(w)!==g)r[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(r)===qt.ASTERISK_ENCODING&&i.isRange(Math.max(0,h-Math.floor((w-h)/2)),h,!1))return[h,w];h+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,g=!g}throw new X}static toNarrowWidePattern(i){let r=i.length,a=0,c;do{let u=2147483647;for(let m of i)m<u&&m>a&&(u=m);a=u,c=0;let h=0,g=0;for(let m=0;m<r;m++){let w=i[m];w>a&&(g|=1<<r-1-m,c++,h+=w)}if(c===3){for(let m=0;m<r&&c>0;m++){let w=i[m];if(w>a&&(c--,w*2>=h))return-1}return g}}while(c>3);return-1}static patternToChar(i){for(let r=0;r<qt.CHARACTER_ENCODINGS.length;r++)if(qt.CHARACTER_ENCODINGS[r]===i)return qt.ALPHABET_STRING.charAt(r);if(i===qt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(i){let r=i.length,a="";for(let c=0;c<r;c++){let u=i.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=i.charAt(c+1),g="\0";switch(u){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new H;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new H;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new H;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new H;break}a+=g,c++}else a+=u}return a}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class Gt extends ge{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,r,a){let c=this.decodeStart(r),u=this.decodeEnd(r),h=new xt;Gt.decodeMiddle(r,c[1],u[0],h);let g=h.toString(),m=null;a!=null&&(m=a.get(tt.ALLOWED_LENGTHS)),m==null&&(m=Gt.DEFAULT_ALLOWED_LENGTHS);let w=g.length,_=!1,I=0;for(let P of m){if(w===P){_=!0;break}P>I&&(I=P)}if(!_&&w>I&&(_=!0),!_)throw new H;const v=[new K(c[1],i),new K(u[0],i)];return new ne(g,null,0,v,bt.ITF,new Date().getTime())}static decodeMiddle(i,r,a,c){let u=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),h.fill(0),g.fill(0);r<a;){ge.recordPattern(i,r,u);for(let w=0;w<5;w++){let _=2*w;h[w]=u[_],g[w]=u[_+1]}let m=Gt.decodeDigit(h);c.append(m.toString()),m=this.decodeDigit(g),c.append(m.toString()),u.forEach(function(w){r+=w})}}decodeStart(i){let r=Gt.skipWhiteSpace(i),a=Gt.findGuardPattern(i,r,Gt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(i,a[0]),a}validateQuietZone(i,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let c=r-1;a>0&&c>=0&&!i.get(c);c--)a--;if(a!==0)throw new X}static skipWhiteSpace(i){const r=i.getSize(),a=i.getNextSet(0);if(a===r)throw new X;return a}decodeEnd(i){i.reverse();try{let r=Gt.skipWhiteSpace(i),a;try{a=Gt.findGuardPattern(i,r,Gt.END_PATTERN_REVERSED[0])}catch(u){u instanceof X&&(a=Gt.findGuardPattern(i,r,Gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,a[0]);let c=a[0];return a[0]=i.getSize()-a[1],a[1]=i.getSize()-c,a}finally{i.reverse()}}static findGuardPattern(i,r,a){let c=a.length,u=new Int32Array(c),h=i.getSize(),g=!1,m=0,w=r;u.fill(0);for(let _=r;_<h;_++)if(i.get(_)!==g)u[m]++;else{if(m===c-1){if(ge.patternMatchVariance(u,a,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return[w,_];w+=u[0]+u[1],O.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,g=!g}throw new X}static decodeDigit(i){let r=Gt.MAX_AVG_VARIANCE,a=-1,c=Gt.PATTERNS.length;for(let u=0;u<c;u++){let h=Gt.PATTERNS[u],g=ge.patternMatchVariance(i,h,Gt.MAX_INDIVIDUAL_VARIANCE);g<r?(r=g,a=u):g===r&&(a=-1)}if(a>=0)return a%10;throw new X}}Gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Gt.MAX_AVG_VARIANCE=.38,Gt.MAX_INDIVIDUAL_VARIANCE=.5,Gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Gt.START_PATTERN=Int32Array.from([1,1,1,1]),Gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class we extends ge{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let r=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),a=we.findGuardPattern(i,c,!1,this.START_END_PATTERN,u);let h=a[0];c=a[1];let g=h-(c-h);g>=0&&(r=i.isRange(g,h,!1))}return a}static checkChecksum(i){return we.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let r=i.length;if(r===0)return!1;let a=parseInt(i.charAt(r-1),10);return we.getStandardUPCEANChecksum(i.substring(0,r-1))===a}static getStandardUPCEANChecksum(i){let r=i.length,a=0;for(let c=r-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new H;a+=u}a*=3;for(let c=r-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new H;a+=u}return(1e3-a)%10}static decodeEnd(i,r){return we.findGuardPattern(i,r,!1,we.START_END_PATTERN,new Int32Array(we.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,r,a,c){return this.findGuardPattern(i,r,a,c,new Int32Array(c.length))}static findGuardPattern(i,r,a,c,u){let h=i.getSize();r=a?i.getNextUnset(r):i.getNextSet(r);let g=0,m=r,w=c.length,_=a;for(let I=r;I<h;I++)if(i.get(I)!==_)u[g]++;else{if(g===w-1){if(ge.patternMatchVariance(u,c,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return Int32Array.from([m,I]);m+=u[0]+u[1];let v=u.slice(2,u.length-1);for(let R=0;R<g-1;R++)u[R]=v[R];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,_=!_}throw new X}static decodeDigit(i,r,a,c){this.recordPattern(i,a,r);let u=this.MAX_AVG_VARIANCE,h=-1,g=c.length;for(let m=0;m<g;m++){let w=c[m],_=ge.patternMatchVariance(r,w,we.MAX_INDIVIDUAL_VARIANCE);_<u&&(u=_,h=m)}if(h>=0)return h;throw new X}}we.MAX_AVG_VARIANCE=.48,we.MAX_INDIVIDUAL_VARIANCE=.7,we.START_END_PATTERN=Int32Array.from([1,1,1]),we.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),we.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),we.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Oi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,r,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(r,a,c),h=c.toString(),g=Oi.parseExtensionString(h),m=[new K((a[0]+a[1])/2,i),new K(u,i)],w=new ne(h,null,0,m,bt.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&w.putAllMetadata(g),w}decodeMiddle(i,r,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=r[1],g=0;for(let w=0;w<5&&h<u;w++){let _=we.decodeDigit(i,c,h,we.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let I of c)h+=I;_>=10&&(g|=1<<4-w),w!==4&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(a.length!==5)throw new X;let m=this.determineCheckDigit(g);if(Oi.extensionChecksum(a.toString())!==m)throw new X;return h}static extensionChecksum(i){let r=i.length,a=0;for(let c=r-2;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;a*=3;for(let c=r-1;c>=0;c-=2)a+=i.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(i){for(let r=0;r<10;r++)if(i===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new X}static parseExtensionString(i){if(i.length!==5)return null;let r=Oi.parseExtension5String(i);return r==null?null:new Map([[dt.SUGGESTED_PRICE,r]])}static parseExtension5String(i){let r;switch(i.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(i.substring(1)),c=(a/100).toString(),u=a%100,h=u<10?"0"+u:u.toString();return r+c+"."+h}}class qa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,r,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(r,a,c),h=c.toString(),g=qa.parseExtensionString(h),m=[new K((a[0]+a[1])/2,i),new K(u,i)],w=new ne(h,null,0,m,bt.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&w.putAllMetadata(g),w}decodeMiddle(i,r,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=r[1],g=0;for(let m=0;m<2&&h<u;m++){let w=we.decodeDigit(i,c,h,we.L_AND_G_PATTERNS);a+=String.fromCharCode(48+w%10);for(let _ of c)h+=_;w>=10&&(g|=1<<1-m),m!==1&&(h=i.getNextSet(h),h=i.getNextUnset(h))}if(a.length!==2)throw new X;if(parseInt(a.toString())%4!==g)throw new X;return h}static parseExtensionString(i){return i.length!==2?null:new Map([[dt.ISSUE_NUMBER,parseInt(i)]])}}class nu{static decodeRow(i,r,a){let c=we.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Oi().decodeRow(i,r,c)}catch{return new qa().decodeRow(i,r,c)}}}nu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Jt extends we{constructor(){super(),this.decodeRowStringBuffer="",Jt.L_AND_G_PATTERNS=Jt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let r=Jt.L_PATTERNS[i-10],a=new Int32Array(r.length);for(let c=0;c<r.length;c++)a[c]=r[r.length-c-1];Jt.L_AND_G_PATTERNS[i]=a}}decodeRow(i,r,a){let c=Jt.findStartGuardPattern(r),u=a==null?null:a.get(tt.NEED_RESULT_POINT_CALLBACK);if(u!=null){const at=new K((c[0]+c[1])/2,i);u.foundPossibleResultPoint(at)}let h=this.decodeMiddle(r,c,this.decodeRowStringBuffer),g=h.rowOffset,m=h.resultString;if(u!=null){const at=new K(g,i);u.foundPossibleResultPoint(at)}let w=this.decodeEnd(r,g);if(u!=null){const at=new K((w[0]+w[1])/2,i);u.foundPossibleResultPoint(at)}let _=w[1],I=_+(_-w[0]);if(I>=r.getSize()||!r.isRange(_,I,!1))throw new X;let v=m.toString();if(v.length<8)throw new H;if(!Jt.checkChecksum(v))throw new A;let R=(c[1]+c[0])/2,P=(w[1]+w[0])/2,L=this.getBarcodeFormat(),z=[new K(R,i),new K(P,i)],Q=new ne(v,null,0,z,L,new Date().getTime()),ct=0;try{let at=nu.decodeRow(i,r,w[1]);Q.putMetadata(dt.UPC_EAN_EXTENSION,at.getText()),Q.putAllMetadata(at.getResultMetadata()),Q.addResultPoints(at.getResultPoints()),ct=at.getText().length}catch{}let ut=a==null?null:a.get(tt.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let at=!1;for(let jt in ut)if(ct.toString()===jt){at=!0;break}if(!at)throw new X}return Q}decodeEnd(i,r){return Jt.findGuardPattern(i,r,!1,Jt.START_END_PATTERN,new Int32Array(Jt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Jt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let r=i.length;if(r===0)return!1;let a=parseInt(i.charAt(r-1),10);return Jt.getStandardUPCEANChecksum(i.substring(0,r-1))===a}static getStandardUPCEANChecksum(i){let r=i.length,a=0;for(let c=r-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new H;a+=u}a*=3;for(let c=r-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new H;a+=u}return(1e3-a)%10}}class $i extends Jt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,r,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=r[1],g=0;for(let w=0;w<6&&h<u;w++){let _=Jt.decodeDigit(i,c,h,Jt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let I of c)h+=I;_>=10&&(g|=1<<5-w)}a=$i.determineFirstDigit(a,g),h=Jt.findGuardPattern(i,h,!0,Jt.MIDDLE_PATTERN,new Int32Array(Jt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&h<u;w++){let _=Jt.decodeDigit(i,c,h,Jt.L_PATTERNS);a+=String.fromCharCode(48+_);for(let I of c)h+=I}return{rowOffset:h,resultString:a}}getBarcodeFormat(){return bt.EAN_13}static determineFirstDigit(i,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new X}}$i.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class iu extends Jt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,r,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h=r[1];for(let m=0;m<4&&h<u;m++){let w=Jt.decodeDigit(i,c,h,Jt.L_PATTERNS);a+=String.fromCharCode(48+w);for(let _ of c)h+=_}h=Jt.findGuardPattern(i,h,!0,Jt.MIDDLE_PATTERN,new Int32Array(Jt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<u;m++){let w=Jt.decodeDigit(i,c,h,Jt.L_PATTERNS);a+=String.fromCharCode(48+w);for(let _ of c)h+=_}return{rowOffset:h,resultString:a}}getBarcodeFormat(){return bt.EAN_8}}class su extends Jt{constructor(){super(...arguments),this.ean13Reader=new $i}getBarcodeFormat(){return bt.UPC_A}decode(i,r){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,r,a))}decodeMiddle(i,r,a){return this.ean13Reader.decodeMiddle(i,r,a)}maybeReturnResult(i){let r=i.getText();if(r.charAt(0)==="0"){let a=new ne(r.substring(1),null,null,i.getResultPoints(),bt.UPC_A);return i.getResultMetadata()!=null&&a.putAllMetadata(i.getResultMetadata()),a}else throw new X}reset(){this.ean13Reader.reset()}}class Vn extends Jt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,r,a){const c=this.decodeMiddleCounters.map(w=>w);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=i.getSize();let h=r[1],g=0;for(let w=0;w<6&&h<u;w++){const _=Vn.decodeDigit(i,c,h,Vn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+_%10);for(let I of c)h+=I;_>=10&&(g|=1<<5-w)}let m=Vn.determineNumSysAndCheckDigit(a,g);return{rowOffset:h,resultString:m}}decodeEnd(i,r){return Vn.findGuardPatternWithoutCounters(i,r,!0,Vn.MIDDLE_END_PATTERN)}checkChecksum(i){return Jt.checkChecksum(Vn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,r){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode(48+a),h=String.fromCharCode(48+c);return u+i+h}throw X.getNotFoundInstance()}getBarcodeFormat(){return bt.UPC_E}static convertUPCEtoUPCA(i){const r=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new xt;a.append(i.charAt(0));let c=r[5];switch(c){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(c),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(c);break}return i.length>=8&&a.append(i.charAt(7)),a.toString()}}Vn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Qa extends ge{constructor(i){super();let r=i==null?null:i.get(tt.POSSIBLE_FORMATS),a=[];s(r)?(a.push(new $i),a.push(new su),a.push(new iu),a.push(new Vn)):(r.indexOf(bt.EAN_13)>-1&&a.push(new $i),r.indexOf(bt.UPC_A)>-1&&a.push(new su),r.indexOf(bt.EAN_8)>-1&&a.push(new iu),r.indexOf(bt.UPC_E)>-1&&a.push(new Vn)),this.readers=a}decodeRow(i,r,a){for(let c of this.readers)try{const u=c.decodeRow(i,r,a),h=u.getBarcodeFormat()===bt.EAN_13&&u.getText().charAt(0)==="0",g=a==null?null:a.get(tt.POSSIBLE_FORMATS),m=g==null||g.includes(bt.UPC_A);if(h&&m){const w=u.getRawBytes(),_=new ne(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),bt.UPC_A);return _.putAllMetadata(u.getResultMetadata()),_}return u}catch{}throw new X}reset(){for(let i of this.readers)i.reset()}}class $e extends ge{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,r){for(let a=0;a<r.length;a++)if(ge.patternMatchVariance(i,r[a],$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return a;throw new X}static count(i){return it.sum(new Int32Array(i))}static increment(i,r){let a=0,c=r[0];for(let u=1;u<i.length;u++)r[u]>c&&(c=r[u],a=u);i[a]++}static decrement(i,r){let a=0,c=r[0];for(let u=1;u<i.length;u++)r[u]<c&&(c=r[u],a=u);i[a]--}static isFinderPattern(i){let r=i[0]+i[1],a=r+i[2]+i[3],c=r/a;if(c>=$e.MIN_FINDER_PATTERN_RATIO&&c<=$e.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of i)g>h&&(h=g),g<u&&(u=g);return h<10*u}return!1}}$e.MAX_AVG_VARIANCE=.2,$e.MAX_INDIVIDUAL_VARIANCE=.45,$e.MIN_FINDER_PATTERN_RATIO=9.5/12,$e.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rs{constructor(i,r){this.value=i,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Rs))return!1;const r=i;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class yo{constructor(i,r,a,c,u){this.value=i,this.startEnd=r,this.value=i,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new K(a,u)),this.resultPoints.push(new K(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof yo))return!1;const r=i;return this.value===r.value}hashCode(){return this.value}}class qn{constructor(){}static getRSSvalue(i,r,a){let c=0;for(let m of i)c+=m;let u=0,h=0,g=i.length;for(let m=0;m<g-1;m++){let w;for(w=1,h|=1<<m;w<i[m];w++,h&=~(1<<m)){let _=qn.combins(c-w-1,g-m-2);if(a&&h===0&&c-w-(g-m-1)>=g-m-1&&(_-=qn.combins(c-w-(g-m),g-m-2)),g-m-1>1){let I=0;for(let v=c-w-(g-m-2);v>r;v--)I+=qn.combins(c-w-v-1,g-m-3);_-=I*(g-1-m)}else c-w>r&&_--;u+=_}c-=w}return u}static combins(i,r){let a,c;i-r>r?(c=r,a=i-r):(c=i-r,a=r);let u=1,h=1;for(let g=i;g>a;g--)u*=g,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class G1{static buildBitArray(i){let r=i.length*2-1;i[i.length-1].getRightChar()==null&&(r-=1);let a=12*r,c=new G(a),u=0,g=i[0].getRightChar().getValue();for(let m=11;m>=0;--m)g&1<<m&&c.set(u),u++;for(let m=1;m<i.length;++m){let w=i[m],_=w.getLeftChar().getValue();for(let I=11;I>=0;--I)_&1<<I&&c.set(u),u++;if(w.getRightChar()!=null){let I=w.getRightChar().getValue();for(let v=11;v>=0;--v)I&1<<v&&c.set(u),u++}}return c}}class ts{constructor(i,r){r?this.decodedInformation=null:(this.finished=i,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ja{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class pn extends Ja{constructor(i,r){super(i),this.value=r}getValue(){return this.value}isFNC1(){return this.value===pn.FNC1}}pn.FNC1="$";class es extends Ja{constructor(i,r,a){super(i),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class On extends Ja{constructor(i,r,a){if(super(i),r<0||r>10||a<0||a>10)throw new H;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===On.FNC1}isSecondDigitFNC1(){return this.secondDigit===On.FNC1}isAnyFNC1(){return this.firstDigit===On.FNC1||this.secondDigit===On.FNC1}}On.FNC1=10;class yt{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new X;let r=i.substring(0,2);for(let u of yt.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(2,u[2],i):yt.processFixedAI(2,u[1],i);if(i.length<3)throw new X;let a=i.substring(0,3);for(let u of yt.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(3,u[2],i):yt.processFixedAI(3,u[1],i);for(let u of yt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(4,u[2],i):yt.processFixedAI(4,u[1],i);if(i.length<4)throw new X;let c=i.substring(0,4);for(let u of yt.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===yt.VARIABLE_LENGTH?yt.processVariableAI(4,u[2],i):yt.processFixedAI(4,u[1],i);throw new X}static processFixedAI(i,r,a){if(a.length<i)throw new X;let c=a.substring(0,i);if(a.length<i+r)throw new X;let u=a.substring(i,i+r),h=a.substring(i+r),g="("+c+")"+u,m=yt.parseFieldsInGeneralPurpose(h);return m==null?g:g+m}static processVariableAI(i,r,a){let c=a.substring(0,i),u;a.length<i+r?u=a.length:u=i+r;let h=a.substring(i,u),g=a.substring(u),m="("+c+")"+h,w=yt.parseFieldsInGeneralPurpose(g);return w==null?m:m+w}}yt.VARIABLE_LENGTH=[],yt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",yt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",yt.VARIABLE_LENGTH,20],["22",yt.VARIABLE_LENGTH,29],["30",yt.VARIABLE_LENGTH,8],["37",yt.VARIABLE_LENGTH,8],["90",yt.VARIABLE_LENGTH,30],["91",yt.VARIABLE_LENGTH,30],["92",yt.VARIABLE_LENGTH,30],["93",yt.VARIABLE_LENGTH,30],["94",yt.VARIABLE_LENGTH,30],["95",yt.VARIABLE_LENGTH,30],["96",yt.VARIABLE_LENGTH,30],["97",yt.VARIABLE_LENGTH,3],["98",yt.VARIABLE_LENGTH,30],["99",yt.VARIABLE_LENGTH,30]],yt.THREE_DIGIT_DATA_LENGTH=[["240",yt.VARIABLE_LENGTH,30],["241",yt.VARIABLE_LENGTH,30],["242",yt.VARIABLE_LENGTH,6],["250",yt.VARIABLE_LENGTH,30],["251",yt.VARIABLE_LENGTH,30],["253",yt.VARIABLE_LENGTH,17],["254",yt.VARIABLE_LENGTH,20],["400",yt.VARIABLE_LENGTH,30],["401",yt.VARIABLE_LENGTH,30],["402",17],["403",yt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",yt.VARIABLE_LENGTH,20],["421",yt.VARIABLE_LENGTH,15],["422",3],["423",yt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],yt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",yt.VARIABLE_LENGTH,15],["391",yt.VARIABLE_LENGTH,18],["392",yt.VARIABLE_LENGTH,15],["393",yt.VARIABLE_LENGTH,18],["703",yt.VARIABLE_LENGTH,30]],yt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",yt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",yt.VARIABLE_LENGTH,20],["8003",yt.VARIABLE_LENGTH,30],["8004",yt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",yt.VARIABLE_LENGTH,30],["8008",yt.VARIABLE_LENGTH,12],["8018",18],["8020",yt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",yt.VARIABLE_LENGTH,70],["8200",yt.VARIABLE_LENGTH,70]];class Ns{constructor(i){this.buffer=new xt,this.information=i}decodeAllCodes(i,r){let a=r,c=null;do{let u=this.decodeGeneralPurposeField(a,c),h=yt.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&i.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let r=i;r<i+3;++r)if(this.information.get(r))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new On(this.information.getSize(),On.FNC1,On.FNC1):new On(this.information.getSize(),u-1,On.FNC1)}let r=this.extractNumericValueFromBitArray(i,7),a=(r-8)/11,c=(r-8)%11;return new On(i+7,a,c)}extractNumericValueFromBitArray(i,r){return Ns.extractNumericValueFromBitArray(this.information,i,r)}static extractNumericValueFromBitArray(i,r,a){let c=0;for(let u=0;u<a;++u)i.get(r+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(i,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(i);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new es(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new es(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),i=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),i=r.isFinished()):(r=this.parseNumericBlock(),i=r.isFinished()),!(a!==this.current.getPosition())&&!i)break}while(!i);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let r;return i.isSecondDigitFNC1()?r=new es(this.current.getPosition(),this.buffer.toString()):r=new es(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new ts(!0,r)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let r=new es(this.current.getPosition(),this.buffer.toString());return new ts(!0,r)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ts(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let r=new es(this.current.getPosition(),this.buffer.toString());return new ts(!0,r)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ts(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let r=new es(this.current.getPosition(),this.buffer.toString());return new ts(!0,r)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ts(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(i,5);if(r>=5&&r<16)return!0;if(i+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let r=this.extractNumericValueFromBitArray(i,5);if(r===15)return new pn(i+5,pn.FNC1);if(r>=5&&r<15)return new pn(i+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(i,7);if(a>=64&&a<90)return new pn(i+7,""+(a+1));if(a>=90&&a<116)return new pn(i+7,""+(a+7));let c=this.extractNumericValueFromBitArray(i,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new H}return new pn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(i,5);if(r>=5&&r<16)return!0;if(i+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,6);return a>=16&&a<63}decodeAlphanumeric(i){let r=this.extractNumericValueFromBitArray(i,5);if(r===15)return new pn(i+5,pn.FNC1);if(r>=5&&r<15)return new pn(i+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(i,6);if(a>=32&&a<58)return new pn(i+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new et("Decoding invalid alphanumeric value: "+a)}return new pn(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let r=0;r<5&&r+i<this.information.getSize();++r)if(r===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+r))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let r=i;r<i+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let r=0;r<4&&r+i<this.information.getSize();++r)if(this.information.get(i+r))return!1;return!0}}class $a{constructor(i){this.information=i,this.generalDecoder=new Ns(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class xn extends $a{constructor(i){super(i)}encodeCompressedGtin(i,r){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,r,a)}encodeCompressedGtinWithoutAI(i,r,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*c,10);u/100===0&&i.append("0"),u/10===0&&i.append("0"),i.append(u)}xn.appendCheckDigit(i,a)}static appendCheckDigit(i,r){let a=0;for(let c=0;c<13;c++){let u=i.charAt(c+r).charCodeAt(0)-48;a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),i.append(a)}}xn.GTIN_SIZE=40;class Ms extends xn{constructor(i){super(i)}parseInformation(){let i=new xt;i.append("(01)");let r=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ms.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,Ms.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(i,Ms.HEADER_SIZE+44)}}Ms.HEADER_SIZE=4;class _o extends $a{constructor(i){super(i)}parseInformation(){let i=new xt;return this.getGeneralDecoder().decodeAllCodes(i,_o.HEADER_SIZE)}}_o.HEADER_SIZE=5;class Co extends xn{constructor(i){super(i)}encodeCompressedWeight(i,r,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(i,c);let u=this.checkWeight(c),h=1e5;for(let g=0;g<5;++g)u/h===0&&i.append("0"),h/=10;i.append(u)}}class Qn extends Co{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Qn.HEADER_SIZE+Co.GTIN_SIZE+Qn.WEIGHT_SIZE)throw new X;let i=new xt;return this.encodeCompressedGtin(i,Qn.HEADER_SIZE),this.encodeCompressedWeight(i,Qn.HEADER_SIZE+Co.GTIN_SIZE,Qn.WEIGHT_SIZE),i.toString()}}Qn.HEADER_SIZE=5,Qn.WEIGHT_SIZE=15;class z1 extends Qn{constructor(i){super(i)}addWeightCode(i,r){i.append("(3103)")}checkWeight(i){return i}}class j1 extends Qn{constructor(i){super(i)}addWeightCode(i,r){r<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Jn extends xn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Jn.HEADER_SIZE+xn.GTIN_SIZE)throw new X;let i=new xt;this.encodeCompressedGtin(i,Jn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Jn.HEADER_SIZE+xn.GTIN_SIZE,Jn.LAST_DIGIT_SIZE);i.append("(392"),i.append(r),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Jn.HEADER_SIZE+xn.GTIN_SIZE+Jn.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}Jn.HEADER_SIZE=8,Jn.LAST_DIGIT_SIZE=2;class cn extends xn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<cn.HEADER_SIZE+xn.GTIN_SIZE)throw new X;let i=new xt;this.encodeCompressedGtin(i,cn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE+xn.GTIN_SIZE,cn.LAST_DIGIT_SIZE);i.append("(393"),i.append(r),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE+xn.GTIN_SIZE+cn.LAST_DIGIT_SIZE,cn.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(cn.HEADER_SIZE+xn.GTIN_SIZE+cn.LAST_DIGIT_SIZE+cn.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}cn.HEADER_SIZE=8,cn.LAST_DIGIT_SIZE=2,cn.FIRST_THREE_DIGITS_SIZE=10;class Ie extends Co{constructor(i,r,a){super(i),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ie.HEADER_SIZE+Ie.GTIN_SIZE+Ie.WEIGHT_SIZE+Ie.DATE_SIZE)throw new X;let i=new xt;return this.encodeCompressedGtin(i,Ie.HEADER_SIZE),this.encodeCompressedWeight(i,Ie.HEADER_SIZE+Ie.GTIN_SIZE,Ie.WEIGHT_SIZE),this.encodeCompressedDate(i,Ie.HEADER_SIZE+Ie.GTIN_SIZE+Ie.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ie.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let h=a;h/10==0&&i.append("0"),i.append(h),u/10==0&&i.append("0"),i.append(u),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,r){i.append("("),i.append(this.firstAIdigits),i.append(r/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ie.HEADER_SIZE=8,Ie.WEIGHT_SIZE=20,Ie.DATE_SIZE=16;function ru(E){try{if(E.get(1))return new Ms(E);if(!E.get(2))return new _o(E);switch(Ns.extractNumericValueFromBitArray(E,1,4)){case 4:return new z1(E);case 5:return new j1(E)}switch(Ns.extractNumericValueFromBitArray(E,1,5)){case 12:return new Jn(E);case 13:return new cn(E)}switch(Ns.extractNumericValueFromBitArray(E,1,7)){case 56:return new Ie(E,"310","11");case 57:return new Ie(E,"320","11");case 58:return new Ie(E,"310","13");case 59:return new Ie(E,"320","13");case 60:return new Ie(E,"310","15");case 61:return new Ie(E,"320","15");case 62:return new Ie(E,"310","17");case 63:return new Ie(E,"320","17")}}catch(i){throw console.log(i),new et("unknown decoder: "+E)}}class Ri{constructor(i,r,a,c){this.leftchar=i,this.rightchar=r,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,r){return i instanceof Ri?Ri.equalsOrNull(i.leftchar,r.leftchar)&&Ri.equalsOrNull(i.rightchar,r.rightchar)&&Ri.equalsOrNull(i.finderpattern,r.finderpattern):!1}static equalsOrNull(i,r){return i===null?r===null:Ri.equals(i,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class tl{constructor(i,r,a){this.pairs=i,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,r){return i instanceof tl?this.checkEqualitity(i,r)&&i.wasReversed===r.wasReversed:!1}checkEqualitity(i,r){if(!i||!r)return;let a;return i.forEach((c,u)=>{r.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(a=!0)})}),a}}class rt extends $e{constructor(i){super(...arguments),this.pairs=new Array(rt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,r,a){this.pairs.length=0,this.startFromEven=!1;try{return rt.constructResult(this.decodeRow2pairs(i,r))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,rt.constructResult(this.decodeRow2pairs(i,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,i))}catch(u){if(u instanceof X){if(!this.pairs.length)throw new X;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new X}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return i&&(this.rows=this.rows.reverse()),r}checkRows(i,r){for(let a=r;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let h of i)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!rt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(c);try{return this.checkRows(u,a+1)}catch(h){this.verbose&&console.log(h)}}throw new X}static isValidSequence(i){for(let r of rt.FINDER_PATTERN_SEQUENCES){if(i.length>r.length)continue;let a=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=r[c]){a=!1;break}if(a)return!0}return!1}storeRow(i,r){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let h=this.rows[a];if(h.getRowNumber()>i){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),a++}u||c||rt.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new tl(this.pairs,i,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,r){for(let a of r)if(a.getPairs().length!==i.length){for(let c of a.getPairs())for(let u of i)if(Ri.equals(c,u))break}}static isPartialRow(i,r){for(let a of r){let c=!0;for(let u of i){let h=!1;for(let g of a.getPairs())if(u.equals(g)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let r=G1.buildBitArray(i),c=ru(r).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),h=i[i.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],h[0],h[1]];return new ne(c,null,null,g,bt.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),r=i.getLeftChar(),a=i.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let m=this.pairs.get(g);c+=m.getLeftChar().getChecksumPortion(),u++;let w=m.getRightChar();w!=null&&(c+=w.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==r.getValue()}static getNextSecondBar(i,r){let a;return i.get(r)?(a=i.getNextUnset(r),a=i.getNextSet(a)):(a=i.getNextSet(r),a=i.getNextUnset(a)),a}retrieveNextPair(i,r,a){let c=r.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,g=-1;do this.findNextPair(i,r,g),u=this.parseFoundFinderPattern(i,a,c),u==null?g=rt.getNextSecondBar(i,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(i,u,c,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new X;let w;try{w=this.decodeDataCharacter(i,u,c,!1)}catch(_){w=null,this.verbose&&console.log(_)}return new Ri(m,w,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,r,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),h;a>=0?h=a:this.isEmptyPair(r)?h=0:h=r[r.length-1].getFinderPattern().getStartEnd()[1];let g=r.length%2!=0;this.startFromEven&&(g=!g);let m=!1;for(;h<u&&(m=!i.get(h),!!m);)h++;let w=0,_=h;for(let I=h;I<u;I++)if(i.get(I)!=m)c[w]++;else{if(w==3){if(g&&rt.reverseCounters(c),rt.isFinderPattern(c)){this.startEnd[0]=_,this.startEnd[1]=I;return}g&&rt.reverseCounters(c),_+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,m=!m}throw new X}static reverseCounters(i){let r=i.length;for(let a=0;a<r/2;++a){let c=i[a];i[a]=i[r-a-1],i[r-a-1]=c}}parseFoundFinderPattern(i,r,a){let c,u,h;if(a){let w=this.startEnd[0]-1;for(;w>=0&&!i.get(w);)w--;w++,c=this.startEnd[0]-w,u=w,h=this.startEnd[1]}else u=this.startEnd[0],h=i.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let g=this.getDecodeFinderCounters();O.arraycopy(g,0,g,1,g.length-1),g[0]=c;let m;try{m=this.parseFinderValue(g,rt.FINDER_PATTERNS)}catch{return null}return new yo(m,[u,h],u,h,r)}decodeDataCharacter(i,r,a,c){let u=this.getDataCharacterCounters();for(let he=0;he<u.length;he++)u[he]=0;if(c)rt.recordPatternInReverse(i,r.getStartEnd()[0],u);else{rt.recordPattern(i,r.getStartEnd()[1],u);for(let he=0,Je=u.length-1;he<Je;he++,Je--){let Cn=u[he];u[he]=u[Je],u[Je]=Cn}}let h=17,g=it.sum(new Int32Array(u))/h,m=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-m)/m>.3)throw new X;let w=this.getOddCounts(),_=this.getEvenCounts(),I=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let he=0;he<u.length;he++){let Je=1*u[he]/g,Cn=Je+.5;if(Cn<1){if(Je<.3)throw new X;Cn=1}else if(Cn>8){if(Je>8.7)throw new X;Cn=8}let Ls=he/2;he&1?(_[Ls]=Cn,v[Ls]=Je-Cn):(w[Ls]=Cn,I[Ls]=Je-Cn)}this.adjustOddEvenCounts(h);let R=4*r.getValue()+(a?0:2)+(c?0:1)-1,P=0,L=0;for(let he=w.length-1;he>=0;he--){if(rt.isNotA1left(r,a,c)){let Je=rt.WEIGHTS[R][2*he];L+=w[he]*Je}P+=w[he]}let z=0;for(let he=_.length-1;he>=0;he--)if(rt.isNotA1left(r,a,c)){let Je=rt.WEIGHTS[R][2*he+1];z+=_[he]*Je}let Q=L+z;if(P&1||P>13||P<4)throw new X;let ct=(13-P)/2,ut=rt.SYMBOL_WIDEST[ct],at=9-ut,jt=qn.getRSSvalue(w,ut,!0),Lt=qn.getRSSvalue(_,at,!1),bn=rt.EVEN_TOTAL_SUBSET[ct],Wn=rt.GSUM[ct],wn=jt*bn+Lt+Wn;return new Rs(wn,Q)}static isNotA1left(i,r,a){return!(i.getValue()==0&&r&&a)}adjustOddEvenCounts(i){let r=it.sum(new Int32Array(this.getOddCounts())),a=it.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;r>13?u=!0:r<4&&(c=!0);let h=!1,g=!1;a>13?g=!0:a<4&&(h=!0);let m=r+a-i,w=(r&1)==1,_=(a&1)==0;if(m==1)if(w){if(_)throw new X;u=!0}else{if(!_)throw new X;g=!0}else if(m==-1)if(w){if(_)throw new X;c=!0}else{if(!_)throw new X;h=!0}else if(m==0){if(w){if(!_)throw new X;r<a?(c=!0,g=!0):(u=!0,h=!0)}else if(_)throw new X}else throw new X;if(c){if(u)throw new X;rt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&rt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new X;rt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&rt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rt.SYMBOL_WIDEST=[7,5,4,3,1],rt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],rt.GSUM=[0,348,1388,2948,3988],rt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],rt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],rt.FINDER_PAT_A=0,rt.FINDER_PAT_B=1,rt.FINDER_PAT_C=2,rt.FINDER_PAT_D=3,rt.FINDER_PAT_E=4,rt.FINDER_PAT_F=5,rt.FINDER_PATTERN_SEQUENCES=[[rt.FINDER_PAT_A,rt.FINDER_PAT_A],[rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B],[rt.FINDER_PAT_A,rt.FINDER_PAT_C,rt.FINDER_PAT_B,rt.FINDER_PAT_D],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_C],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_D,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_E,rt.FINDER_PAT_B,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_D],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_E],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F],[rt.FINDER_PAT_A,rt.FINDER_PAT_A,rt.FINDER_PAT_B,rt.FINDER_PAT_B,rt.FINDER_PAT_C,rt.FINDER_PAT_D,rt.FINDER_PAT_D,rt.FINDER_PAT_E,rt.FINDER_PAT_E,rt.FINDER_PAT_F,rt.FINDER_PAT_F]],rt.MAX_PAIRS=11;class X1 extends Rs{constructor(i,r,a){super(i,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Te extends $e{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,r,a){const c=this.decodePair(r,!1,i,a);Te.addOrTally(this.possibleLeftPairs,c),r.reverse();let u=this.decodePair(r,!0,i,a);Te.addOrTally(this.possibleRightPairs,u),r.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Te.checkChecksum(h,g))return Te.constructResult(h,g)}throw new X}static addOrTally(i,r){if(r==null)return;let a=!1;for(let c of i)if(c.getValue()===r.getValue()){c.incrementCount(),a=!0;break}a||i.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,r){let a=4537077*i.getValue()+r.getValue(),c=new String(a).toString(),u=new xt;for(let w=13-c.length;w>0;w--)u.append("0");u.append(c);let h=0;for(let w=0;w<13;w++){let _=u.charAt(w).charCodeAt(0)-48;h+=w&1?_:3*_}h=10-h%10,h===10&&(h=0),u.append(h.toString());let g=i.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new ne(u.toString(),null,0,[g[0],g[1],m[0],m[1]],bt.RSS_14,new Date().getTime())}static checkChecksum(i,r){let a=(i.getChecksumPortion()+16*r.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+r.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(i,r,a,c){try{let u=this.findFinderPattern(i,r),h=this.parseFoundFinderPattern(i,a,r,u),g=c==null?null:c.get(tt.NEED_RESULT_POINT_CALLBACK);if(g!=null){let _=(u[0]+u[1])/2;r&&(_=i.getSize()-1-_),g.foundPossibleResultPoint(new K(_,a))}let m=this.decodeDataCharacter(i,h,!0),w=this.decodeDataCharacter(i,h,!1);return new X1(1597*m.getValue()+w.getValue(),m.getChecksumPortion()+4*w.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(i,r,a){let c=this.getDataCharacterCounters();for(let z=0;z<c.length;z++)c[z]=0;if(a)ge.recordPatternInReverse(i,r.getStartEnd()[0],c);else{ge.recordPattern(i,r.getStartEnd()[1]+1,c);for(let z=0,Q=c.length-1;z<Q;z++,Q--){let ct=c[z];c[z]=c[Q],c[Q]=ct}}let u=a?16:15,h=it.sum(new Int32Array(c))/u,g=this.getOddCounts(),m=this.getEvenCounts(),w=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let z=0;z<c.length;z++){let Q=c[z]/h,ct=Math.floor(Q+.5);ct<1?ct=1:ct>8&&(ct=8);let ut=Math.floor(z/2);z&1?(m[ut]=ct,_[ut]=Q-ct):(g[ut]=ct,w[ut]=Q-ct)}this.adjustOddEvenCounts(a,u);let I=0,v=0;for(let z=g.length-1;z>=0;z--)v*=9,v+=g[z],I+=g[z];let R=0,P=0;for(let z=m.length-1;z>=0;z--)R*=9,R+=m[z],P+=m[z];let L=v+3*R;if(a){if(I&1||I>12||I<4)throw new X;let z=(12-I)/2,Q=Te.OUTSIDE_ODD_WIDEST[z],ct=9-Q,ut=qn.getRSSvalue(g,Q,!1),at=qn.getRSSvalue(m,ct,!0),jt=Te.OUTSIDE_EVEN_TOTAL_SUBSET[z],Lt=Te.OUTSIDE_GSUM[z];return new Rs(ut*jt+at+Lt,L)}else{if(P&1||P>10||P<4)throw new X;let z=(10-P)/2,Q=Te.INSIDE_ODD_WIDEST[z],ct=9-Q,ut=qn.getRSSvalue(g,Q,!0),at=qn.getRSSvalue(m,ct,!1),jt=Te.INSIDE_ODD_TOTAL_SUBSET[z],Lt=Te.INSIDE_GSUM[z];return new Rs(at*jt+ut+Lt,L)}}findFinderPattern(i,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=i.getSize(),u=!1,h=0;for(;h<c&&(u=!i.get(h),r!==u);)h++;let g=0,m=h;for(let w=h;w<c;w++)if(i.get(w)!==u)a[g]++;else{if(g===3){if($e.isFinderPattern(a))return[m,w];m+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,u=!u}throw new X}parseFoundFinderPattern(i,r,a,c){let u=i.get(c[0]),h=c[0]-1;for(;h>=0&&u!==i.get(h);)h--;h++;const g=c[0]-h,m=this.getDecodeFinderCounters(),w=new Int32Array(m.length);O.arraycopy(m,0,w,1,m.length-1),w[0]=g;const _=this.parseFinderValue(w,Te.FINDER_PATTERNS);let I=h,v=c[1];return a&&(I=i.getSize()-1-I,v=i.getSize()-1-v),new yo(_,[h,c[1]],I,v,r)}adjustOddEvenCounts(i,r){let a=it.sum(new Int32Array(this.getOddCounts())),c=it.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,g=!1,m=!1;i?(a>12?h=!0:a<4&&(u=!0),c>12?m=!0:c<4&&(g=!0)):(a>11?h=!0:a<5&&(u=!0),c>10?m=!0:c<4&&(g=!0));let w=a+c-r,_=(a&1)===(i?1:0),I=(c&1)===1;if(w===1)if(_){if(I)throw new X;h=!0}else{if(!I)throw new X;m=!0}else if(w===-1)if(_){if(I)throw new X;u=!0}else{if(!I)throw new X;g=!0}else if(w===0){if(_){if(!I)throw new X;a<c?(u=!0,m=!0):(h=!0,g=!0)}else if(I)throw new X}else throw new X;if(u){if(h)throw new X;$e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&$e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(m)throw new X;$e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&$e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Te.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Te.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Te.OUTSIDE_GSUM=[0,161,961,2015,2715],Te.INSIDE_GSUM=[0,336,1036,1516],Te.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Te.INSIDE_ODD_WIDEST=[2,4,6,8],Te.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ds extends ge{constructor(i,r){super(),this.readers=[],this.verbose=r===!0;const a=i?i.get(tt.POSSIBLE_FORMATS):null,c=i&&i.get(tt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(bt.EAN_13)||a.includes(bt.UPC_A)||a.includes(bt.EAN_8)||a.includes(bt.UPC_E))&&this.readers.push(new Qa(i)),a.includes(bt.CODE_39)&&this.readers.push(new qt(c)),a.includes(bt.CODE_128)&&this.readers.push(new gt),a.includes(bt.ITF)&&this.readers.push(new Gt),a.includes(bt.RSS_14)&&this.readers.push(new Te),a.includes(bt.RSS_EXPANDED)&&this.readers.push(new rt(this.verbose))):(this.readers.push(new Qa(i)),this.readers.push(new qt),this.readers.push(new Qa(i)),this.readers.push(new gt),this.readers.push(new Gt),this.readers.push(new Te),this.readers.push(new rt(this.verbose)))}decodeRow(i,r,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,r,a)}catch{}throw new X}reset(){this.readers.forEach(i=>i.reset())}}class Y1 extends Le{constructor(i=500,r){super(new Ds(r),i,r)}}class se{constructor(i,r,a){this.ecCodewords=i,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class $t{constructor(i,r){this.count=i,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Yt{constructor(i,r,a,c,u,h){this.versionNumber=i,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let g=0;const m=h.getECCodewords(),w=h.getECBlocks();for(let _ of w)g+=_.getCount()*(_.getDataCodewords()+m);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,r){if(i&1||r&1)throw new H;for(let a of Yt.VERSIONS)if(a.symbolSizeRows===i&&a.symbolSizeColumns===r)return a;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Yt(1,10,10,8,8,new se(5,new $t(1,3))),new Yt(2,12,12,10,10,new se(7,new $t(1,5))),new Yt(3,14,14,12,12,new se(10,new $t(1,8))),new Yt(4,16,16,14,14,new se(12,new $t(1,12))),new Yt(5,18,18,16,16,new se(14,new $t(1,18))),new Yt(6,20,20,18,18,new se(18,new $t(1,22))),new Yt(7,22,22,20,20,new se(20,new $t(1,30))),new Yt(8,24,24,22,22,new se(24,new $t(1,36))),new Yt(9,26,26,24,24,new se(28,new $t(1,44))),new Yt(10,32,32,14,14,new se(36,new $t(1,62))),new Yt(11,36,36,16,16,new se(42,new $t(1,86))),new Yt(12,40,40,18,18,new se(48,new $t(1,114))),new Yt(13,44,44,20,20,new se(56,new $t(1,144))),new Yt(14,48,48,22,22,new se(68,new $t(1,174))),new Yt(15,52,52,24,24,new se(42,new $t(2,102))),new Yt(16,64,64,14,14,new se(56,new $t(2,140))),new Yt(17,72,72,16,16,new se(36,new $t(4,92))),new Yt(18,80,80,18,18,new se(48,new $t(4,114))),new Yt(19,88,88,20,20,new se(56,new $t(4,144))),new Yt(20,96,96,22,22,new se(68,new $t(4,174))),new Yt(21,104,104,24,24,new se(56,new $t(6,136))),new Yt(22,120,120,18,18,new se(68,new $t(6,175))),new Yt(23,132,132,20,20,new se(62,new $t(8,163))),new Yt(24,144,144,22,22,new se(62,new $t(8,156),new $t(2,155))),new Yt(25,8,18,6,16,new se(7,new $t(1,5))),new Yt(26,8,32,6,14,new se(11,new $t(1,10))),new Yt(27,12,26,10,24,new se(14,new $t(1,16))),new Yt(28,12,36,10,16,new se(18,new $t(1,22))),new Yt(29,16,36,14,16,new se(24,new $t(1,32))),new Yt(30,16,48,14,22,new se(28,new $t(1,49)))]}}Yt.VERSIONS=Yt.buildVersions();class el{constructor(i){const r=i.getHeight();if(r<8||r>144||r&1)throw new H;this.version=el.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Rt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const r=i.getHeight(),a=i.getWidth();return Yt.getVersionForDimensions(r,a)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,m=!1,w=!1,_=!1;do if(a===u&&c===0&&!g)i[r++]=this.readCorner1(u,h)&255,a-=2,c+=2,g=!0;else if(a===u-2&&c===0&&h&3&&!m)i[r++]=this.readCorner2(u,h)&255,a-=2,c+=2,m=!0;else if(a===u+4&&c===2&&!(h&7)&&!w)i[r++]=this.readCorner3(u,h)&255,a-=2,c+=2,w=!0;else if(a===u-2&&c===0&&(h&7)===4&&!_)i[r++]=this.readCorner4(u,h)&255,a-=2,c+=2,_=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(i[r++]=this.readUtah(a,c,u,h)&255),a-=2,c+=2;while(a>=0&&c<h);a+=1,c+=3;do a>=0&&c<h&&!this.readMappingMatrix.get(c,a)&&(i[r++]=this.readUtah(a,c,u,h)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<h);if(r!==this.version.getTotalCodewords())throw new H;return i}readModule(i,r,a,c){return i<0&&(i+=a,r+=4-(a+4&7)),r<0&&(r+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(r,i),this.mappingBitMatrix.get(r,i)}readUtah(i,r,a,c){let u=0;return this.readModule(i-2,r-2,a,c)&&(u|=1),u<<=1,this.readModule(i-2,r-1,a,c)&&(u|=1),u<<=1,this.readModule(i-1,r-2,a,c)&&(u|=1),u<<=1,this.readModule(i-1,r-1,a,c)&&(u|=1),u<<=1,this.readModule(i-1,r,a,c)&&(u|=1),u<<=1,this.readModule(i,r-2,a,c)&&(u|=1),u<<=1,this.readModule(i,r-1,a,c)&&(u|=1),u<<=1,this.readModule(i,r,a,c)&&(u|=1),u}readCorner1(i,r){let a=0;return this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,1,i,r)&&(a|=1),a<<=1,this.readModule(i-1,2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(2,r-1,i,r)&&(a|=1),a<<=1,this.readModule(3,r-1,i,r)&&(a|=1),a}readCorner2(i,r){let a=0;return this.readModule(i-3,0,i,r)&&(a|=1),a<<=1,this.readModule(i-2,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(0,r-4,i,r)&&(a|=1),a<<=1,this.readModule(0,r-3,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a}readCorner3(i,r){let a=0;return this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(0,r-3,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-3,i,r)&&(a|=1),a<<=1,this.readModule(1,r-2,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a}readCorner4(i,r){let a=0;return this.readModule(i-3,0,i,r)&&(a|=1),a<<=1,this.readModule(i-2,0,i,r)&&(a|=1),a<<=1,this.readModule(i-1,0,i,r)&&(a|=1),a<<=1,this.readModule(0,r-2,i,r)&&(a|=1),a<<=1,this.readModule(0,r-1,i,r)&&(a|=1),a<<=1,this.readModule(1,r-1,i,r)&&(a|=1),a<<=1,this.readModule(2,r-1,i,r)&&(a|=1),a<<=1,this.readModule(3,r-1,i,r)&&(a|=1),a}extractDataRegion(i){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(i.getHeight()!==r)throw new y("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=r/c|0,g=a/u|0,m=h*c,w=g*u,_=new Rt(w,m);for(let I=0;I<h;++I){const v=I*c;for(let R=0;R<g;++R){const P=R*u;for(let L=0;L<c;++L){const z=I*(c+2)+1+L,Q=v+L;for(let ct=0;ct<u;++ct){const ut=R*(u+2)+1+ct;if(i.get(ut,z)){const at=P+ct;_.set(at,Q)}}}}}return _}}class nl{constructor(i,r){this.numDataCodewords=i,this.codewords=r}static getDataBlocks(i,r){const a=r.getECBlocks();let c=0;const u=a.getECBlocks();for(let L of u)c+=L.getCount();const h=new Array(c);let g=0;for(let L of u)for(let z=0;z<L.getCount();z++){const Q=L.getDataCodewords(),ct=a.getECCodewords()+Q;h[g++]=new nl(Q,new Uint8Array(ct))}const w=h[0].codewords.length-a.getECCodewords(),_=w-1;let I=0;for(let L=0;L<_;L++)for(let z=0;z<g;z++)h[z].codewords[L]=i[I++];const v=r.getVersionNumber()===24,R=v?8:g;for(let L=0;L<R;L++)h[L].codewords[w-1]=i[I++];const P=h[0].codewords.length;for(let L=w;L<P;L++)for(let z=0;z<g;z++){const Q=v?(z+8)%g:z,ct=v&&Q>7?L-1:L;h[Q].codewords[ct]=i[I++]}if(I!==i.length)throw new y;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class il{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new y(""+i);let r=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const h=8-a,g=i<h?i:h,m=h-g,w=255>>8-g<<m;r=(u[c]&w)>>m,i-=g,a+=g,a===8&&(a=0,c++)}if(i>0){for(;i>=8;)r=r<<8|u[c]&255,c++,i-=8;if(i>0){const h=8-i,g=255>>h<<h;r=r<<i|(u[c]&g)>>h,a+=i}}return this.bitOffset=a,this.byteOffset=c,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ue;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ue||(Ue={}));class Ni{static decode(i){const r=new il(i),a=new xt,c=new xt,u=new Array;let h=Ue.ASCII_ENCODE;do if(h===Ue.ASCII_ENCODE)h=this.decodeAsciiSegment(r,a,c);else{switch(h){case Ue.C40_ENCODE:this.decodeC40Segment(r,a);break;case Ue.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Ue.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Ue.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Ue.BASE256_ENCODE:this.decodeBase256Segment(r,a,u);break;default:throw new H}h=Ue.ASCII_ENCODE}while(h!==Ue.PAD_ENCODE&&r.available()>0);return c.length()>0&&a.append(c.toString()),new mt(i,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,r,a){let c=!1;do{let u=i.readBits(8);if(u===0)throw new H;if(u<=128)return c&&(u+=128),r.append(String.fromCharCode(u-1)),Ue.ASCII_ENCODE;if(u===129)return Ue.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&r.append("0"),r.append(""+h)}else switch(u){case 230:return Ue.C40_ENCODE;case 231:return Ue.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Ue.ANSIX12_ENCODE;case 239:return Ue.TEXT_ENCODE;case 240:return Ue.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new H;break}}while(i.available()>0);return Ue.ASCII_ENCODE}static decodeC40Segment(i,r){let a=!1;const c=[];let u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let g=0;g<3;g++){const m=c[g];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[m];a?(r.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):r.append(w)}else throw new H;break;case 1:a?(r.append(String.fromCharCode(m+128)),a=!1):r.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[m];a?(r.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):r.append(w)}else switch(m){case 27:r.append("");break;case 30:a=!0;break;default:throw new H}u=0;break;case 3:a?(r.append(String.fromCharCode(m+224)),a=!1):r.append(String.fromCharCode(m+96)),u=0;break;default:throw new H}}}while(i.available()>0)}static decodeTextSegment(i,r){let a=!1,c=[],u=0;do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),c);for(let g=0;g<3;g++){const m=c[g];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[m];a?(r.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):r.append(w)}else throw new H;break;case 1:a?(r.append(String.fromCharCode(m+128)),a=!1):r.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[m];a?(r.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):r.append(w)}else switch(m){case 27:r.append("");break;case 30:a=!0;break;default:throw new H}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[m];a?(r.append(String.fromCharCode(w.charCodeAt(0)+128)),a=!1):r.append(w),u=0}else throw new H;break;default:throw new H}}}while(i.available()>0)}static decodeAnsiX12Segment(i,r){const a=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),a);for(let u=0;u<3;u++){const h=a[u];switch(h){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(h<14)r.append(String.fromCharCode(h+44));else if(h<40)r.append(String.fromCharCode(h+51));else throw new H;break}}}while(i.available()>0)}static parseTwoBytes(i,r,a){let c=(i<<8)+r-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(i,r){do{if(i.available()<=16)return;for(let a=0;a<4;a++){let c=i.readBits(6);if(c===31){const u=8-i.getBitOffset();u!==8&&i.readBits(u);return}c&32||(c|=64),r.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,r,a){let c=1+i.getByteOffset();const u=this.unrandomize255State(i.readBits(8),c++);let h;if(u===0?h=i.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(i.readBits(8),c++),h<0)throw new H;const g=new Uint8Array(h);for(let m=0;m<h;m++){if(i.available()<8)throw new H;g[m]=this.unrandomize255State(i.readBits(8),c++)}a.push(g);try{r.append(ht.decode(g,Z.ISO88591))}catch(m){throw new et("Platform does not support required encoding: "+m.message)}}static unrandomize255State(i,r){const a=149*r%255+1,c=i-a;return c>=0?c:c+256}}Ni.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ni.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ni.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ni.TEXT_SHIFT2_SET_CHARS=Ni.C40_SHIFT2_SET_CHARS,Ni.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class K1{constructor(){this.rsDecoder=new st(N.DATA_MATRIX_FIELD_256)}decode(i){const r=new el(i),a=r.getVersion(),c=r.readCodewords(),u=nl.getDataBlocks(c,a);let h=0;for(let w of u)h+=w.getNumDataCodewords();const g=new Uint8Array(h),m=u.length;for(let w=0;w<m;w++){const _=u[w],I=_.getCodewords(),v=_.getNumDataCodewords();this.correctErrors(I,v);for(let R=0;R<v;R++)g[R*m+w]=I[R]}return Ni.decode(g)}correctErrors(i,r){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-r)}catch{throw new A}for(let c=0;c<r;c++)i[c]=a[c]}}class ke{constructor(i){this.image=i,this.rectangleDetector=new At(this.image)}detect(){const i=this.rectangleDetector.detect();let r=this.detectSolid1(i);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new X;r=this.shiftToModuleCenter(r);const a=r[0],c=r[1],u=r[2],h=r[3];let g=this.transitionsBetween(a,h)+1,m=this.transitionsBetween(u,h)+1;(g&1)===1&&(g+=1),(m&1)===1&&(m+=1),4*g<7*m&&4*m<7*g&&(g=m=Math.max(g,m));let w=ke.sampleGrid(this.image,a,c,u,h,g,m);return new vt(w,[a,c,u,h])}static shiftPoint(i,r,a){let c=(r.getX()-i.getX())/(a+1),u=(r.getY()-i.getY())/(a+1);return new K(i.getX()+c,i.getY()+u)}static moveAway(i,r,a){let c=i.getX(),u=i.getY();return c<r?c-=1:c+=1,u<a?u-=1:u+=1,new K(c,u)}detectSolid1(i){let r=i[0],a=i[1],c=i[3],u=i[2],h=this.transitionsBetween(r,a),g=this.transitionsBetween(a,c),m=this.transitionsBetween(c,u),w=this.transitionsBetween(u,r),_=h,I=[u,r,a,c];return _>g&&(_=g,I[0]=r,I[1]=a,I[2]=c,I[3]=u),_>m&&(_=m,I[0]=a,I[1]=c,I[2]=u,I[3]=r),_>w&&(I[0]=c,I[1]=u,I[2]=r,I[3]=a),I}detectSolid2(i){let r=i[0],a=i[1],c=i[2],u=i[3],h=this.transitionsBetween(r,u),g=ke.shiftPoint(a,c,(h+1)*4),m=ke.shiftPoint(c,a,(h+1)*4),w=this.transitionsBetween(g,r),_=this.transitionsBetween(m,u);return w<_?(i[0]=r,i[1]=a,i[2]=c,i[3]=u):(i[0]=a,i[1]=c,i[2]=u,i[3]=r),i}correctTopRight(i){let r=i[0],a=i[1],c=i[2],u=i[3],h=this.transitionsBetween(r,u),g=this.transitionsBetween(a,u),m=ke.shiftPoint(r,a,(g+1)*4),w=ke.shiftPoint(c,a,(h+1)*4);h=this.transitionsBetween(m,u),g=this.transitionsBetween(w,u);let _=new K(u.getX()+(c.getX()-a.getX())/(h+1),u.getY()+(c.getY()-a.getY())/(h+1)),I=new K(u.getX()+(r.getX()-a.getX())/(g+1),u.getY()+(r.getY()-a.getY())/(g+1));if(!this.isValid(_))return this.isValid(I)?I:null;if(!this.isValid(I))return _;let v=this.transitionsBetween(m,_)+this.transitionsBetween(w,_),R=this.transitionsBetween(m,I)+this.transitionsBetween(w,I);return v>R?_:I}shiftToModuleCenter(i){let r=i[0],a=i[1],c=i[2],u=i[3],h=this.transitionsBetween(r,u)+1,g=this.transitionsBetween(c,u)+1,m=ke.shiftPoint(r,a,g*4),w=ke.shiftPoint(c,a,h*4);h=this.transitionsBetween(m,u)+1,g=this.transitionsBetween(w,u)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let _=(r.getX()+a.getX()+c.getX()+u.getX())/4,I=(r.getY()+a.getY()+c.getY()+u.getY())/4;r=ke.moveAway(r,_,I),a=ke.moveAway(a,_,I),c=ke.moveAway(c,_,I),u=ke.moveAway(u,_,I);let v,R;return m=ke.shiftPoint(r,a,g*4),m=ke.shiftPoint(m,u,h*4),v=ke.shiftPoint(a,r,g*4),v=ke.shiftPoint(v,c,h*4),w=ke.shiftPoint(c,u,g*4),w=ke.shiftPoint(w,a,h*4),R=ke.shiftPoint(u,c,g*4),R=ke.shiftPoint(R,r,h*4),[m,v,w,R]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,r,a,c,u,h,g){return Wt.getInstance().sampleGrid(i,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,r.getX(),r.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(i,r){let a=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.trunc(r.getX()),h=Math.trunc(r.getY()),g=Math.abs(h-c)>Math.abs(u-a);if(g){let L=a;a=c,c=L,L=u,u=h,h=L}let m=Math.abs(u-a),w=Math.abs(h-c),_=-m/2,I=c<h?1:-1,v=a<u?1:-1,R=0,P=this.image.get(g?c:a,g?a:c);for(let L=a,z=c;L!==u;L+=v){let Q=this.image.get(g?z:L,g?L:z);if(Q!==P&&(R++,P=Q),_+=w,_>0){if(z===h)break;z+=I,_-=m}}return R}}class Mi{constructor(){this.decoder=new K1}decode(i,r=null){let a,c;if(r!=null&&r.has(tt.PURE_BARCODE)){const w=Mi.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(w),c=Mi.NO_POINTS}else{const w=new ke(i.getBlackMatrix()).detect();a=this.decoder.decode(w.getBits()),c=w.getPoints()}const u=a.getRawBytes(),h=new ne(a.getText(),u,8*u.length,c,bt.DATA_MATRIX,O.currentTimeMillis()),g=a.getByteSegments();g!=null&&h.putMetadata(dt.BYTE_SEGMENTS,g);const m=a.getECLevel();return m!=null&&h.putMetadata(dt.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(i){const r=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(r==null||a==null)throw new X;const c=this.moduleSize(r,i);let u=r[1];const h=a[1];let g=r[0];const w=(a[0]-g+1)/c,_=(h-u+1)/c;if(w<=0||_<=0)throw new X;const I=c/2;u+=I,g+=I;const v=new Rt(w,_);for(let R=0;R<_;R++){const P=u+R*c;for(let L=0;L<w;L++)i.get(g+L*c,P)&&v.set(L,R)}return v}static moduleSize(i,r){const a=r.getWidth();let c=i[0];const u=i[1];for(;c<a&&r.get(c,u);)c++;if(c===a)throw new X;const h=c-i[0];if(h===0)throw new X;return h}}Mi.NO_POINTS=[];class Z1 extends Le{constructor(i=500){super(new Mi,i)}}var Ps;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(Ps||(Ps={}));class pe{constructor(i,r,a){this.value=i,this.stringValue=r,this.bits=a,pe.FOR_BITS.set(a,this),pe.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return pe.L;case"M":return pe.M;case"Q":return pe.Q;case"H":return pe.H;default:throw new b(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof pe))return!1;const r=i;return this.value===r.value}static forBits(i){if(i<0||i>=pe.FOR_BITS.size)throw new y;return pe.FOR_BITS.get(i)}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.L=new pe(Ps.L,"L",1),pe.M=new pe(Ps.M,"M",0),pe.Q=new pe(Ps.Q,"Q",3),pe.H=new pe(Ps.H,"H",2);class tn{constructor(i){this.errorCorrectionLevel=pe.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,r){return k.bitCount(i^r)}static decodeFormatInformation(i,r){const a=tn.doDecodeFormatInformation(i,r);return a!==null?a:tn.doDecodeFormatInformation(i^tn.FORMAT_INFO_MASK_QR,r^tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,r){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of tn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===i||h===r)return new tn(u[1]);let g=tn.numBitsDiffering(i,h);g<a&&(c=u[1],a=g),i!==r&&(g=tn.numBitsDiffering(r,h),g<a&&(c=u[1],a=g))}return a<=3?new tn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof tn))return!1;const r=i;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}tn.FORMAT_INFO_MASK_QR=21522,tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(i,...r){this.ecCodewordsPerBlock=i,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const r=this.ecBlocks;for(const a of r)i+=a.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(i,r){this.count=i,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(i,r,...a){this.versionNumber=i,this.alignmentPatternCenters=r,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();for(const g of h)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new H;try{return this.getVersionForNumber((i-17)/4)}catch{throw new H}}static getVersionForNumber(i){if(i<1||i>40)throw new y;return It.VERSIONS[i-1]}static decodeVersionInformation(i){let r=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<It.VERSION_DECODE_INFO.length;c++){const u=It.VERSION_DECODE_INFO[c];if(u===i)return It.getVersionForNumber(c+7);const h=tn.numBitsDiffering(i,u);h<r&&(a=c+7,r=h)}return r<=3?It.getVersionForNumber(a):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),r=new Rt(i);r.setRegion(0,0,9,9),r.setRegion(i-8,0,8,9),r.setRegion(0,i-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<a;h++)c===0&&(h===0||h===a-1)||c===a-1&&h===0||r.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return r.setRegion(6,9,1,i-17),r.setRegion(9,6,i-17,1),this.versionNumber>6&&(r.setRegion(i-11,0,3,6),r.setRegion(0,i-11,6,3)),r}toString(){return""+this.versionNumber}}It.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),It.VERSIONS=[new It(1,new Int32Array(0),new Y(7,new T(1,19)),new Y(10,new T(1,16)),new Y(13,new T(1,13)),new Y(17,new T(1,9))),new It(2,Int32Array.from([6,18]),new Y(10,new T(1,34)),new Y(16,new T(1,28)),new Y(22,new T(1,22)),new Y(28,new T(1,16))),new It(3,Int32Array.from([6,22]),new Y(15,new T(1,55)),new Y(26,new T(1,44)),new Y(18,new T(2,17)),new Y(22,new T(2,13))),new It(4,Int32Array.from([6,26]),new Y(20,new T(1,80)),new Y(18,new T(2,32)),new Y(26,new T(2,24)),new Y(16,new T(4,9))),new It(5,Int32Array.from([6,30]),new Y(26,new T(1,108)),new Y(24,new T(2,43)),new Y(18,new T(2,15),new T(2,16)),new Y(22,new T(2,11),new T(2,12))),new It(6,Int32Array.from([6,34]),new Y(18,new T(2,68)),new Y(16,new T(4,27)),new Y(24,new T(4,19)),new Y(28,new T(4,15))),new It(7,Int32Array.from([6,22,38]),new Y(20,new T(2,78)),new Y(18,new T(4,31)),new Y(18,new T(2,14),new T(4,15)),new Y(26,new T(4,13),new T(1,14))),new It(8,Int32Array.from([6,24,42]),new Y(24,new T(2,97)),new Y(22,new T(2,38),new T(2,39)),new Y(22,new T(4,18),new T(2,19)),new Y(26,new T(4,14),new T(2,15))),new It(9,Int32Array.from([6,26,46]),new Y(30,new T(2,116)),new Y(22,new T(3,36),new T(2,37)),new Y(20,new T(4,16),new T(4,17)),new Y(24,new T(4,12),new T(4,13))),new It(10,Int32Array.from([6,28,50]),new Y(18,new T(2,68),new T(2,69)),new Y(26,new T(4,43),new T(1,44)),new Y(24,new T(6,19),new T(2,20)),new Y(28,new T(6,15),new T(2,16))),new It(11,Int32Array.from([6,30,54]),new Y(20,new T(4,81)),new Y(30,new T(1,50),new T(4,51)),new Y(28,new T(4,22),new T(4,23)),new Y(24,new T(3,12),new T(8,13))),new It(12,Int32Array.from([6,32,58]),new Y(24,new T(2,92),new T(2,93)),new Y(22,new T(6,36),new T(2,37)),new Y(26,new T(4,20),new T(6,21)),new Y(28,new T(7,14),new T(4,15))),new It(13,Int32Array.from([6,34,62]),new Y(26,new T(4,107)),new Y(22,new T(8,37),new T(1,38)),new Y(24,new T(8,20),new T(4,21)),new Y(22,new T(12,11),new T(4,12))),new It(14,Int32Array.from([6,26,46,66]),new Y(30,new T(3,115),new T(1,116)),new Y(24,new T(4,40),new T(5,41)),new Y(20,new T(11,16),new T(5,17)),new Y(24,new T(11,12),new T(5,13))),new It(15,Int32Array.from([6,26,48,70]),new Y(22,new T(5,87),new T(1,88)),new Y(24,new T(5,41),new T(5,42)),new Y(30,new T(5,24),new T(7,25)),new Y(24,new T(11,12),new T(7,13))),new It(16,Int32Array.from([6,26,50,74]),new Y(24,new T(5,98),new T(1,99)),new Y(28,new T(7,45),new T(3,46)),new Y(24,new T(15,19),new T(2,20)),new Y(30,new T(3,15),new T(13,16))),new It(17,Int32Array.from([6,30,54,78]),new Y(28,new T(1,107),new T(5,108)),new Y(28,new T(10,46),new T(1,47)),new Y(28,new T(1,22),new T(15,23)),new Y(28,new T(2,14),new T(17,15))),new It(18,Int32Array.from([6,30,56,82]),new Y(30,new T(5,120),new T(1,121)),new Y(26,new T(9,43),new T(4,44)),new Y(28,new T(17,22),new T(1,23)),new Y(28,new T(2,14),new T(19,15))),new It(19,Int32Array.from([6,30,58,86]),new Y(28,new T(3,113),new T(4,114)),new Y(26,new T(3,44),new T(11,45)),new Y(26,new T(17,21),new T(4,22)),new Y(26,new T(9,13),new T(16,14))),new It(20,Int32Array.from([6,34,62,90]),new Y(28,new T(3,107),new T(5,108)),new Y(26,new T(3,41),new T(13,42)),new Y(30,new T(15,24),new T(5,25)),new Y(28,new T(15,15),new T(10,16))),new It(21,Int32Array.from([6,28,50,72,94]),new Y(28,new T(4,116),new T(4,117)),new Y(26,new T(17,42)),new Y(28,new T(17,22),new T(6,23)),new Y(30,new T(19,16),new T(6,17))),new It(22,Int32Array.from([6,26,50,74,98]),new Y(28,new T(2,111),new T(7,112)),new Y(28,new T(17,46)),new Y(30,new T(7,24),new T(16,25)),new Y(24,new T(34,13))),new It(23,Int32Array.from([6,30,54,78,102]),new Y(30,new T(4,121),new T(5,122)),new Y(28,new T(4,47),new T(14,48)),new Y(30,new T(11,24),new T(14,25)),new Y(30,new T(16,15),new T(14,16))),new It(24,Int32Array.from([6,28,54,80,106]),new Y(30,new T(6,117),new T(4,118)),new Y(28,new T(6,45),new T(14,46)),new Y(30,new T(11,24),new T(16,25)),new Y(30,new T(30,16),new T(2,17))),new It(25,Int32Array.from([6,32,58,84,110]),new Y(26,new T(8,106),new T(4,107)),new Y(28,new T(8,47),new T(13,48)),new Y(30,new T(7,24),new T(22,25)),new Y(30,new T(22,15),new T(13,16))),new It(26,Int32Array.from([6,30,58,86,114]),new Y(28,new T(10,114),new T(2,115)),new Y(28,new T(19,46),new T(4,47)),new Y(28,new T(28,22),new T(6,23)),new Y(30,new T(33,16),new T(4,17))),new It(27,Int32Array.from([6,34,62,90,118]),new Y(30,new T(8,122),new T(4,123)),new Y(28,new T(22,45),new T(3,46)),new Y(30,new T(8,23),new T(26,24)),new Y(30,new T(12,15),new T(28,16))),new It(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new T(3,117),new T(10,118)),new Y(28,new T(3,45),new T(23,46)),new Y(30,new T(4,24),new T(31,25)),new Y(30,new T(11,15),new T(31,16))),new It(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new T(7,116),new T(7,117)),new Y(28,new T(21,45),new T(7,46)),new Y(30,new T(1,23),new T(37,24)),new Y(30,new T(19,15),new T(26,16))),new It(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new T(5,115),new T(10,116)),new Y(28,new T(19,47),new T(10,48)),new Y(30,new T(15,24),new T(25,25)),new Y(30,new T(23,15),new T(25,16))),new It(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new T(13,115),new T(3,116)),new Y(28,new T(2,46),new T(29,47)),new Y(30,new T(42,24),new T(1,25)),new Y(30,new T(23,15),new T(28,16))),new It(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new T(17,115)),new Y(28,new T(10,46),new T(23,47)),new Y(30,new T(10,24),new T(35,25)),new Y(30,new T(19,15),new T(35,16))),new It(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new T(17,115),new T(1,116)),new Y(28,new T(14,46),new T(21,47)),new Y(30,new T(29,24),new T(19,25)),new Y(30,new T(11,15),new T(46,16))),new It(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new T(13,115),new T(6,116)),new Y(28,new T(14,46),new T(23,47)),new Y(30,new T(44,24),new T(7,25)),new Y(30,new T(59,16),new T(1,17))),new It(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new T(12,121),new T(7,122)),new Y(28,new T(12,47),new T(26,48)),new Y(30,new T(39,24),new T(14,25)),new Y(30,new T(22,15),new T(41,16))),new It(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new T(6,121),new T(14,122)),new Y(28,new T(6,47),new T(34,48)),new Y(30,new T(46,24),new T(10,25)),new Y(30,new T(2,15),new T(64,16))),new It(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new T(17,122),new T(4,123)),new Y(28,new T(29,46),new T(14,47)),new Y(30,new T(49,24),new T(10,25)),new Y(30,new T(24,15),new T(46,16))),new It(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new T(4,122),new T(18,123)),new Y(28,new T(13,46),new T(32,47)),new Y(30,new T(48,24),new T(14,25)),new Y(30,new T(42,15),new T(32,16))),new It(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new T(20,117),new T(4,118)),new Y(28,new T(40,47),new T(7,48)),new Y(30,new T(43,24),new T(22,25)),new Y(30,new T(10,15),new T(67,16))),new It(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new T(19,118),new T(6,119)),new Y(28,new T(18,47),new T(31,48)),new Y(30,new T(34,24),new T(34,25)),new Y(30,new T(20,15),new T(61,16)))];var Ge;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(Ge||(Ge={}));class Rn{constructor(i,r){this.value=i,this.isMasked=r}unmaskBitMatrix(i,r){for(let a=0;a<r;a++)for(let c=0;c<r;c++)this.isMasked(a,c)&&i.flip(c,a)}}Rn.values=new Map([[Ge.DATA_MASK_000,new Rn(Ge.DATA_MASK_000,(E,i)=>(E+i&1)===0)],[Ge.DATA_MASK_001,new Rn(Ge.DATA_MASK_001,(E,i)=>(E&1)===0)],[Ge.DATA_MASK_010,new Rn(Ge.DATA_MASK_010,(E,i)=>i%3===0)],[Ge.DATA_MASK_011,new Rn(Ge.DATA_MASK_011,(E,i)=>(E+i)%3===0)],[Ge.DATA_MASK_100,new Rn(Ge.DATA_MASK_100,(E,i)=>(Math.floor(E/2)+Math.floor(i/3)&1)===0)],[Ge.DATA_MASK_101,new Rn(Ge.DATA_MASK_101,(E,i)=>E*i%6===0)],[Ge.DATA_MASK_110,new Rn(Ge.DATA_MASK_110,(E,i)=>E*i%6<3)],[Ge.DATA_MASK_111,new Rn(Ge.DATA_MASK_111,(E,i)=>(E+i+E*i%3&1)===0)]]);class q1{constructor(i){const r=i.getHeight();if(r<21||(r&3)!==1)throw new H;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);const r=this.bitMatrix.getHeight();let a=0;const c=r-7;for(let u=r-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=r-8;u<r;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=tn.decodeFormatInformation(i,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),r=Math.floor((i-17)/4);if(r<=6)return It.getVersionForNumber(r);let a=0;const c=i-11;for(let h=5;h>=0;h--)for(let g=i-9;g>=c;g--)a=this.copyBit(g,h,a);let u=It.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;a=0;for(let h=5;h>=0;h--)for(let g=i-9;g>=c;g--)a=this.copyBit(h,g,a);if(u=It.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new H}copyBit(i,r,a){return(this.isMirror?this.bitMatrix.get(r,i):this.bitMatrix.get(i,r))?a<<1|1:a<<1}readCodewords(){const i=this.readFormatInformation(),r=this.readVersion(),a=Rn.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=r.buildFunctionPattern();let h=!0;const g=new Uint8Array(r.getTotalCodewords());let m=0,w=0,_=0;for(let I=c-1;I>0;I-=2){I===6&&I--;for(let v=0;v<c;v++){const R=h?c-1-v:v;for(let P=0;P<2;P++)u.get(I-P,R)||(_++,w<<=1,this.bitMatrix.get(I-P,R)&&(w|=1),_===8&&(g[m++]=w,_=0,w=0))}h=!h}if(m!==r.getTotalCodewords())throw new H;return g}remask(){if(this.parsedFormatInfo===null)return;const i=Rn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,r)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let r=0,a=i.getWidth();r<a;r++)for(let c=r+1,u=i.getHeight();c<u;c++)i.get(r,c)!==i.get(c,r)&&(i.flip(c,r),i.flip(r,c))}}class sl{constructor(i,r){this.numDataCodewords=i,this.codewords=r}static getDataBlocks(i,r,a){if(i.length!==r.getTotalCodewords())throw new y;const c=r.getECBlocksForLevel(a);let u=0;const h=c.getECBlocks();for(const P of h)u+=P.getCount();const g=new Array(u);let m=0;for(const P of h)for(let L=0;L<P.getCount();L++){const z=P.getDataCodewords(),Q=c.getECCodewordsPerBlock()+z;g[m++]=new sl(z,new Uint8Array(Q))}const w=g[0].codewords.length;let _=g.length-1;for(;_>=0&&g[_].codewords.length!==w;)_--;_++;const I=w-c.getECCodewordsPerBlock();let v=0;for(let P=0;P<I;P++)for(let L=0;L<m;L++)g[L].codewords[P]=i[v++];for(let P=_;P<m;P++)g[P].codewords[I]=i[v++];const R=g[0].codewords.length;for(let P=I;P<R;P++)for(let L=0;L<m;L++){const z=L<_?P:P+1;g[L].codewords[z]=i[v++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Nn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(Nn||(Nn={}));class St{constructor(i,r,a,c){this.value=i,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=c,St.FOR_BITS.set(c,this),St.FOR_VALUE.set(i,this)}static forBits(i){const r=St.FOR_BITS.get(i);if(r===void 0)throw new y;return r}getCharacterCountBits(i){const r=i.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof St))return!1;const r=i;return this.value===r.value}toString(){return this.stringValue}}St.FOR_BITS=new Map,St.FOR_VALUE=new Map,St.TERMINATOR=new St(Nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),St.NUMERIC=new St(Nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),St.ALPHANUMERIC=new St(Nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),St.STRUCTURED_APPEND=new St(Nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),St.BYTE=new St(Nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),St.ECI=new St(Nn.ECI,"ECI",Int32Array.from([0,0,0]),7),St.KANJI=new St(Nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),St.FNC1_FIRST_POSITION=new St(Nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),St.FNC1_SECOND_POSITION=new St(Nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),St.HANZI=new St(Nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Se{static decode(i,r,a,c){const u=new il(i);let h=new xt;const g=new Array;let m=-1,w=-1;try{let _=null,I=!1,v;do{if(u.available()<4)v=St.TERMINATOR;else{const R=u.readBits(4);v=St.forBits(R)}switch(v){case St.TERMINATOR:break;case St.FNC1_FIRST_POSITION:case St.FNC1_SECOND_POSITION:I=!0;break;case St.STRUCTURED_APPEND:if(u.available()<16)throw new H;m=u.readBits(8),w=u.readBits(8);break;case St.ECI:const R=Se.parseECIValue(u);if(_=F.getCharacterSetECIByValue(R),_===null)throw new H;break;case St.HANZI:const P=u.readBits(4),L=u.readBits(v.getCharacterCountBits(r));P===Se.GB2312_SUBSET&&Se.decodeHanziSegment(u,h,L);break;default:const z=u.readBits(v.getCharacterCountBits(r));switch(v){case St.NUMERIC:Se.decodeNumericSegment(u,h,z);break;case St.ALPHANUMERIC:Se.decodeAlphanumericSegment(u,h,z,I);break;case St.BYTE:Se.decodeByteSegment(u,h,z,_,g,c);break;case St.KANJI:Se.decodeKanjiSegment(u,h,z);break;default:throw new H}break}}while(v!==St.TERMINATOR)}catch{throw new H}return new mt(i,h.toString(),g.length===0?null:g,a===null?null:a.toString(),m,w)}static decodeHanziSegment(i,r,a){if(a*13>i.available())throw new H;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const h=i.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,c[u]=g>>8&255,c[u+1]=g&255,u+=2,a--}try{r.append(ht.decode(c,Z.GB2312))}catch(h){throw new H(h)}}static decodeKanjiSegment(i,r,a){if(a*13>i.available())throw new H;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const h=i.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,c[u]=g>>8,c[u+1]=g,u+=2,a--}try{r.append(ht.decode(c,Z.SHIFT_JIS))}catch(h){throw new H(h)}}static decodeByteSegment(i,r,a,c,u,h){if(8*a>i.available())throw new H;const g=new Uint8Array(a);for(let w=0;w<a;w++)g[w]=i.readBits(8);let m;c===null?m=Z.guessEncoding(g,h):m=c.getName();try{r.append(ht.decode(g,m))}catch(w){throw new H(w)}u.push(g)}static toAlphaNumericChar(i){if(i>=Se.ALPHANUMERIC_CHARS.length)throw new H;return Se.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,r,a,c){const u=r.length();for(;a>1;){if(i.available()<11)throw new H;const h=i.readBits(11);r.append(Se.toAlphaNumericChar(Math.floor(h/45))),r.append(Se.toAlphaNumericChar(h%45)),a-=2}if(a===1){if(i.available()<6)throw new H;r.append(Se.toAlphaNumericChar(i.readBits(6)))}if(c)for(let h=u;h<r.length();h++)r.charAt(h)==="%"&&(h<r.length()-1&&r.charAt(h+1)==="%"?r.deleteCharAt(h+1):r.setCharAt(h,""))}static decodeNumericSegment(i,r,a){for(;a>=3;){if(i.available()<10)throw new H;const c=i.readBits(10);if(c>=1e3)throw new H;r.append(Se.toAlphaNumericChar(Math.floor(c/100))),r.append(Se.toAlphaNumericChar(Math.floor(c/10)%10)),r.append(Se.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(i.available()<7)throw new H;const c=i.readBits(7);if(c>=100)throw new H;r.append(Se.toAlphaNumericChar(Math.floor(c/10))),r.append(Se.toAlphaNumericChar(c%10))}else if(a===1){if(i.available()<4)throw new H;const c=i.readBits(4);if(c>=10)throw new H;r.append(Se.toAlphaNumericChar(c))}}static parseECIValue(i){const r=i.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const a=i.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=i.readBits(16);return(r&31)<<16&4294967295|a}throw new H}}Se.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Se.GB2312_SUBSET=1;class ou{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const r=i[0];i[0]=i[2],i[2]=r}}class Q1{constructor(){this.rsDecoder=new st(N.QR_CODE_FIELD_256)}decodeBooleanArray(i,r){return this.decodeBitMatrix(Rt.parseFromBooleanArray(i),r)}decodeBitMatrix(i,r){const a=new q1(i);let c=null;try{return this.decodeBitMatrixParser(a,r)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,r);return u.setOther(new ou(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(i,r){const a=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),h=sl.getDataBlocks(u,a,c);let g=0;for(const _ of h)g+=_.getNumDataCodewords();const m=new Uint8Array(g);let w=0;for(const _ of h){const I=_.getCodewords(),v=_.getNumDataCodewords();this.correctErrors(I,v);for(let R=0;R<v;R++)m[w++]=I[R]}return Se.decode(m,a,c,r)}correctErrors(i,r){const a=new Int32Array(i);try{this.rsDecoder.decode(a,i.length-r)}catch{throw new A}for(let c=0;c<r;c++)i[c]=a[c]}}class rl extends K{constructor(i,r,a){super(i,r),this.estimatedModuleSize=a}aboutEquals(i,r,a){if(Math.abs(r-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,r,a){const c=(this.getX()+r)/2,u=(this.getY()+i)/2,h=(this.estimatedModuleSize+a)/2;return new rl(c,u,h)}}class Ao{constructor(i,r,a,c,u,h,g){this.image=i,this.startX=r,this.startY=a,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,r=this.height,a=this.width,c=i+a,u=this.startY+r/2,h=new Int32Array(3),g=this.image;for(let m=0;m<r;m++){const w=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let _=i;for(;_<c&&!g.get(_,w);)_++;let I=0;for(;_<c;){if(g.get(_,w))if(I===1)h[1]++;else if(I===2){if(this.foundPatternCross(h)){const v=this.handlePossibleCenter(h,w,_);if(v!==null)return v}h[0]=h[2],h[1]=1,h[2]=0,I=1}else h[++I]++;else I===1&&I++,h[I]++;_++}if(this.foundPatternCross(h)){const v=this.handlePossibleCenter(h,w,c);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(i,r){return r-i[2]-i[1]/2}foundPatternCross(i){const r=this.moduleSize,a=r/2;for(let c=0;c<3;c++)if(Math.abs(r-i[c])>=a)return!1;return!0}crossCheckVertical(i,r,a,c){const u=this.image,h=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let m=i;for(;m>=0&&u.get(r,m)&&g[1]<=a;)g[1]++,m--;if(m<0||g[1]>a)return NaN;for(;m>=0&&!u.get(r,m)&&g[0]<=a;)g[0]++,m--;if(g[0]>a)return NaN;for(m=i+1;m<h&&u.get(r,m)&&g[1]<=a;)g[1]++,m++;if(m===h||g[1]>a)return NaN;for(;m<h&&!u.get(r,m)&&g[2]<=a;)g[2]++,m++;if(g[2]>a)return NaN;const w=g[0]+g[1]+g[2];return 5*Math.abs(w-c)>=2*c?NaN:this.foundPatternCross(g)?Ao.centerFromEnd(g,m):NaN}handlePossibleCenter(i,r,a){const c=i[0]+i[1]+i[2],u=Ao.centerFromEnd(i,a),h=this.crossCheckVertical(r,u,2*i[1],c);if(!isNaN(h)){const g=(i[0]+i[1]+i[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(g,h,u))return w.combineEstimate(h,u,g);const m=new rl(u,h,g);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class ol extends K{constructor(i,r,a,c){super(i,r),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,r,a){if(Math.abs(r-this.getY())<=i&&Math.abs(a-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,r,a){const c=this.count+1,u=(this.count*this.getX()+r)/c,h=(this.count*this.getY()+i)/c,g=(this.count*this.estimatedModuleSize+a)/c;return new ol(u,h,g,c)}}class J1{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ze{constructor(i,r){this.image=i,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const r=i!=null&&i.get(tt.TRY_HARDER)!==void 0,a=i!=null&&i.get(tt.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let g=Math.floor(3*u/(4*ze.MAX_MODULES));(g<ze.MIN_SKIP||r)&&(g=ze.MIN_SKIP);let m=!1;const w=new Int32Array(5);for(let I=g-1;I<u&&!m;I+=g){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let v=0;for(let R=0;R<h;R++)if(c.get(R,I))(v&1)===1&&v++,w[v]++;else if(v&1)w[v]++;else if(v===4)if(ze.foundPatternCross(w)){if(this.handlePossibleCenter(w,I,R,a)===!0)if(g=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>w[2]&&(I+=L-w[2]-g,R=h-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,v=3;continue}v=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,v=3;else w[++v]++;ze.foundPatternCross(w)&&this.handlePossibleCenter(w,I,h,a)===!0&&(g=w[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return K.orderBestPatterns(_),new J1(_)}static centerFromEnd(i,r){return r-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let r=0;for(let u=0;u<5;u++){const h=i[u];if(h===0)return!1;r+=h}if(r<7)return!1;const a=r/7,c=a/2;return Math.abs(a-i[0])<c&&Math.abs(a-i[1])<c&&Math.abs(3*a-i[2])<3*c&&Math.abs(a-i[3])<c&&Math.abs(a-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,r,a,c){const u=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;i>=h&&r>=h&&g.get(r-h,i-h);)u[2]++,h++;if(i<h||r<h)return!1;for(;i>=h&&r>=h&&!g.get(r-h,i-h)&&u[1]<=a;)u[1]++,h++;if(i<h||r<h||u[1]>a)return!1;for(;i>=h&&r>=h&&g.get(r-h,i-h)&&u[0]<=a;)u[0]++,h++;if(u[0]>a)return!1;const m=g.getHeight(),w=g.getWidth();for(h=1;i+h<m&&r+h<w&&g.get(r+h,i+h);)u[2]++,h++;if(i+h>=m||r+h>=w)return!1;for(;i+h<m&&r+h<w&&!g.get(r+h,i+h)&&u[3]<a;)u[3]++,h++;if(i+h>=m||r+h>=w||u[3]>=a)return!1;for(;i+h<m&&r+h<w&&g.get(r+h,i+h)&&u[4]<a;)u[4]++,h++;if(u[4]>=a)return!1;const _=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(_-c)<2*c&&ze.foundPatternCross(u)}crossCheckVertical(i,r,a,c){const u=this.image,h=u.getHeight(),g=this.getCrossCheckStateCount();let m=i;for(;m>=0&&u.get(r,m);)g[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(r,m)&&g[1]<=a;)g[1]++,m--;if(m<0||g[1]>a)return NaN;for(;m>=0&&u.get(r,m)&&g[0]<=a;)g[0]++,m--;if(g[0]>a)return NaN;for(m=i+1;m<h&&u.get(r,m);)g[2]++,m++;if(m===h)return NaN;for(;m<h&&!u.get(r,m)&&g[3]<a;)g[3]++,m++;if(m===h||g[3]>=a)return NaN;for(;m<h&&u.get(r,m)&&g[4]<a;)g[4]++,m++;if(g[4]>=a)return NaN;const w=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(w-c)>=2*c?NaN:ze.foundPatternCross(g)?ze.centerFromEnd(g,m):NaN}crossCheckHorizontal(i,r,a,c){const u=this.image,h=u.getWidth(),g=this.getCrossCheckStateCount();let m=i;for(;m>=0&&u.get(m,r);)g[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,r)&&g[1]<=a;)g[1]++,m--;if(m<0||g[1]>a)return NaN;for(;m>=0&&u.get(m,r)&&g[0]<=a;)g[0]++,m--;if(g[0]>a)return NaN;for(m=i+1;m<h&&u.get(m,r);)g[2]++,m++;if(m===h)return NaN;for(;m<h&&!u.get(m,r)&&g[3]<a;)g[3]++,m++;if(m===h||g[3]>=a)return NaN;for(;m<h&&u.get(m,r)&&g[4]<a;)g[4]++,m++;if(g[4]>=a)return NaN;const w=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(w-c)>=c?NaN:ze.foundPatternCross(g)?ze.centerFromEnd(g,m):NaN}handlePossibleCenter(i,r,a,c){const u=i[0]+i[1]+i[2]+i[3]+i[4];let h=ze.centerFromEnd(i,a),g=this.crossCheckVertical(r,Math.floor(h),i[2],u);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),i[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),i[2],u)))){const m=u/7;let w=!1;const _=this.possibleCenters;for(let I=0,v=_.length;I<v;I++){const R=_[I];if(R.aboutEquals(m,g,h)){_[I]=R.combineEstimate(g,h,m),w=!0;break}}if(!w){const I=new ol(h,g,m);_.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=ze.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,r=0;const a=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=ze.CENTER_QUORUM&&(i++,r+=h.getEstimatedModuleSize());if(i<3)return!1;const c=r/a;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*r}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new X;const r=this.possibleCenters;let a;if(i>3){let c=0,u=0;for(const m of this.possibleCenters){const w=m.getEstimatedModuleSize();c+=w,u+=w*w}a=c/i;let h=Math.sqrt(u/i-a*a);r.sort((m,w)=>{const _=Math.abs(w.getEstimatedModuleSize()-a),I=Math.abs(m.getEstimatedModuleSize()-a);return _<I?-1:_>I?1:0});const g=Math.max(.2*a,h);for(let m=0;m<r.length&&r.length>3;m++){const w=r[m];Math.abs(w.getEstimatedModuleSize()-a)>g&&(r.splice(m,1),m--)}}if(r.length>3){let c=0;for(const u of r)c+=u.getEstimatedModuleSize();a=c/r.length,r.sort((u,h)=>{if(h.getCount()===u.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-a),m=Math.abs(u.getEstimatedModuleSize()-a);return g<m?1:g>m?-1:0}else return h.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}ze.CENTER_QUORUM=2,ze.MIN_SKIP=3,ze.MAX_MODULES=57;class cr{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(tt.NEED_RESULT_POINT_CALLBACK);const a=new ze(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(a)}processFinderPatternInfo(i){const r=i.getTopLeft(),a=i.getTopRight(),c=i.getBottomLeft(),u=this.calculateModuleSize(r,a,c);if(u<1)throw new X("No pattern found in proccess finder.");const h=cr.computeDimension(r,a,c,u),g=It.getProvisionalVersionForDimension(h),m=g.getDimensionForVersion()-7;let w=null;if(g.getAlignmentPatternCenters().length>0){const R=a.getX()-r.getX()+c.getX(),P=a.getY()-r.getY()+c.getY(),L=1-3/m,z=Math.floor(r.getX()+L*(R-r.getX())),Q=Math.floor(r.getY()+L*(P-r.getY()));for(let ct=4;ct<=16;ct<<=1)try{w=this.findAlignmentInRegion(u,z,Q,ct);break}catch(ut){if(!(ut instanceof X))throw ut}}const _=cr.createTransform(r,a,c,w,h),I=cr.sampleGrid(this.image,_,h);let v;return w===null?v=[c,r,a]:v=[c,r,a,w],new vt(I,v)}static createTransform(i,r,a,c,u){const h=u-3.5;let g,m,w,_;return c!==null?(g=c.getX(),m=c.getY(),w=h-3,_=w):(g=r.getX()-i.getX()+a.getX(),m=r.getY()-i.getY()+a.getY(),w=h,_=h),Pt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,w,_,3.5,h,i.getX(),i.getY(),r.getX(),r.getY(),g,m,a.getX(),a.getY())}static sampleGrid(i,r,a){return Wt.getInstance().sampleGridWithTransform(i,a,a,r)}static computeDimension(i,r,a,c){const u=it.round(K.distance(i,r)/c),h=it.round(K.distance(i,a)/c);let g=Math.floor((u+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new X("Dimensions could be not found.")}return g}calculateModuleSize(i,r,a){return(this.calculateModuleSizeOneWay(i,r)+this.calculateModuleSizeOneWay(i,a))/2}calculateModuleSizeOneWay(i,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,r,a,c){let u=this.sizeOfBlackWhiteBlackRun(i,r,a,c),h=1,g=i-(a-i);g<0?(h=i/(i-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-i)/(g-i),g=this.image.getWidth()-1);let m=Math.floor(r-(c-r)*h);return h=1,m<0?(h=r/(r-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-r)/(m-r),m=this.image.getHeight()-1),g=Math.floor(i+(g-i)*h),u+=this.sizeOfBlackWhiteBlackRun(i,r,g,m),u-1}sizeOfBlackWhiteBlackRun(i,r,a,c){const u=Math.abs(c-r)>Math.abs(a-i);if(u){let R=i;i=r,r=R,R=a,a=c,c=R}const h=Math.abs(a-i),g=Math.abs(c-r);let m=-h/2;const w=i<a?1:-1,_=r<c?1:-1;let I=0;const v=a+w;for(let R=i,P=r;R!==v;R+=w){const L=u?P:R,z=u?R:P;if(I===1===this.image.get(L,z)){if(I===2)return it.distance(R,P,i,r);I++}if(m+=g,m>0){if(P===c)break;P+=_,m-=h}}return I===2?it.distance(a+w,c,i,r):NaN}findAlignmentInRegion(i,r,a,c){const u=Math.floor(c*i),h=Math.max(0,r-u),g=Math.min(this.image.getWidth()-1,r+u);if(g-h<i*3)throw new X("Alignment top exceeds estimated module size.");const m=Math.max(0,a-u),w=Math.min(this.image.getHeight()-1,a+u);if(w-m<i*3)throw new X("Alignment bottom exceeds estimated module size.");return new Ao(this.image,h,m,g-h,w-m,i,this.resultPointCallback).find()}}class Di{constructor(){this.decoder=new Q1}getDecoder(){return this.decoder}decode(i,r){let a,c;if(r!=null&&r.get(tt.PURE_BARCODE)!==void 0){const m=Di.extractPureBits(i.getBlackMatrix());a=this.decoder.decodeBitMatrix(m,r),c=Di.NO_POINTS}else{const m=new cr(i.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(m.getBits(),r),c=m.getPoints()}a.getOther()instanceof ou&&a.getOther().applyMirroredCorrection(c);const u=new ne(a.getText(),a.getRawBytes(),void 0,c,bt.QR_CODE,void 0),h=a.getByteSegments();h!==null&&u.putMetadata(dt.BYTE_SEGMENTS,h);const g=a.getECLevel();return g!==null&&u.putMetadata(dt.ERROR_CORRECTION_LEVEL,g),a.hasStructuredAppend()&&(u.putMetadata(dt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(dt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){const r=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(r===null||a===null)throw new X;const c=this.moduleSize(r,i);let u=r[1],h=a[1],g=r[0],m=a[0];if(g>=m||u>=h)throw new X;if(h-u!==m-g&&(m=g+(h-u),m>=i.getWidth()))throw new X;const w=Math.round((m-g+1)/c),_=Math.round((h-u+1)/c);if(w<=0||_<=0)throw new X;if(_!==w)throw new X;const I=Math.floor(c/2);u+=I,g+=I;const v=g+Math.floor((w-1)*c)-m;if(v>0){if(v>I)throw new X;g-=v}const R=u+Math.floor((_-1)*c)-h;if(R>0){if(R>I)throw new X;u-=R}const P=new Rt(w,_);for(let L=0;L<_;L++){const z=u+Math.floor(L*c);for(let Q=0;Q<w;Q++)i.get(g+Math.floor(Q*c),z)&&P.set(Q,L)}return P}static moduleSize(i,r){const a=r.getHeight(),c=r.getWidth();let u=i[0],h=i[1],g=!0,m=0;for(;u<c&&h<a;){if(g!==r.get(u,h)){if(++m===5)break;g=!g}u++,h++}if(u===c||h===a)throw new X;return(u-i[0])/7}}Di.NO_POINTS=new Array;class Dt{PDF417Common(){}static getBitCountSum(i){return it.sum(i)}static toIntArray(i){if(i==null||!i.length)return Dt.EMPTY_INT_ARRAY;const r=new Int32Array(i.length);let a=0;for(const c of i)r[a++]=c;return r}static getCodeword(i){const r=V.binarySearch(Dt.SYMBOL_TABLE,i&262143);return r<0?-1:(Dt.CODEWORD_TABLE[r]-1)%Dt.NUMBER_OF_CODEWORDS}}Dt.NUMBER_OF_CODEWORDS=929,Dt.MAX_CODEWORDS_IN_BARCODE=Dt.NUMBER_OF_CODEWORDS-1,Dt.MIN_ROWS_IN_BARCODE=3,Dt.MAX_ROWS_IN_BARCODE=90,Dt.MODULES_IN_CODEWORD=17,Dt.MODULES_IN_STOP_PATTERN=18,Dt.BARS_IN_MODULE=8,Dt.EMPTY_INT_ARRAY=new Int32Array([]),Dt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Dt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class $1{constructor(i,r){this.bits=i,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ut{static detectMultiple(i,r,a){let c=i.getBlackMatrix(),u=Ut.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=Ut.detect(a,c)),new $1(c,u)}static detect(i,r){const a=new Array;let c=0,u=0,h=!1;for(;c<r.getHeight();){const g=Ut.findVertices(r,c,u);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,u=0;for(const m of a)m[1]!=null&&(c=Math.trunc(Math.max(c,m[1].getY()))),m[3]!=null&&(c=Math.max(c,Math.trunc(m[3].getY())));c+=Ut.ROW_STEP;continue}if(h=!0,a.push(g),!i)break;g[2]!=null?(u=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return a}static findVertices(i,r,a){const c=i.getHeight(),u=i.getWidth(),h=new Array(8);return Ut.copyToResult(h,Ut.findRowsWithPattern(i,c,u,r,a,Ut.START_PATTERN),Ut.INDEXES_START_PATTERN),h[4]!=null&&(a=Math.trunc(h[4].getX()),r=Math.trunc(h[4].getY())),Ut.copyToResult(h,Ut.findRowsWithPattern(i,c,u,r,a,Ut.STOP_PATTERN),Ut.INDEXES_STOP_PATTERN),h}static copyToResult(i,r,a){for(let c=0;c<a.length;c++)i[a[c]]=r[c]}static findRowsWithPattern(i,r,a,c,u,h){const g=new Array(4);let m=!1;const w=new Int32Array(h.length);for(;c<r;c+=Ut.ROW_STEP){let I=Ut.findGuardPattern(i,u,c,a,!1,h,w);if(I!=null){for(;c>0;){const v=Ut.findGuardPattern(i,u,--c,a,!1,h,w);if(v!=null)I=v;else{c++;break}}g[0]=new K(I[0],c),g[1]=new K(I[1],c),m=!0;break}}let _=c+1;if(m){let I=0,v=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;_<r;_++){const R=Ut.findGuardPattern(i,v[0],_,a,!1,h,w);if(R!=null&&Math.abs(v[0]-R[0])<Ut.MAX_PATTERN_DRIFT&&Math.abs(v[1]-R[1])<Ut.MAX_PATTERN_DRIFT)v=R,I=0;else{if(I>Ut.SKIPPED_ROW_COUNT_MAX)break;I++}}_-=I+1,g[2]=new K(v[0],_),g[3]=new K(v[1],_)}return _-c<Ut.BARCODE_MIN_HEIGHT&&V.fill(g,null),g}static findGuardPattern(i,r,a,c,u,h,g){V.fillWithin(g,0,g.length,0);let m=r,w=0;for(;i.get(m,a)&&m>0&&w++<Ut.MAX_PIXEL_DRIFT;)m--;let _=m,I=0,v=h.length;for(let R=u;_<c;_++)if(i.get(_,a)!==R)g[I]++;else{if(I===v-1){if(Ut.patternMatchVariance(g,h,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return new Int32Array([m,_]);m+=g[0]+g[1],O.arraycopy(g,2,g,0,I-1),g[I-1]=0,g[I]=0,I--}else I++;g[I]=1,R=!R}return I===v-1&&Ut.patternMatchVariance(g,h,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE?new Int32Array([m,_-1]):null}static patternMatchVariance(i,r,a){let c=i.length,u=0,h=0;for(let w=0;w<c;w++)u+=i[w],h+=r[w];if(u<h)return 1/0;let g=u/h;a*=g;let m=0;for(let w=0;w<c;w++){let _=i[w],I=r[w]*g,v=_>I?_-I:I-_;if(v>a)return 1/0;m+=v}return m/u}}Ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ut.MAX_AVG_VARIANCE=.42,Ut.MAX_INDIVIDUAL_VARIANCE=.8,Ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ut.MAX_PIXEL_DRIFT=3,Ut.MAX_PATTERN_DRIFT=5,Ut.SKIPPED_ROW_COUNT_MAX=25,Ut.ROW_STEP=5,Ut.BARCODE_MIN_HEIGHT=10;class qe{constructor(i,r){if(r.length===0)throw new y;this.field=i;let a=r.length;if(a>1&&r[0]===0){let c=1;for(;c<a&&r[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),O.arraycopy(r,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let r=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)r=this.field.add(this.field.multiply(i,r),this.coefficients[c]);return r}add(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let r=this.coefficients,a=i.coefficients;if(r.length>a.length){let h=r;r=a,a=h}let c=new Int32Array(a.length),u=a.length-r.length;O.arraycopy(a,0,c,0,u);for(let h=u;h<a.length;h++)c[h]=this.field.add(r[h-u],a[h]);return new qe(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof qe?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new qe(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,c=i.coefficients,u=c.length,h=new Int32Array(a+u-1);for(let g=0;g<a;g++){let m=r[g];for(let w=0;w<u;w++)h[g+w]=this.field.add(h[g+w],this.field.multiply(m,c[w]))}return new qe(this.field,h)}negative(){let i=this.coefficients.length,r=new Int32Array(i);for(let a=0;a<i;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new qe(this.field,r)}multiplyScalar(i){if(i===0)return new qe(this.field,new Int32Array([0]));if(i===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let c=0;c<r;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new qe(this.field,a)}multiplyByMonomial(i,r){if(i<0)throw new y;if(r===0)return new qe(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+i);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],r);return new qe(this.field,c)}toString(){let i=new xt;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(i.append(" - "),a=-a):i.length()>0&&i.append(" + "),(r===0||a!==1)&&i.append(a),r!==0&&(r===1?i.append("x"):(i.append("x^"),i.append(r))))}return i.toString()}}class tg{add(i,r){return(i+r)%this.modulus}subtract(i,r){return(this.modulus+i-r)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new y;return this.logTable[i]}inverse(i){if(i===0)throw new M;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,r){return i===0||r===0?0:this.expTable[(this.logTable[i]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class al extends tg{constructor(i,r){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let a=1;for(let c=0;c<i;c++)this.expTable[c]=a,a=a*r%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new qe(this,new Int32Array([0])),this.one=new qe(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,r){if(i<0)throw new y;if(r===0)return this.zero;let a=new Int32Array(i+1);return a[0]=r,new qe(this,a)}}al.PDF417_GF=new al(Dt.NUMBER_OF_CODEWORDS,3);class au{constructor(){this.field=al.PDF417_GF}decode(i,r,a){let c=new qe(this.field,i),u=new Int32Array(r),h=!1;for(let P=r;P>0;P--){let L=c.evaluateAt(this.field.exp(P));u[r-P]=L,L!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(a!=null)for(const P of a){let L=this.field.exp(i.length-1-P),z=new qe(this.field,new Int32Array([this.field.subtract(0,L),1]));g=g.multiply(z)}let m=new qe(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),_=w[0],I=w[1],v=this.findErrorLocations(_),R=this.findErrorMagnitudes(I,_,v);for(let P=0;P<v.length;P++){let L=i.length-1-this.field.log(v[P]);if(L<0)throw A.getChecksumInstance();i[L]=this.field.subtract(i[L],R[P])}return v.length}runEuclideanAlgorithm(i,r,a){if(i.getDegree()<r.getDegree()){let v=i;i=r,r=v}let c=i,u=r,h=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let v=c,R=h;if(c=u,h=g,c.isZero())throw A.getChecksumInstance();u=v;let P=this.field.getZero(),L=c.getCoefficient(c.getDegree()),z=this.field.inverse(L);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Q=u.getDegree()-c.getDegree(),ct=this.field.multiply(u.getCoefficient(u.getDegree()),z);P=P.add(this.field.buildMonomial(Q,ct)),u=u.subtract(c.multiplyByMonomial(Q,ct))}g=P.multiply(h).subtract(R).negative()}let m=g.getCoefficient(0);if(m===0)throw A.getChecksumInstance();let w=this.field.inverse(m),_=g.multiply(w),I=u.multiply(w);return[_,I]}findErrorLocations(i){let r=i.getDegree(),a=new Int32Array(r),c=0;for(let u=1;u<this.field.getSize()&&c<r;u++)i.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==r)throw A.getChecksumInstance();return a}findErrorMagnitudes(i,r,a){let c=r.getDegree(),u=new Int32Array(c);for(let w=1;w<=c;w++)u[c-w]=this.field.multiply(w,r.getCoefficient(w));let h=new qe(this.field,u),g=a.length,m=new Int32Array(g);for(let w=0;w<g;w++){let _=this.field.inverse(a[w]),I=this.field.subtract(0,i.evaluateAt(_)),v=this.field.inverse(h.evaluateAt(_));m[w]=this.field.multiply(I,v)}return m}}class ns{constructor(i,r,a,c,u){i instanceof ns?this.constructor_2(i):this.constructor_1(i,r,a,c,u)}constructor_1(i,r,a,c,u){const h=r==null||a==null,g=c==null||u==null;if(h&&g)throw new X;h?(r=new K(0,c.getY()),a=new K(0,u.getY())):g&&(c=new K(i.getWidth()-1,r.getY()),u=new K(i.getWidth()-1,a.getY())),this.image=i,this.topLeft=r,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,r){return i==null?r:r==null?i:new ns(i.image,i.topLeft,i.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(i,r,a){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(i>0){let m=a?this.topLeft:this.topRight,w=Math.trunc(m.getY()-i);w<0&&(w=0);let _=new K(m.getX(),w);a?c=_:h=_}if(r>0){let m=a?this.bottomLeft:this.bottomRight,w=Math.trunc(m.getY()+r);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let _=new K(m.getX(),w);a?u=_:g=_}return new ns(this.image,c,u,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class eg{constructor(i,r,a,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ur{constructor(){this.buffer=""}static form(i,r){let a=-1;function c(h,g,m,w,_,I){if(h==="%%")return"%";if(r[++a]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let v=_?parseInt(_.substr(1)):void 0,R;switch(I){case"s":R=r[a];break;case"c":R=r[a][0];break;case"f":R=parseFloat(r[a]).toFixed(h);break;case"p":R=parseFloat(r[a]).toPrecision(h);break;case"e":R=parseFloat(r[a]).toExponential(h);break;case"x":R=parseInt(r[a]).toString(v||16);break;case"d":R=parseFloat(parseInt(r[a],v||10).toPrecision(h)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(v);let P=parseInt(m),L=m&&m[0]+""=="0"?"0":" ";for(;R.length<P;)R=g!==void 0?R+L:L+R;return R}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}format(i,...r){this.buffer+=ur.form(i,r)}toString(){return this.buffer}}class fr{constructor(i){this.boundingBox=new ns(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let r=this.getCodeword(i);if(r!=null)return r;for(let a=1;a<fr.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(i)-a;if(c>=0&&(r=this.codewords[c],r!=null)||(c=this.imageRowToCodewordIndex(i)+a,c<this.codewords.length&&(r=this.codewords[c],r!=null)))return r}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,r){this.codewords[this.imageRowToCodewordIndex(i)]=r}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new ur;let r=0;for(const a of this.codewords){if(a==null){i.format("%3d:    |   %n",r++);continue}i.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return i.toString()}}fr.MAX_NEARBY_DISTANCE=5;class hr{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let r=this.values.get(i);r==null&&(r=0),r++,this.values.set(i,r)}getValue(){let i=-1,r=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>i?(i=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===i&&r.push(u.getKey())}return Dt.toIntArray(r)}getConfidence(i){return this.values.get(i)}}class lu extends fr{constructor(i,r){super(i),this._isLeft=r}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,i);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,w=1,_=0;for(let I=h;I<g;I++){if(r[I]==null)continue;let v=r[I],R=v.getRowNumber()-m;if(R===0)_++;else if(R===1)w=Math.max(w,_),_=1,m=v.getRowNumber();else if(R<0||v.getRowNumber()>=i.getRowCount()||R>I)r[I]=null;else{let P;w>2?P=(w-2)*R:P=R;let L=P>=I;for(let z=1;z<=P&&!L;z++)L=r[I-z]!=null;L?r[I]=null:(m=v.getRowNumber(),_=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let r=new Int32Array(i.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=r.length)continue;r[c]++}return r}adjustIncompleteIndicatorColumnRowNumbers(i){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),c=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),m=-1;for(let w=u;w<h;w++){if(g[w]==null)continue;let _=g[w];_.setRowNumberAsRowIndicatorColumn();let I=_.getRowNumber()-m;I===0||(I===1?m=_.getRowNumber():_.getRowNumber()>=i.getRowCount()?g[w]=null:m=_.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),r=new hr,a=new hr,c=new hr,u=new hr;for(let g of i){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let m=g.getValue()%30,w=g.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:a.setValue(m*3+1);break;case 1:u.setValue(m/3),c.setValue(m%3);break;case 2:r.setValue(m+1);break}}if(r.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<Dt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>Dt.MAX_ROWS_IN_BARCODE)return null;let h=new eg(r.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,h),h}removeIncorrectCodewords(i,r){for(let a=0;a<i.length;a++){let c=i[a];if(i[a]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>r.getRowCount()){i[a]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(i[a]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(i[a]=null);break;case 2:u+1!==r.getColumnCount()&&(i[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dr{constructor(i,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Dt.MAX_CODEWORDS_IN_BARCODE,r;do r=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(r,c,a))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++)if(i[a]!=null&&r[a]!=null&&i[a].getRowNumber()===r[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(i[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let c=r[a].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[a];g!=null&&(u=dr.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let c=r[a].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[a];g!=null&&(u=dr.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(i)?(a.setRowNumber(i),r=0):++r),r}adjustRowNumbers(i,r,a){if(!this.detectionResultColumns[i-1])return;let c=a[r],u=this.detectionResultColumns[i-1].getCodewords(),h=u;this.detectionResultColumns[i+1]!=null&&(h=this.detectionResultColumns[i+1].getCodewords());let g=new Array(14);g[2]=u[r],g[3]=h[r],r>0&&(g[0]=a[r-1],g[4]=u[r-1],g[5]=h[r-1]),r>1&&(g[8]=a[r-2],g[10]=u[r-2],g[11]=h[r-2]),r<a.length-1&&(g[1]=a[r+1],g[6]=u[r+1],g[7]=h[r+1]),r<a.length-2&&(g[9]=a[r+2],g[12]=u[r+2],g[13]=h[r+2]);for(let m of g)if(dr.adjustRowNumber(c,m))return}static adjustRowNumber(i,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===i.getBucket()?(i.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,r){this.detectionResultColumns[i]=r}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ur;for(let a=0;a<i.getCodewords().length;a++){r.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class gr{constructor(i,r,a,c){this.rowNumber=gr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==gr.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}gr.BARCODE_ROW_UNKNOWN=-1;class mn{static initialize(){for(let i=0;i<Dt.SYMBOL_TABLE.length;i++){let r=Dt.SYMBOL_TABLE[i],a=r&1;for(let c=0;c<Dt.BARS_IN_MODULE;c++){let u=0;for(;(r&1)===a;)u+=1,r>>=1;a=r&1,mn.RATIOS_TABLE[i]||(mn.RATIOS_TABLE[i]=new Array(Dt.BARS_IN_MODULE)),mn.RATIOS_TABLE[i][Dt.BARS_IN_MODULE-c-1]=Math.fround(u/Dt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let r=mn.getDecodedCodewordValue(mn.sampleBitCounts(i));return r!==-1?r:mn.getClosestDecodedValue(i)}static sampleBitCounts(i){let r=it.sum(i),a=new Int32Array(Dt.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<Dt.MODULES_IN_CODEWORD;h++){let g=r/(2*Dt.MODULES_IN_CODEWORD)+h*r/Dt.MODULES_IN_CODEWORD;u+i[c]<=g&&(u+=i[c],c++),a[c]++}return a}static getDecodedCodewordValue(i){let r=mn.getBitValue(i);return Dt.getCodeword(r)===-1?-1:r}static getBitValue(i){let r=0;for(let a=0;a<i.length;a++)for(let c=0;c<i[a];c++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(i){let r=it.sum(i),a=new Array(Dt.BARS_IN_MODULE);if(r>1)for(let h=0;h<a.length;h++)a[h]=Math.fround(i[h]/r);let c=ft.MAX_VALUE,u=-1;this.bSymbolTableReady||mn.initialize();for(let h=0;h<mn.RATIOS_TABLE.length;h++){let g=0,m=mn.RATIOS_TABLE[h];for(let w=0;w<Dt.BARS_IN_MODULE;w++){let _=Math.fround(m[w]-a[w]);if(g+=Math.fround(_*_),g>=c)break}g<c&&(c=g,u=Dt.SYMBOL_TABLE[h])}return u}}mn.bSymbolTableReady=!1,mn.RATIOS_TABLE=new Array(Dt.SYMBOL_TABLE.length).map(E=>new Array(Dt.BARS_IN_MODULE));class cu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class uu{static parseLong(i,r=void 0){return parseInt(i,r)}}class fu extends x{}fu.kind="NullPointerException";class ng{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,r,a){if(i==null)throw new fu;if(r<0||r>i.length||a<0||r+a>i.length||r+a<0)throw new D;if(a===0)return;for(let c=0;c<a;c++)this.write(i[r+c])}flush(){}close(){}}class ig extends x{}class sg extends ng{constructor(i=32){if(super(),this.count=0,i<0)throw new y("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let a=this.buf.length<<1;if(a-i<0&&(a=i),a<0){if(i<0)throw new ig;a=k.MAX_VALUE}this.buf=V.copyOfUint8Array(this.buf,a)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,r,a){if(r<0||r>i.length||a<0||r+a-i.length>0)throw new D;this.ensureCapacity(this.count+a),O.arraycopy(i,r,this.buf,this.count,a),this.count+=a}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return V.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var ce;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ce||(ce={}));function hu(){if(typeof window<"u")return window.BigInt||null;if(typeof Ir<"u")return Ir.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Eo;function Pi(E){if(typeof Eo>"u"&&(Eo=hu()),Eo===null)throw new Error("BigInt is not supported!");return Eo(E)}function rg(){let E=[];E[0]=Pi(1);let i=Pi(900);E[1]=i;for(let r=2;r<16;r++)E[r]=E[r-1]*i;return E}class q{static decode(i,r){let a=new xt(""),c=F.ISO8859_1;a.enableDecoding(c);let u=1,h=i[u++],g=new cu;for(;u<i[0];){switch(h){case q.TEXT_COMPACTION_MODE_LATCH:u=q.textCompaction(i,u,a);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:u=q.byteCompaction(h,i,c,u,a);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[u++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:u=q.numericCompaction(i,u,a);break;case q.ECI_CHARSET:F.getCharacterSetECIByValue(i[u++]);break;case q.ECI_GENERAL_PURPOSE:u+=2;break;case q.ECI_USER_DEFINED:u++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=q.decodeMacroBlock(i,u,g);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new H;default:u--,u=q.textCompaction(i,u,a);break}if(u<i.length)h=i[u++];else throw H.getFormatInstance()}if(a.length()===0)throw H.getFormatInstance();let m=new mt(null,a.toString(),null,r);return m.setOther(g),m}static decodeMacroBlock(i,r,a){if(r+q.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw H.getFormatInstance();let c=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<q.NUMBER_OF_SEQUENCE_CODEWORDS;g++,r++)c[g]=i[r];a.setSegmentIndex(k.parseInt(q.decodeBase900toBase10(c,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new xt;r=q.textCompaction(i,r,u),a.setFileId(u.toString());let h=-1;for(i[r]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=r+1);r<i[0];)switch(i[r]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,i[r]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new xt;r=q.textCompaction(i,r+1,g),a.setFileName(g.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new xt;r=q.textCompaction(i,r+1,m),a.setSender(m.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new xt;r=q.textCompaction(i,r+1,w),a.setAddressee(w.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new xt;r=q.numericCompaction(i,r+1,_),a.setSegmentCount(k.parseInt(_.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new xt;r=q.numericCompaction(i,r+1,I),a.setTimestamp(uu.parseLong(I.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new xt;r=q.numericCompaction(i,r+1,v),a.setChecksum(k.parseInt(v.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new xt;r=q.numericCompaction(i,r+1,R),a.setFileSize(uu.parseLong(R.toString()));break;default:throw H.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(h!==-1){let g=r-h;a.isLastSegment()&&g--,a.setOptionalData(V.copyOfRange(i,h,h+g))}return r}static textCompaction(i,r,a){let c=new Int32Array((i[0]-r)*2),u=new Int32Array((i[0]-r)*2),h=0,g=!1;for(;r<i[0]&&!g;){let m=i[r++];if(m<q.TEXT_COMPACTION_MODE_LATCH)c[h]=m/30,c[h+1]=m%30,h+=2;else switch(m){case q.TEXT_COMPACTION_MODE_LATCH:c[h++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:r--,g=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=i[r++],u[h]=m,h++;break}}return q.decodeTextCompaction(c,u,h,a),r}static decodeTextCompaction(i,r,a,c){let u=ce.ALPHA,h=ce.ALPHA,g=0;for(;g<a;){let m=i[g],w="";switch(u){case ce.ALPHA:if(m<26)w=String.fromCharCode(65+m);else switch(m){case 26:w=" ";break;case q.LL:u=ce.LOWER;break;case q.ML:u=ce.MIXED;break;case q.PS:h=u,u=ce.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[g]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=ce.ALPHA;break}break;case ce.LOWER:if(m<26)w=String.fromCharCode(97+m);else switch(m){case 26:w=" ";break;case q.AS:h=u,u=ce.ALPHA_SHIFT;break;case q.ML:u=ce.MIXED;break;case q.PS:h=u,u=ce.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[g]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=ce.ALPHA;break}break;case ce.MIXED:if(m<q.PL)w=q.MIXED_CHARS[m];else switch(m){case q.PL:u=ce.PUNCT;break;case 26:w=" ";break;case q.LL:u=ce.LOWER;break;case q.AL:u=ce.ALPHA;break;case q.PS:h=u,u=ce.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[g]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=ce.ALPHA;break}break;case ce.PUNCT:if(m<q.PAL)w=q.PUNCT_CHARS[m];else switch(m){case q.PAL:u=ce.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[g]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=ce.ALPHA;break}break;case ce.ALPHA_SHIFT:if(u=h,m<26)w=String.fromCharCode(65+m);else switch(m){case 26:w=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:u=ce.ALPHA;break}break;case ce.PUNCT_SHIFT:if(u=h,m<q.PAL)w=q.PUNCT_CHARS[m];else switch(m){case q.PAL:u=ce.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(r[g]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=ce.ALPHA;break}break}w!==""&&c.append(w),g++}}static byteCompaction(i,r,a,c,u){let h=new sg,g=0,m=0,w=!1;switch(i){case q.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),I=r[c++];for(;c<r[0]&&!w;)switch(_[g++]=I,m=900*m+I,I=r[c++],I){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:c--,w=!0;break;default:if(g%5===0&&g>0){for(let v=0;v<6;++v)h.write(Number(Pi(m)>>Pi(8*(5-v))));m=0,g=0}break}c===r[0]&&I<q.TEXT_COMPACTION_MODE_LATCH&&(_[g++]=I);for(let v=0;v<g;v++)h.write(_[v]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;c<r[0]&&!w;){let v=r[c++];if(v<q.TEXT_COMPACTION_MODE_LATCH)g++,m=900*m+v;else switch(v){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:c--,w=!0;break}if(g%5===0&&g>0){for(let R=0;R<6;++R)h.write(Number(Pi(m)>>Pi(8*(5-R))));m=0,g=0}}break}return u.append(ht.decode(h.toByteArray(),a)),c}static numericCompaction(i,r,a){let c=0,u=!1,h=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;r<i[0]&&!u;){let g=i[r++];if(r===i[0]&&(u=!0),g<q.TEXT_COMPACTION_MODE_LATCH)h[c]=g,c++;else switch(g){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(c%q.MAX_NUMERIC_CODEWORDS===0||g===q.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(q.decodeBase900toBase10(h,c)),c=0)}return r}static decodeBase900toBase10(i,r){let a=Pi(0);for(let u=0;u<r;u++)a+=q.EXP900[r-u-1]*Pi(i[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new H;return c.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=hu()?rg():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Vt{constructor(){}static decode(i,r,a,c,u,h,g){let m=new ns(i,r,a,c,u),w=null,_=null,I;for(let P=!0;;P=!1){if(r!=null&&(w=Vt.getRowIndicatorColumn(i,m,r,!0,h,g)),c!=null&&(_=Vt.getRowIndicatorColumn(i,m,c,!1,h,g)),I=Vt.merge(w,_),I==null)throw X.getNotFoundInstance();let L=I.getBoundingBox();if(P&&L!=null&&(L.getMinY()<m.getMinY()||L.getMaxY()>m.getMaxY()))m=L;else break}I.setBoundingBox(m);let v=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,w),I.setDetectionResultColumn(v,_);let R=w!=null;for(let P=1;P<=v;P++){let L=R?P:v-P;if(I.getDetectionResultColumn(L)!==void 0)continue;let z;L===0||L===v?z=new lu(m,L===0):z=new fr(m),I.setDetectionResultColumn(L,z);let Q=-1,ct=Q;for(let ut=m.getMinY();ut<=m.getMaxY();ut++){if(Q=Vt.getStartColumn(I,L,ut,R),Q<0||Q>m.getMaxX()){if(ct===-1)continue;Q=ct}let at=Vt.detectCodeword(i,m.getMinX(),m.getMaxX(),R,Q,ut,h,g);at!=null&&(z.setCodeword(ut,at),ct=Q,h=Math.min(h,at.getWidth()),g=Math.max(g,at.getWidth()))}}return Vt.createDecoderResult(I)}static merge(i,r){if(i==null&&r==null)return null;let a=Vt.getBarcodeMetadata(i,r);if(a==null)return null;let c=ns.merge(Vt.adjustBoundingBox(i),Vt.adjustBoundingBox(r));return new dr(a,c)}static adjustBoundingBox(i){if(i==null)return null;let r=i.getRowHeights();if(r==null)return null;let a=Vt.getMax(r),c=0;for(let g of r)if(c+=a-g,g>0)break;let u=i.getCodewords();for(let g=0;c>0&&u[g]==null;g++)c--;let h=0;for(let g=r.length-1;g>=0&&(h+=a-r[g],!(r[g]>0));g--);for(let g=u.length-1;h>0&&u[g]==null;g--)h--;return i.getBoundingBox().addMissingRows(c,h,i.isLeft())}static getMax(i){let r=-1;for(let a of i)r=Math.max(r,a);return r}static getBarcodeMetadata(i,r){let a;if(i==null||(a=i.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let c;return r==null||(c=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(i,r,a,c,u,h){let g=new lu(r,c);for(let m=0;m<2;m++){let w=m===0?1:-1,_=Math.trunc(Math.trunc(a.getX()));for(let I=Math.trunc(Math.trunc(a.getY()));I<=r.getMaxY()&&I>=r.getMinY();I+=w){let v=Vt.detectCodeword(i,0,i.getWidth(),c,_,I,u,h);v!=null&&(g.setCodeword(I,v),c?_=v.getStartX():_=v.getEndX())}}return g}static adjustCodewordCount(i,r){let a=r[0][1],c=a.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Vt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(u<1||u>Dt.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(i){let r=Vt.createBarcodeMatrix(i);Vt.adjustCodewordCount(i,r);let a=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],h=new Array;for(let m=0;m<i.getBarcodeRowCount();m++)for(let w=0;w<i.getBarcodeColumnCount();w++){let _=r[m][w+1].getValue(),I=m*i.getBarcodeColumnCount()+w;_.length===0?a.push(I):_.length===1?c[I]=_[0]:(h.push(I),u.push(_))}let g=new Array(u.length);for(let m=0;m<g.length;m++)g[m]=u[m];return Vt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,Dt.toIntArray(a),Dt.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(i,r,a,c,u){let h=new Int32Array(c.length),g=100;for(;g-- >0;){for(let m=0;m<h.length;m++)r[c[m]]=u[m][h[m]];try{return Vt.decodeCodewords(r,i,a)}catch(m){if(!(m instanceof A))throw m}if(h.length===0)throw A.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<u[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(i){let r=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<r.length;c++)for(let u=0;u<r[c].length;u++)r[c][u]=new hr;let a=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=r.length)continue;r[h][a].setValue(u.getValue())}}}a++}return r}static isValidBarcodeColumn(i,r){return r>=0&&r<=i.getBarcodeColumnCount()+1}static getStartColumn(i,r,a,c){let u=c?1:-1,h=null;if(Vt.isValidBarcodeColumn(i,r-u)&&(h=i.getDetectionResultColumn(r-u).getCodeword(a)),h!=null)return c?h.getEndX():h.getStartX();if(h=i.getDetectionResultColumn(r).getCodewordNearby(a),h!=null)return c?h.getStartX():h.getEndX();if(Vt.isValidBarcodeColumn(i,r-u)&&(h=i.getDetectionResultColumn(r-u).getCodewordNearby(a)),h!=null)return c?h.getEndX():h.getStartX();let g=0;for(;Vt.isValidBarcodeColumn(i,r-u);){r-=u;for(let m of i.getDetectionResultColumn(r).getCodewords())if(m!=null)return(c?m.getEndX():m.getStartX())+u*g*(m.getEndX()-m.getStartX());g++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,r,a,c,u,h,g,m){u=Vt.adjustCodewordStartColumn(i,r,a,c,u,h);let w=Vt.getModuleBitCount(i,r,a,c,u,h);if(w==null)return null;let _,I=it.sum(w);if(c)_=u+I;else{for(let P=0;P<w.length/2;P++){let L=w[P];w[P]=w[w.length-1-P],w[w.length-1-P]=L}_=u,u=_-I}if(!Vt.checkCodewordSkew(I,g,m))return null;let v=mn.getDecodedValue(w),R=Dt.getCodeword(v);return R===-1?null:new gr(u,_,Vt.getCodewordBucketNumber(v),R)}static getModuleBitCount(i,r,a,c,u,h){let g=u,m=new Int32Array(8),w=0,_=c?1:-1,I=c;for(;(c?g<a:g>=r)&&w<m.length;)i.get(g,h)===I?(m[w]++,g+=_):(w++,I=!I);return w===m.length||g===(c?a:r)&&w===m.length-1?m:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,r,a,c,u,h){let g=u,m=c?-1:1;for(let w=0;w<2;w++){for(;(c?g>=r:g<a)&&c===i.get(g,h);){if(Math.abs(u-g)>Vt.CODEWORD_SKEW_SIZE)return u;g+=m}m=-m,c=!c}return g}static checkCodewordSkew(i,r,a){return r-Vt.CODEWORD_SKEW_SIZE<=i&&i<=a+Vt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,r,a){if(i.length===0)throw H.getFormatInstance();let c=1<<r+1,u=Vt.correctErrors(i,a,c);Vt.verifyCodewordCount(i,c);let h=q.decode(i,""+r);return h.setErrorsCorrected(u),h.setErasures(a.length),h}static correctErrors(i,r,a){if(r!=null&&r.length>a/2+Vt.MAX_ERRORS||a<0||a>Vt.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return Vt.errorCorrection.decode(i,a,r)}static verifyCodewordCount(i,r){if(i.length<4)throw H.getFormatInstance();let a=i[0];if(a>i.length)throw H.getFormatInstance();if(a===0)if(r<i.length)i[0]=i.length-r;else throw H.getFormatInstance()}static getBitCountForCodeword(i){let r=new Int32Array(8),a=0,c=r.length-1;for(;!((i&1)!==a&&(a=i&1,c--,c<0));)r[c]++,i>>=1;return r}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Vt.getCodewordBucketNumber(Vt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let r=new ur;for(let a=0;a<i.length;a++){r.format("Row %2d: ",a);for(let c=0;c<i[a].length;c++){let u=i[a][c];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}Vt.CODEWORD_SKEW_SIZE=2,Vt.MAX_ERRORS=3,Vt.MAX_EC_CODEWORDS=512,Vt.errorCorrection=new au;class Qe{decode(i,r=null){let a=Qe.decode(i,r,!1);if(a==null||a.length===0||a[0]==null)throw X.getNotFoundInstance();return a[0]}decodeMultiple(i,r=null){try{return Qe.decode(i,r,!0)}catch(a){throw a instanceof H||a instanceof A?X.getNotFoundInstance():a}}static decode(i,r,a){const c=new Array,u=Ut.detectMultiple(i,r,a);for(const h of u.getPoints()){const g=Vt.decode(u.getBits(),h[4],h[5],h[6],h[7],Qe.getMinCodewordWidth(h),Qe.getMaxCodewordWidth(h)),m=new ne(g.getText(),g.getRawBytes(),void 0,h,bt.PDF_417);m.putMetadata(dt.ERROR_CORRECTION_LEVEL,g.getECLevel());const w=g.getOther();w!=null&&m.putMetadata(dt.PDF417_EXTRA_METADATA,w),c.push(m)}return c.map(h=>h)}static getMaxWidth(i,r){return i==null||r==null?0:Math.trunc(Math.abs(i.getX()-r.getX()))}static getMinWidth(i,r){return i==null||r==null?k.MAX_VALUE:Math.trunc(Math.abs(i.getX()-r.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Qe.getMaxWidth(i[0],i[4]),Qe.getMaxWidth(i[6],i[2])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN),Math.max(Qe.getMaxWidth(i[1],i[5]),Qe.getMaxWidth(i[7],i[3])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Qe.getMinWidth(i[0],i[4]),Qe.getMinWidth(i[6],i[2])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN),Math.min(Qe.getMinWidth(i[1],i[5]),Qe.getMinWidth(i[7],i[3])*Dt.MODULES_IN_CODEWORD/Dt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Io extends x{}Io.kind="ReaderException";class du{constructor(i,r){this.verbose=i===!0,r&&this.setHints(r)}decode(i,r){return r&&this.setHints(r),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const r=!s(i)&&i.get(tt.TRY_HARDER)===!0,a=s(i)?null:i.get(tt.POSSIBLE_FORMATS),c=new Array;if(!s(a)){const u=a.some(h=>h===bt.UPC_A||h===bt.UPC_E||h===bt.EAN_13||h===bt.EAN_8||h===bt.CODABAR||h===bt.CODE_39||h===bt.CODE_93||h===bt.CODE_128||h===bt.ITF||h===bt.RSS_14||h===bt.RSS_EXPANDED);u&&!r&&c.push(new Ds(i,this.verbose)),a.includes(bt.QR_CODE)&&c.push(new Di),a.includes(bt.DATA_MATRIX)&&c.push(new Mi),a.includes(bt.AZTEC)&&c.push(new ln),a.includes(bt.PDF_417)&&c.push(new Qe),u&&r&&c.push(new Ds(i,this.verbose))}c.length===0&&(r||c.push(new Ds(i,this.verbose)),c.push(new Di),c.push(new Mi),c.push(new ln),c.push(new Qe),r&&c.push(new Ds(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Io("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(i,this.hints)}catch(a){if(a instanceof Io)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class og extends Le{constructor(i=null,r=500){const a=new du;a.setHints(i),super(a,r)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class ag extends Le{constructor(i=500){super(new Qe,i)}}class lg extends Le{constructor(i=500){super(new Di,i)}}var ll;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(ll||(ll={}));var He=ll;class cl{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Nt(i,Int32Array.from([1])))}buildGenerator(i){const r=this.cachedGenerators;if(i>=r.length){let a=r[r.length-1];const c=this.field;for(let u=r.length;u<=i;u++){const h=a.multiply(new Nt(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));r.push(h),a=h}}return r[i]}encode(i,r){if(r===0)throw new y("No error correction bytes");const a=i.length-r;if(a<=0)throw new y("No data bytes provided");const c=this.buildGenerator(r),u=new Int32Array(a);O.arraycopy(i,0,u,0,a);let h=new Nt(this.field,u);h=h.multiplyByMonomial(r,1);const m=h.divide(c)[1].getCoefficients(),w=r-m.length;for(let _=0;_<w;_++)i[a+_]=0;O.arraycopy(m,0,i,a+w,m.length)}}class Oe{constructor(){}static applyMaskPenaltyRule1(i){return Oe.applyMaskPenaltyRule1Internal(i,!0)+Oe.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let r=0;const a=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u-1;h++){const g=a[h];for(let m=0;m<c-1;m++){const w=g[m];w===g[m+1]&&w===a[h+1][m]&&w===a[h+1][m+1]&&r++}}return Oe.N2*r}static applyMaskPenaltyRule3(i){let r=0;const a=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let h=0;h<u;h++)for(let g=0;g<c;g++){const m=a[h];g+6<c&&m[g]===1&&m[g+1]===0&&m[g+2]===1&&m[g+3]===1&&m[g+4]===1&&m[g+5]===0&&m[g+6]===1&&(Oe.isWhiteHorizontal(m,g-4,g)||Oe.isWhiteHorizontal(m,g+7,g+11))&&r++,h+6<u&&a[h][g]===1&&a[h+1][g]===0&&a[h+2][g]===1&&a[h+3][g]===1&&a[h+4][g]===1&&a[h+5][g]===0&&a[h+6][g]===1&&(Oe.isWhiteVertical(a,g,h-4,h)||Oe.isWhiteVertical(a,g,h+7,h+11))&&r++}return r*Oe.N3}static isWhiteHorizontal(i,r,a){r=Math.max(r,0),a=Math.min(a,i.length);for(let c=r;c<a;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,r,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let u=a;u<c;u++)if(i[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let r=0;const a=i.getArray(),c=i.getWidth(),u=i.getHeight();for(let m=0;m<u;m++){const w=a[m];for(let _=0;_<c;_++)w[_]===1&&r++}const h=i.getHeight()*i.getWidth();return Math.floor(Math.abs(r*2-h)*10/h)*Oe.N4}static getDataMaskBit(i,r,a){let c,u;switch(i){case 0:c=a+r&1;break;case 1:c=a&1;break;case 2:c=r%3;break;case 3:c=(a+r)%3;break;case 4:c=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:u=a*r,c=(u&1)+u%3;break;case 6:u=a*r,c=(u&1)+u%3&1;break;case 7:u=a*r,c=u%3+(a+r&1)&1;break;default:throw new y("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,r){let a=0;const c=r?i.getHeight():i.getWidth(),u=r?i.getWidth():i.getHeight(),h=i.getArray();for(let g=0;g<c;g++){let m=0,w=-1;for(let _=0;_<u;_++){const I=r?h[g][_]:h[_][g];I===w?m++:(m>=5&&(a+=Oe.N1+(m-5)),m=1,w=I)}m>=5&&(a+=Oe.N1+(m-5))}return a}}Oe.N1=3,Oe.N2=3,Oe.N3=40,Oe.N4=10;class vo{constructor(i,r){this.width=i,this.height=r;const a=new Array(r);for(let c=0;c!==r;c++)a[c]=new Uint8Array(i);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(i,r){return this.bytes[r][i]}getArray(){return this.bytes}setNumber(i,r,a){this.bytes[r][i]=a}setBoolean(i,r,a){this.bytes[r][i]=a?1:0}clear(i){for(const r of this.bytes)V.fill(r,i)}equals(i){if(!(i instanceof vo))return!1;const r=i;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],h=r.bytes[a];for(let g=0,m=this.width;g<m;++g)if(u[g]!==h[g])return!1}return!0}toString(){const i=new xt;for(let r=0,a=this.height;r<a;++r){const c=this.bytes[r];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class is{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new xt;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<is.NUM_MASK_PATTERNS}}is.NUM_MASK_PATTERNS=8;class fe extends x{}fe.kind="WriterException";class Ot{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,r,a,c,u){Ot.clearMatrix(u),Ot.embedBasicPatterns(a,u),Ot.embedTypeInfo(r,c,u),Ot.maybeEmbedVersionInfo(a,u),Ot.embedDataBits(i,c,u)}static embedBasicPatterns(i,r){Ot.embedPositionDetectionPatternsAndSeparators(r),Ot.embedDarkDotAtLeftBottomCorner(r),Ot.maybeEmbedPositionAdjustmentPatterns(i,r),Ot.embedTimingPatterns(r)}static embedTypeInfo(i,r,a){const c=new G;Ot.makeTypeInfoBits(i,r,c);for(let u=0,h=c.getSize();u<h;++u){const g=c.get(c.getSize()-1-u),m=Ot.TYPE_INFO_COORDINATES[u],w=m[0],_=m[1];if(a.setBoolean(w,_,g),u<8){const I=a.getWidth()-u-1;a.setBoolean(I,8,g)}else{const v=a.getHeight()-7+(u-8);a.setBoolean(8,v,g)}}}static maybeEmbedVersionInfo(i,r){if(i.getVersionNumber()<7)return;const a=new G;Ot.makeVersionInfoBits(i,a);let c=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const g=a.get(c);c--,r.setBoolean(u,r.getHeight()-11+h,g),r.setBoolean(r.getHeight()-11+h,u,g)}}static embedDataBits(i,r,a){let c=0,u=-1,h=a.getWidth()-1,g=a.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<a.getHeight();){for(let m=0;m<2;++m){const w=h-m;if(!Ot.isEmpty(a.get(w,g)))continue;let _;c<i.getSize()?(_=i.get(c),++c):_=!1,r!==255&&Oe.getDataMaskBit(r,w,g)&&(_=!_),a.setBoolean(w,g,_)}g+=u}u=-u,g+=u,h-=2}if(c!==i.getSize())throw new fe("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-k.numberOfLeadingZeros(i)}static calculateBCHCode(i,r){if(r===0)throw new y("0 polynomial");const a=Ot.findMSBSet(r);for(i<<=a-1;Ot.findMSBSet(i)>=a;)i^=r<<Ot.findMSBSet(i)-a;return i}static makeTypeInfoBits(i,r,a){if(!is.isValidMaskPattern(r))throw new fe("Invalid mask pattern");const c=i.getBits()<<3|r;a.appendBits(c,5);const u=Ot.calculateBCHCode(c,Ot.TYPE_INFO_POLY);a.appendBits(u,10);const h=new G;if(h.appendBits(Ot.TYPE_INFO_MASK_PATTERN,15),a.xor(h),a.getSize()!==15)throw new fe("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(i,r){r.appendBits(i.getVersionNumber(),6);const a=Ot.calculateBCHCode(i.getVersionNumber(),Ot.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new fe("should not happen but we got: "+r.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let r=8;r<i.getWidth()-8;++r){const a=(r+1)%2;Ot.isEmpty(i.get(r,6))&&i.setNumber(r,6,a),Ot.isEmpty(i.get(6,r))&&i.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new fe;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,r,a){for(let c=0;c<8;++c){if(!Ot.isEmpty(a.get(i+c,r)))throw new fe;a.setNumber(i+c,r,0)}}static embedVerticalSeparationPattern(i,r,a){for(let c=0;c<7;++c){if(!Ot.isEmpty(a.get(i,r+c)))throw new fe;a.setNumber(i,r+c,0)}}static embedPositionAdjustmentPattern(i,r,a){for(let c=0;c<5;++c){const u=Ot.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)a.setNumber(i+h,r+c,u[h])}}static embedPositionDetectionPattern(i,r,a){for(let c=0;c<7;++c){const u=Ot.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)a.setNumber(i+h,r+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(i){const r=Ot.POSITION_DETECTION_PATTERN[0].length;Ot.embedPositionDetectionPattern(0,0,i),Ot.embedPositionDetectionPattern(i.getWidth()-r,0,i),Ot.embedPositionDetectionPattern(0,i.getWidth()-r,i);const a=8;Ot.embedHorizontalSeparationPattern(0,a-1,i),Ot.embedHorizontalSeparationPattern(i.getWidth()-a,a-1,i),Ot.embedHorizontalSeparationPattern(0,i.getWidth()-a,i);const c=7;Ot.embedVerticalSeparationPattern(c,0,i),Ot.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),Ot.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,r){if(i.getVersionNumber()<2)return;const a=i.getVersionNumber()-1,c=Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,h=c.length;u!==h;u++){const g=c[u];if(g>=0)for(let m=0;m!==h;m++){const w=c[m];w>=0&&Ot.isEmpty(r.get(w,g))&&Ot.embedPositionAdjustmentPattern(w-2,g-2,r)}}}}Ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ot.VERSION_INFO_POLY=7973,Ot.TYPE_INFO_POLY=1335,Ot.TYPE_INFO_MASK_PATTERN=21522;class cg{constructor(i,r){this.dataBytes=i,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ye{constructor(){}static calculateMaskPenalty(i){return Oe.applyMaskPenaltyRule1(i)+Oe.applyMaskPenaltyRule2(i)+Oe.applyMaskPenaltyRule3(i)+Oe.applyMaskPenaltyRule4(i)}static encode(i,r,a=null){let c=ye.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(He.CHARACTER_SET)!==void 0;u&&(c=a.get(He.CHARACTER_SET).toString());const h=this.chooseMode(i,c),g=new G;if(h===St.BYTE&&(u||ye.DEFAULT_BYTE_MODE_ENCODING!==c)){const ut=F.getCharacterSetECIByName(c);ut!==void 0&&this.appendECI(ut,g)}this.appendModeInfo(h,g);const m=new G;this.appendBytes(i,h,m,c);let w;if(a!==null&&a.get(He.QR_VERSION)!==void 0){const ut=Number.parseInt(a.get(He.QR_VERSION).toString(),10);w=It.getVersionForNumber(ut);const at=this.calculateBitsNeeded(h,g,m,w);if(!this.willFit(at,w,r))throw new fe("Data too big for requested version")}else w=this.recommendVersion(r,h,g,m);const _=new G;_.appendBitArray(g);const I=h===St.BYTE?m.getSizeInBytes():i.length;this.appendLengthInfo(I,w,h,_),_.appendBitArray(m);const v=w.getECBlocksForLevel(r),R=w.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(R,_);const P=this.interleaveWithECBytes(_,w.getTotalCodewords(),R,v.getNumBlocks()),L=new is;L.setECLevel(r),L.setMode(h),L.setVersion(w);const z=w.getDimensionForVersion(),Q=new vo(z,z),ct=this.chooseMaskPattern(P,r,w,Q);return L.setMaskPattern(ct),Ot.buildMatrix(P,r,w,ct,Q),L.setMatrix(Q),L}static recommendVersion(i,r,a,c){const u=this.calculateBitsNeeded(r,a,c,It.getVersionForNumber(1)),h=this.chooseVersion(u,i),g=this.calculateBitsNeeded(r,a,c,h);return this.chooseVersion(g,i)}static calculateBitsNeeded(i,r,a,c){return r.getSize()+i.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(i){return i<ye.ALPHANUMERIC_TABLE.length?ye.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,r=null){if(F.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(i))return St.KANJI;let a=!1,c=!1;for(let u=0,h=i.length;u<h;++u){const g=i.charAt(u);if(ye.isDigit(g))a=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return St.BYTE}return c?St.ALPHANUMERIC:a?St.NUMERIC:St.BYTE}static isOnlyDoubleByteKanji(i){let r;try{r=ht.encode(i,F.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=r[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,r,a,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<is.NUM_MASK_PATTERNS;g++){Ot.buildMatrix(i,r,a,g,c);let m=this.calculateMaskPenalty(c);m<u&&(u=m,h=g)}return h}static chooseVersion(i,r){for(let a=1;a<=40;a++){const c=It.getVersionForNumber(a);if(ye.willFit(i,c,r))return c}throw new fe("Data too big")}static willFit(i,r,a){const c=r.getTotalCodewords(),h=r.getECBlocksForLevel(a).getTotalECCodewords(),g=c-h,m=(i+7)/8;return g>=m}static terminateBits(i,r){const a=i*8;if(r.getSize()>a)throw new fe("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let h=0;h<4&&r.getSize()<a;++h)r.appendBit(!1);const c=r.getSize()&7;if(c>0)for(let h=c;h<8;h++)r.appendBit(!1);const u=i-r.getSizeInBytes();for(let h=0;h<u;++h)r.appendBits(h&1?17:236,8);if(r.getSize()!==a)throw new fe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,r,a,c,u,h){if(c>=a)throw new fe("Block ID too large");const g=i%a,m=a-g,w=Math.floor(i/a),_=w+1,I=Math.floor(r/a),v=I+1,R=w-I,P=_-v;if(R!==P)throw new fe("EC bytes mismatch");if(a!==m+g)throw new fe("RS blocks mismatch");if(i!==(I+R)*m+(v+P)*g)throw new fe("Total bytes mismatch");c<m?(u[0]=I,h[0]=R):(u[0]=v,h[0]=P)}static interleaveWithECBytes(i,r,a,c){if(i.getSizeInBytes()!==a)throw new fe("Number of bits and data bytes does not match");let u=0,h=0,g=0;const m=new Array;for(let _=0;_<c;++_){const I=new Int32Array(1),v=new Int32Array(1);ye.getNumDataBytesAndNumECBytesForBlockID(r,a,c,_,I,v);const R=I[0],P=new Uint8Array(R);i.toBytes(8*u,P,0,R);const L=ye.generateECBytes(P,v[0]);m.push(new cg(P,L)),h=Math.max(h,R),g=Math.max(g,L.length),u+=I[0]}if(a!==u)throw new fe("Data bytes does not match offset");const w=new G;for(let _=0;_<h;++_)for(const I of m){const v=I.getDataBytes();_<v.length&&w.appendBits(v[_],8)}for(let _=0;_<g;++_)for(const I of m){const v=I.getErrorCorrectionBytes();_<v.length&&w.appendBits(v[_],8)}if(r!==w.getSizeInBytes())throw new fe("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(i,r){const a=i.length,c=new Int32Array(a+r);for(let h=0;h<a;h++)c[h]=i[h]&255;new cl(N.QR_CODE_FIELD_256).encode(c,r);const u=new Uint8Array(r);for(let h=0;h<r;h++)u[h]=c[a+h];return u}static appendModeInfo(i,r){r.appendBits(i.getBits(),4)}static appendLengthInfo(i,r,a,c){const u=a.getCharacterCountBits(r);if(i>=1<<u)throw new fe(i+" is bigger than "+((1<<u)-1));c.appendBits(i,u)}static appendBytes(i,r,a,c){switch(r){case St.NUMERIC:ye.appendNumericBytes(i,a);break;case St.ALPHANUMERIC:ye.appendAlphanumericBytes(i,a);break;case St.BYTE:ye.append8BitBytes(i,a,c);break;case St.KANJI:ye.appendKanjiBytes(i,a);break;default:throw new fe("Invalid mode: "+r)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const r=ye.getDigit(i);return r>=0&&r<=9}static appendNumericBytes(i,r){const a=i.length;let c=0;for(;c<a;){const u=ye.getDigit(i.charAt(c));if(c+2<a){const h=ye.getDigit(i.charAt(c+1)),g=ye.getDigit(i.charAt(c+2));r.appendBits(u*100+h*10+g,10),c+=3}else if(c+1<a){const h=ye.getDigit(i.charAt(c+1));r.appendBits(u*10+h,7),c+=2}else r.appendBits(u,4),c++}}static appendAlphanumericBytes(i,r){const a=i.length;let c=0;for(;c<a;){const u=ye.getAlphanumericCode(i.charCodeAt(c));if(u===-1)throw new fe;if(c+1<a){const h=ye.getAlphanumericCode(i.charCodeAt(c+1));if(h===-1)throw new fe;r.appendBits(u*45+h,11),c+=2}else r.appendBits(u,6),c++}}static append8BitBytes(i,r,a){let c;try{c=ht.encode(i,a)}catch(u){throw new fe(u)}for(let u=0,h=c.length;u!==h;u++){const g=c[u];r.appendBits(g,8)}}static appendKanjiBytes(i,r){let a;try{a=ht.encode(i,F.SJIS)}catch(u){throw new fe(u)}const c=a.length;for(let u=0;u<c;u+=2){const h=a[u]&255,g=a[u+1]&255,m=h<<8&4294967295|g;let w=-1;if(m>=33088&&m<=40956?w=m-33088:m>=57408&&m<=60351&&(w=m-49472),w===-1)throw new fe("Invalid byte sequence");const _=(w>>8)*192+(w&255);r.appendBits(_,13)}}static appendECI(i,r){r.appendBits(St.ECI.getBits(),4),r.appendBits(i.getValue(),8)}}ye.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ye.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class ss{write(i,r,a,c=null){if(i.length===0)throw new y("Found empty contents");if(r<0||a<0)throw new y("Requested dimensions are too small: "+r+"x"+a);let u=pe.L,h=ss.QUIET_ZONE_SIZE;c!==null&&(c.get(He.ERROR_CORRECTION)!==void 0&&(u=pe.fromString(c.get(He.ERROR_CORRECTION).toString())),c.get(He.MARGIN)!==void 0&&(h=Number.parseInt(c.get(He.MARGIN).toString(),10)));const g=ye.encode(i,u,c);return this.renderResult(g,r,a,h)}writeToDom(i,r,a,c,u=null){typeof i=="string"&&(i=document.querySelector(i));const h=this.write(r,a,c,u);i&&i.appendChild(h)}renderResult(i,r,a,c){const u=i.getMatrix();if(u===null)throw new et;const h=u.getWidth(),g=u.getHeight(),m=h+c*2,w=g+c*2,_=Math.max(r,m),I=Math.max(a,w),v=Math.min(Math.floor(_/m),Math.floor(I/w)),R=Math.floor((_-h*v)/2),P=Math.floor((I-g*v)/2),L=this.createSVGElement(_,I);for(let z=0,Q=P;z<g;z++,Q+=v)for(let ct=0,ut=R;ct<h;ct++,ut+=v)if(u.get(ct,z)===1){const at=this.createSvgRectElement(ut,Q,v,v);L.appendChild(at)}return L}createSVGElement(i,r){const a=document.createElementNS(ss.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(i,r,a,c){const u=document.createElementNS(ss.SVG_NS,"rect");return u.setAttributeNS(null,"x",i.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ss.QUIET_ZONE_SIZE=4,ss.SVG_NS="http://www.w3.org/2000/svg";class ks{encode(i,r,a,c,u){if(i.length===0)throw new y("Found empty contents");if(r!==bt.QR_CODE)throw new y("Can only encode QR_CODE, but got "+r);if(a<0||c<0)throw new y(`Requested dimensions are too small: ${a}x${c}`);let h=pe.L,g=ks.QUIET_ZONE_SIZE;u!==null&&(u.get(He.ERROR_CORRECTION)!==void 0&&(h=pe.fromString(u.get(He.ERROR_CORRECTION).toString())),u.get(He.MARGIN)!==void 0&&(g=Number.parseInt(u.get(He.MARGIN).toString(),10)));const m=ye.encode(i,h,u);return ks.renderResult(m,a,c,g)}static renderResult(i,r,a,c){const u=i.getMatrix();if(u===null)throw new et;const h=u.getWidth(),g=u.getHeight(),m=h+c*2,w=g+c*2,_=Math.max(r,m),I=Math.max(a,w),v=Math.min(Math.floor(_/m),Math.floor(I/w)),R=Math.floor((_-h*v)/2),P=Math.floor((I-g*v)/2),L=new Rt(_,I);for(let z=0,Q=P;z<g;z++,Q+=v)for(let ct=0,ut=R;ct<h;ct++,ut+=v)u.get(ct,z)===1&&L.setRegion(ut,Q,v,v);return L}}ks.QUIET_ZONE_SIZE=4;class ug{encode(i,r,a,c,u){let h;switch(r){case bt.QR_CODE:h=new ks;break;default:throw new y("No encoder available for format "+r)}return h.encode(i,r,a,c,u)}}class $n extends Ft{constructor(i,r,a,c,u,h,g,m){if(super(h,g),this.yuvData=i,this.dataWidth=r,this.dataHeight=a,this.left=c,this.top=u,c+h>r||u+g>a)throw new y("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,g)}getRow(i,r){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,c,r,0,a),r}getMatrix(){const i=this.getWidth(),r=this.getHeight();if(i===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=i*r,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return O.arraycopy(this.yuvData,u,c,0,a),c;for(let h=0;h<r;h++){const g=h*i;O.arraycopy(this.yuvData,u,c,g,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,r,a,c){return new $n(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+r,a,c,!1)}renderThumbnail(){const i=this.getWidth()/$n.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/$n.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*r),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<r;h++){const g=h*i;for(let m=0;m<i;m++){const w=c[u+m*$n.THUMBNAIL_SCALE_FACTOR]&255;a[g+m]=4278190080|w*65793}u+=this.dataWidth*$n.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/$n.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/$n.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,r){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<r;c++,u+=this.dataWidth){const h=u+i/2;for(let g=u,m=u+i-1;g<h;g++,m--){const w=a[g];a[g]=a[m],a[m]=w}}}invert(){return new ve(this)}}$n.THUMBNAIL_SCALE_FACTOR=2;class ul extends Ft{constructor(i,r,a,c,u,h,g){if(super(r,a),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,i.BYTES_PER_ELEMENT===4){const m=r*a,w=new Uint8ClampedArray(m);for(let _=0;_<m;_++){const I=i[_],v=I>>16&255,R=I>>7&510,P=I&255;w[_]=(v+R+P)/4&255}this.luminances=w}else this.luminances=i;if(c===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=a),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(i,r){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const c=(i+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,c,r,0,a),r}getMatrix(){const i=this.getWidth(),r=this.getHeight();if(i===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=i*r,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return O.arraycopy(this.luminances,u,c,0,a),c;for(let h=0;h<r;h++){const g=h*i;O.arraycopy(this.luminances,u,c,g,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,r,a,c){return new ul(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+i,this.top+r)}invert(){return new ve(this)}}class gu extends F{static forName(i){return this.getCharacterSetECIByName(i)}}class fl{}fl.ISO_8859_1=F.ISO8859_1;class pu{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class xu{static singletonList(i){return[i]}static min(i,r){return i.sort(r)[0]}}class fg{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Bs extends fg{constructor(i,r,a){super(i),this.value=r,this.bitCount=a}appendTo(i,r){i.appendBits(this.value,this.bitCount)}add(i,r){return new Bs(this,i,r)}addBinaryShift(i,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bs(this,i,r)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+k.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class hl extends Bs{constructor(i,r,a){super(i,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(i,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):a===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(i,r){return new hl(this,i,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function hg(E,i,r){return new hl(E,i,r)}function pr(E,i,r){return new Bs(E,i,r)}const dg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ki=0,So=1,Mn=2,mu=3,ti=4,gg=new Bs(null,0,0),dl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function pg(E){for(let i of E)V.fill(i,-1);return E[ki][ti]=0,E[So][ti]=0,E[So][ki]=28,E[mu][ti]=0,E[Mn][ti]=0,E[Mn][ki]=15,E}const bu=pg(V.createInt32Array(6,6));class ei{constructor(i,r,a,c){this.token=i,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,r){let a=this.bitCount,c=this.token;if(i!==this.mode){let h=dl[this.mode][i];c=pr(c,h&65535,h>>16),a+=h>>16}let u=i===Mn?4:5;return c=pr(c,r,u),new ei(c,i,0,a+u)}shiftAndAppend(i,r){let a=this.token,c=this.mode===Mn?4:5;return a=pr(a,bu[this.mode][i],c),a=pr(a,r,5),new ei(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let r=this.token,a=this.mode,c=this.bitCount;if(this.mode===ti||this.mode===Mn){let g=dl[a][ki];r=pr(r,g&65535,g>>16),c+=g>>16,a=ki}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new ei(r,a,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(i+1)),h}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=hg(r,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ei(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let r=this.bitCount+(dl[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?r+=ei.calculateBinaryShiftCost(i)-ei.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(r+=10),r<=i.bitCount}toBitArray(i){let r=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())r.unshift(c);let a=new G;for(const c of r)c.appendTo(a,i);return a}toString(){return Z.format("%s bits=%d bytes=%d",dg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ei.INITIAL_STATE=new ei(gg,ki,0,0);function xg(E){const i=Z.getCharCode(" "),r=Z.getCharCode("."),a=Z.getCharCode(",");E[ki][i]=1;const c=Z.getCharCode("Z"),u=Z.getCharCode("A");for(let v=u;v<=c;v++)E[ki][v]=v-u+2;E[So][i]=1;const h=Z.getCharCode("z"),g=Z.getCharCode("a");for(let v=g;v<=h;v++)E[So][v]=v-g+2;E[Mn][i]=1;const m=Z.getCharCode("9"),w=Z.getCharCode("0");for(let v=w;v<=m;v++)E[Mn][v]=v-w+2;E[Mn][a]=12,E[Mn][r]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<_.length;v++)E[mu][Z.getCharCode(_[v])]=v;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<I.length;v++)Z.getCharCode(I[v])>0&&(E[ti][Z.getCharCode(I[v])]=v);return E}const gl=xg(V.createInt32Array(5,256));class xr{constructor(i){this.text=i}encode(){const i=Z.getCharCode(" "),r=Z.getCharCode(`
`);let a=xu.singletonList(ei.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Z.getCharCode("\r"):h=g===r?2:0;break;case Z.getCharCode("."):h=g===i?3:0;break;case Z.getCharCode(","):h=g===i?4:0;break;case Z.getCharCode(":"):h=g===i?5:0;break;default:h=0}h>0?(a=xr.updateStateListForPair(a,u,h),u++):a=this.updateStateListForChar(a,u)}return xu.min(a,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,r){const a=[];for(let c of i)this.updateStateForChar(c,r,a);return xr.simplifyStates(a)}updateStateForChar(i,r,a){let c=this.text[r]&255,u=gl[i.getMode()][c]>0,h=null;for(let g=0;g<=ti;g++){let m=gl[g][c];if(m>0){if(h==null&&(h=i.endBinaryShift(r)),!u||g===i.getMode()||g===Mn){const w=h.latchAndAppend(g,m);a.push(w)}if(!u&&bu[i.getMode()][g]>=0){const w=h.shiftAndAppend(g,m);a.push(w)}}}if(i.getBinaryShiftByteCount()>0||gl[i.getMode()][c]===0){let g=i.addBinaryShiftChar(r);a.push(g)}}static updateStateListForPair(i,r,a){const c=[];for(let u of i)this.updateStateForPair(u,r,a,c);return this.simplifyStates(c)}static updateStateForPair(i,r,a,c){let u=i.endBinaryShift(r);if(c.push(u.latchAndAppend(ti,a)),i.getMode()!==ti&&c.push(u.shiftAndAppend(ti,a)),a===3||a===4){let h=u.latchAndAppend(Mn,16-a).latchAndAppend(Mn,1);c.push(h)}if(i.getBinaryShiftByteCount()>0){let h=i.addBinaryShiftChar(r).addBinaryShiftChar(r+1);c.push(h)}}static simplifyStates(i){let r=[];for(const a of i){let c=!0;for(const u of r){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(r=r.filter(h=>h!==u))}c&&r.push(a)}return r}}class Qt{constructor(){}static encodeBytes(i){return Qt.encode(i,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(i,r,a){let c=new xr(i).encode(),u=k.truncDivision(c.getSize()*r,100)+11,h=c.getSize()+u,g,m,w,_,I;if(a!==Qt.DEFAULT_AZTEC_LAYERS){if(g=a<0,m=Math.abs(a),m>(g?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new y(Z.format("Illegal value %s for layers",a));w=Qt.totalBitsInLayer(m,g),_=Qt.WORD_SIZE[m];let at=w-w%_;if(I=Qt.stuffBits(c,_),I.getSize()+u>at)throw new y("Data to large for user specified layer");if(g&&I.getSize()>_*64)throw new y("Data to large for user specified layer")}else{_=0,I=null;for(let at=0;;at++){if(at>Qt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(g=at<=3,m=g?at+1:at,w=Qt.totalBitsInLayer(m,g),h>w)continue;(I==null||_!==Qt.WORD_SIZE[m])&&(_=Qt.WORD_SIZE[m],I=Qt.stuffBits(c,_));let jt=w-w%_;if(!(g&&I.getSize()>_*64)&&I.getSize()+u<=jt)break}}let v=Qt.generateCheckWords(I,w,_),R=I.getSize()/_,P=Qt.generateModeMessage(g,m,R),L=(g?11:14)+m*4,z=new Int32Array(L),Q;if(g){Q=L;for(let at=0;at<z.length;at++)z[at]=at}else{Q=L+1+2*k.truncDivision(k.truncDivision(L,2)-1,15);let at=k.truncDivision(L,2),jt=k.truncDivision(Q,2);for(let Lt=0;Lt<at;Lt++){let bn=Lt+k.truncDivision(Lt,15);z[at-Lt-1]=jt-bn-1,z[at+Lt]=jt+bn+1}}let ct=new Rt(Q);for(let at=0,jt=0;at<m;at++){let Lt=(m-at)*4+(g?9:12);for(let bn=0;bn<Lt;bn++){let Wn=bn*2;for(let wn=0;wn<2;wn++)v.get(jt+Wn+wn)&&ct.set(z[at*2+wn],z[at*2+bn]),v.get(jt+Lt*2+Wn+wn)&&ct.set(z[at*2+bn],z[L-1-at*2-wn]),v.get(jt+Lt*4+Wn+wn)&&ct.set(z[L-1-at*2-wn],z[L-1-at*2-bn]),v.get(jt+Lt*6+Wn+wn)&&ct.set(z[L-1-at*2-bn],z[at*2+wn])}jt+=Lt*8}if(Qt.drawModeMessage(ct,g,Q,P),g)Qt.drawBullsEye(ct,k.truncDivision(Q,2),5);else{Qt.drawBullsEye(ct,k.truncDivision(Q,2),7);for(let at=0,jt=0;at<k.truncDivision(L,2)-1;at+=15,jt+=16)for(let Lt=k.truncDivision(Q,2)&1;Lt<Q;Lt+=2)ct.set(k.truncDivision(Q,2)-jt,Lt),ct.set(k.truncDivision(Q,2)+jt,Lt),ct.set(Lt,k.truncDivision(Q,2)-jt),ct.set(Lt,k.truncDivision(Q,2)+jt)}let ut=new pu;return ut.setCompact(g),ut.setSize(Q),ut.setLayers(m),ut.setCodeWords(R),ut.setMatrix(ct),ut}static drawBullsEye(i,r,a){for(let c=0;c<a;c+=2)for(let u=r-c;u<=r+c;u++)i.set(u,r-c),i.set(u,r+c),i.set(r-c,u),i.set(r+c,u);i.set(r-a,r-a),i.set(r-a+1,r-a),i.set(r-a,r-a+1),i.set(r+a,r-a),i.set(r+a,r-a+1),i.set(r+a,r+a-1)}static generateModeMessage(i,r,a){let c=new G;return i?(c.appendBits(r-1,2),c.appendBits(a-1,6),c=Qt.generateCheckWords(c,28,4)):(c.appendBits(r-1,5),c.appendBits(a-1,11),c=Qt.generateCheckWords(c,40,4)),c}static drawModeMessage(i,r,a,c){let u=k.truncDivision(a,2);if(r)for(let h=0;h<7;h++){let g=u-3+h;c.get(h)&&i.set(g,u-5),c.get(h+7)&&i.set(u+5,g),c.get(20-h)&&i.set(g,u+5),c.get(27-h)&&i.set(u-5,g)}else for(let h=0;h<10;h++){let g=u-5+h+k.truncDivision(h,5);c.get(h)&&i.set(g,u-7),c.get(h+10)&&i.set(u+7,g),c.get(29-h)&&i.set(g,u+7),c.get(39-h)&&i.set(u-7,g)}}static generateCheckWords(i,r,a){let c=i.getSize()/a,u=new cl(Qt.getGF(a)),h=k.truncDivision(r,a),g=Qt.bitsToWords(i,a,h);u.encode(g,h-c);let m=r%a,w=new G;w.appendBits(0,m);for(const _ of Array.from(g))w.appendBits(_,a);return w}static bitsToWords(i,r,a){let c=new Int32Array(a),u,h;for(u=0,h=i.getSize()/r;u<h;u++){let g=0;for(let m=0;m<r;m++)g|=i.get(u*r+m)?1<<r-m-1:0;c[u]=g}return c}static getGF(i){switch(i){case 4:return N.AZTEC_PARAM;case 6:return N.AZTEC_DATA_6;case 8:return N.AZTEC_DATA_8;case 10:return N.AZTEC_DATA_10;case 12:return N.AZTEC_DATA_12;default:throw new y("Unsupported word size "+i)}}static stuffBits(i,r){let a=new G,c=i.getSize(),u=(1<<r)-2;for(let h=0;h<c;h+=r){let g=0;for(let m=0;m<r;m++)(h+m>=c||i.get(h+m))&&(g|=1<<r-1-m);(g&u)===u?(a.appendBits(g&u,r),h--):g&u?a.appendBits(g,r):(a.appendBits(g|1,r),h--)}return a}static totalBitsInLayer(i,r){return((r?88:112)+16*i)*i}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class To{encode(i,r,a,c){return this.encodeWithHints(i,r,a,c,null)}encodeWithHints(i,r,a,c,u){let h=fl.ISO_8859_1,g=Qt.DEFAULT_EC_PERCENT,m=Qt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(He.CHARACTER_SET)&&(h=gu.forName(u.get(He.CHARACTER_SET).toString())),u.has(He.ERROR_CORRECTION)&&(g=k.parseInt(u.get(He.ERROR_CORRECTION).toString())),u.has(He.AZTEC_LAYERS)&&(m=k.parseInt(u.get(He.AZTEC_LAYERS).toString()))),To.encodeLayers(i,r,a,c,h,g,m)}static encodeLayers(i,r,a,c,u,h,g){if(r!==bt.AZTEC)throw new y("Can only encode AZTEC, but got "+r);let m=Qt.encode(Z.getBytes(i,u),h,g);return To.renderResult(m,a,c)}static renderResult(i,r,a){let c=i.getMatrix();if(c==null)throw new et;let u=c.getWidth(),h=c.getHeight(),g=Math.max(r,u),m=Math.max(a,h),w=Math.min(g/u,m/h),_=(g-u*w)/2,I=(m-h*w)/2,v=new Rt(g,m);for(let R=0,P=I;R<h;R++,P+=w)for(let L=0,z=_;L<u;L++,z+=w)c.get(L,R)&&v.setRegion(z,P,w,w);return v}}n.AbstractExpandedDecoder=$a,n.ArgumentException=b,n.ArithmeticException=M,n.AztecCode=pu,n.AztecCodeReader=ln,n.AztecCodeWriter=To,n.AztecDecoder=ot,n.AztecDetector=Ze,n.AztecDetectorResult=wt,n.AztecEncoder=Qt,n.AztecHighLevelEncoder=xr,n.AztecPoint=ie,n.BarcodeFormat=bt,n.Binarizer=S,n.BinaryBitmap=C,n.BitArray=G,n.BitMatrix=Rt,n.BitSource=il,n.BrowserAztecCodeReader=Tn,n.BrowserBarcodeReader=Y1,n.BrowserCodeReader=Le,n.BrowserDatamatrixCodeReader=Z1,n.BrowserMultiFormatReader=og,n.BrowserPDF417Reader=ag,n.BrowserQRCodeReader=lg,n.BrowserQRCodeSvgWriter=ss,n.CharacterSetECI=F,n.ChecksumException=A,n.Code128Reader=gt,n.Code39Reader=qt,n.DataMatrixDecodedBitStreamParser=Ni,n.DataMatrixReader=Mi,n.DecodeHintType=tt,n.DecoderResult=mt,n.DefaultGridSampler=ae,n.DetectorResult=vt,n.EAN13Reader=$i,n.EncodeHintType=He,n.Exception=x,n.FormatException=H,n.GenericGF=N,n.GenericGFPoly=Nt,n.GlobalHistogramBinarizer=Ct,n.GridSampler=Mt,n.GridSamplerInstance=Wt,n.HTMLCanvasElementLuminanceSource=Ee,n.HybridBinarizer=lt,n.ITFReader=Gt,n.IllegalArgumentException=y,n.IllegalStateException=et,n.InvertedLuminanceSource=ve,n.LuminanceSource=Ft,n.MathUtils=it,n.MultiFormatOneDReader=Ds,n.MultiFormatReader=du,n.MultiFormatWriter=ug,n.NotFoundException=X,n.OneDReader=ge,n.PDF417DecodedBitStreamParser=q,n.PDF417DecoderErrorCorrection=au,n.PDF417Reader=Qe,n.PDF417ResultMetadata=cu,n.PerspectiveTransform=Pt,n.PlanarYUVLuminanceSource=$n,n.QRCodeByteMatrix=vo,n.QRCodeDataMask=Rn,n.QRCodeDecodedBitStreamParser=Se,n.QRCodeDecoderErrorCorrectionLevel=pe,n.QRCodeDecoderFormatInformation=tn,n.QRCodeEncoder=ye,n.QRCodeEncoderQRCode=is,n.QRCodeMaskUtil=Oe,n.QRCodeMatrixUtil=Ot,n.QRCodeMode=St,n.QRCodeReader=Di,n.QRCodeVersion=It,n.QRCodeWriter=ks,n.RGBLuminanceSource=ul,n.RSS14Reader=Te,n.RSSExpandedReader=rt,n.ReaderException=Io,n.ReedSolomonDecoder=st,n.ReedSolomonEncoder=cl,n.ReedSolomonException=W,n.Result=ne,n.ResultMetadataType=dt,n.ResultPoint=K,n.StringUtils=Z,n.UnsupportedOperationException=pt,n.VideoInputDevice=We,n.WhiteRectangleDetector=At,n.WriterException=fe,n.ZXingArrays=V,n.ZXingCharset=gu,n.ZXingInteger=k,n.ZXingStandardCharsets=fl,n.ZXingStringBuilder=xt,n.ZXingStringEncoding=ht,n.ZXingSystem=O,n.createAbstractExpandedDecoder=ru,Object.defineProperty(n,"__esModule",{value:!0})})})(mc,mc.exports);var _e=mc.exports;const xC=pC(_e),mC=_g({__proto__:null,default:xC},[_e]);var id=function(){function t(e,n,s){if(this.formatMap=new Map([[_t.QR_CODE,_e.BarcodeFormat.QR_CODE],[_t.AZTEC,_e.BarcodeFormat.AZTEC],[_t.CODABAR,_e.BarcodeFormat.CODABAR],[_t.CODE_39,_e.BarcodeFormat.CODE_39],[_t.CODE_93,_e.BarcodeFormat.CODE_93],[_t.CODE_128,_e.BarcodeFormat.CODE_128],[_t.DATA_MATRIX,_e.BarcodeFormat.DATA_MATRIX],[_t.MAXICODE,_e.BarcodeFormat.MAXICODE],[_t.ITF,_e.BarcodeFormat.ITF],[_t.EAN_13,_e.BarcodeFormat.EAN_13],[_t.EAN_8,_e.BarcodeFormat.EAN_8],[_t.PDF_417,_e.BarcodeFormat.PDF_417],[_t.RSS_14,_e.BarcodeFormat.RSS_14],[_t.RSS_EXPANDED,_e.BarcodeFormat.RSS_EXPANDED],[_t.UPC_A,_e.BarcodeFormat.UPC_A],[_t.UPC_E,_e.BarcodeFormat.UPC_E],[_t.UPC_EAN_EXTENSION,_e.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mC)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var o=this.createZXingFormats(e),l=new Map;l.set(_e.DecodeHintType.POSSIBLE_FORMATS,o),l.set(_e.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(s,o){try{s(n.decode(e))}catch(l){o(l)}})},t.prototype.decode=function(e){var n=new _e.MultiFormatReader(this.verbose,this.hints),s=new _e.HTMLCanvasElementLuminanceSource(e),o=new _e.BinaryBitmap(new _e.HybridBinarizer(s)),l=n.decode(o);return{text:l.text,format:F1.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,s,o){e.set(n,s)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],s=0,o=e;s<o.length;s++){var l=o[s];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),bC=function(t,e,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function d(b){try{x(s.next(b))}catch(y){f(y)}}function p(b){try{x(s.throw(b))}catch(y){f(y)}}function x(b){b.done?l(b.value):o(b.value).then(d,p)}x((s=s.apply(t,e||[])).next())})},wC=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(b){return p([x,b])}}function p(x){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,o=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){n.label=x[1];break}if(x[0]===6&&n.label<l[1]){n.label=l[1],l=x;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(x);break}l[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},sd=function(){function t(e,n,s){if(this.formatMap=new Map([[_t.QR_CODE,"qr_code"],[_t.AZTEC,"aztec"],[_t.CODABAR,"codabar"],[_t.CODE_39,"code_39"],[_t.CODE_93,"code_93"],[_t.CODE_128,"code_128"],[_t.DATA_MATRIX,"data_matrix"],[_t.ITF,"itf"],[_t.EAN_13,"ean_13"],[_t.EAN_8,"ean_8"],[_t.PDF_417,"pdf417"],[_t.UPC_A,"upc_a"],[_t.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var o=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return bC(this,void 0,void 0,function(){var n,s;return wC(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:F1.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,s=0,o=0,l=e;o<l.length;o++){var f=l[o],d=f.boundingBox.width*f.boundingBox.height;d>s&&(s=d,n=f)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],s=0,o=e;s<o.length;s++){var l=o[s];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,s,o){e.set(n,s)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),rd=function(t,e,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function d(b){try{x(s.next(b))}catch(y){f(y)}}function p(b){try{x(s.throw(b))}catch(y){f(y)}}function x(b){b.done?l(b.value):o(b.value).then(d,p)}x((s=s.apply(t,e||[])).next())})},od=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(b){return p([x,b])}}function p(x){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,o=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){n.label=x[1];break}if(x[0]===6&&n.label<l[1]){n.label=l[1],l=x;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(x);break}l[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},yC=function(){function t(e,n,s,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&sd.isSupported()?(this.primaryDecoder=new sd(e,s,o),this.secondaryDecoder=new id(e,s,o)):this.primaryDecoder=new id(e,s,o)}return t.prototype.decodeAsync=function(e){return rd(this,void 0,void 0,function(){var n;return od(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return rd(this,void 0,void 0,function(){var n,s;return od(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,o.sent()];case 3:if(s=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,s=this.executionResults;n<s.length;n++){var o=s[n];e+=o}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),tu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Aa=function(t,e,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function d(b){try{x(s.next(b))}catch(y){f(y)}}function p(b){try{x(s.throw(b))}catch(y){f(y)}}function x(b){b.done?l(b.value):o(b.value).then(d,p)}x((s=s.apply(t,e||[])).next())})},Ea=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(b){return p([x,b])}}function p(x){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,o=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){n.label=x[1];break}if(x[0]===6&&n.label<l[1]){n.label=l[1],l=x;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(x);break}l[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},H1=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),_C=function(t){tu(e,t);function e(n,s){return t.call(this,n,s)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var s={};s[this.name]=n;var o={advanced:[s]};return this.track.applyConstraints(o)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(H1),CC=function(t){tu(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(_C),AC=function(t){tu(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(H1),EC=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new CC(this.track)},t.prototype.torchFeature=function(){return new AC(this.track)},t}(),IC=function(){function t(e,n,s){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=e.surface.clientWidth,o=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(s,o),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,s,o){return Aa(this,void 0,void 0,function(){var l,f;return Ea(this,function(d){switch(d.label){case 0:return l=new t(e,n,o),s.aspectRatio?(f={aspectRatio:s.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:d.sent(),d.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,s=function(){setTimeout(e,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Aa(this,void 0,void 0,function(){return Ea(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,s){var o=e.mediaStream.getVideoTracks(),l=o.length,f=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++f,f>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new EC(this.getFirstTrackOrFail())},t}(),vC=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,s){return Aa(this,void 0,void 0,function(){return Ea(this,function(o){return[2,IC.create(e,this.mediaStream,n,s)]})})},t.create=function(e){return Aa(this,void 0,void 0,function(){var n,s;return Ea(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=o.sent(),[2,new t(s)]}})})},t}(),ad=function(t,e,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function d(b){try{x(s.next(b))}catch(y){f(y)}}function p(b){try{x(s.throw(b))}catch(y){f(y)}}function x(b){b.done?l(b.value):o(b.value).then(d,p)}x((s=s.apply(t,e||[])).next())})},ld=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(b){return p([x,b])}}function p(x){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,o=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){n.label=x[1];break}if(x[0]===6&&n.label<l[1]){n.label=l[1],l=x;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(x);break}l[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},SC=function(){function t(){}return t.failIfNotSupported=function(){return ad(this,void 0,void 0,function(){return ld(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return ad(this,void 0,void 0,function(){return ld(this,function(n){return[2,vC.create(e)]})})},t}(),TC=function(t,e,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function d(b){try{x(s.next(b))}catch(y){f(y)}}function p(b){try{x(s.throw(b))}catch(y){f(y)}}function x(b){b.done?l(b.value):o(b.value).then(d,p)}x((s=s.apply(t,e||[])).next())})},OC=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(x){return function(b){return p([x,b])}}function p(x){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(n=0)),n;)try{if(s=1,o&&(l=x[0]&2?o.return:x[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,x[1])).done)return l;switch(o=0,l&&(x=[x[0]&2,l.value]),x[0]){case 0:case 1:l=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,o=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!l||x[1]>l[0]&&x[1]<l[3])){n.label=x[1];break}if(x[0]===6&&n.label<l[1]){n.label=l[1],l=x;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(x);break}l[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(b){x=[6,b],o=0}finally{s=l=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},RC=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Xs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Xs.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return TC(this,void 0,void 0,function(){var e,n,s,o,l,f,d;return OC(this,function(p){switch(p.label){case 0:return e=function(x){for(var b=x.getVideoTracks(),y=0,C=b;y<C.length;y++){var A=C[y];A.enabled=!1,A.stop(),x.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=p.sent(),o=[],l=0,f=s;l<f.length;l++)d=f[l],d.kind==="videoinput"&&o.push({id:d.deviceId,label:d.label});return e(n),[2,o]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var s=function(l){for(var f=[],d=0,p=l;d<p.length;d++){var x=p[d];x.kind==="video"&&f.push({id:x.id,label:x.label})}e(f)},o=MediaStreamTrack;o.getSources(s)})},t}(),Ne;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Ne||(Ne={}));var NC=function(){function t(){this.state=Ne.NOT_STARTED,this.onGoingTransactionNewState=Ne.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ne.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ne.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ne.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ne.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ne.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Ne.UNKNOWN:throw"Transition from unknown is not allowed";case Ne.NOT_STARTED:this.failIfNewStateIs(e,[Ne.PAUSED]);break;case Ne.SCANNING:break;case Ne.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var s=0,o=n;s<o.length;s++){var l=o[s];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),MC=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ne.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ne.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ne.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ne.PAUSED},t}(),DC=function(){function t(){}return t.create=function(){return new MC(new NC)},t}(),PC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),En=function(t){PC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(hC),kC=function(){function t(e,n){this.logger=n,this.fps=En.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=En.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?U1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!bi(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),BC=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new gC(this.verbose),this.qrcode=new yC(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=DC.create()}return t.prototype.start=function(e,n,s,o){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;o?f=o:f=this.verbose?this.logger.log:function(){};var d=kC.create(n,this.logger);this.clearElement();var p=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=p,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:En.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var y=this,C=this.stateManagerProxy.startTransition(Ne.SCANNING);return new Promise(function(A,S){var O=x?d.videoConstraints:y.createVideoConstraints(e);if(!O){C.cancel(),S("videoConstraints should be defined");return}var D={};(!x||d.aspectRatio)&&(D.aspectRatio=d.aspectRatio);var U={onRenderSurfaceReady:function(V,k){y.setupUi(V,k,d),y.isScanning=!0,y.foreverScan(d,s,f)}};SC.failIfNotSupported().then(function(V){V.create(O).then(function(k){return k.render(l.element,D,U).then(function(G){y.renderedCamera=G,C.execute(),A(null)}).catch(function(G){C.cancel(),S(G)})}).catch(function(k){C.cancel(),S(Xs.errorGettingUserMedia(k))})}).catch(function(V){C.cancel(),S(Xs.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ne.PAUSED),this.showPausedState(),(bi(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Ne.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ne.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(e.element){var l=document.getElementById(En.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),s(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(s){return s.decodedText})},t.prototype.scanFileV2=function(e,n){var s=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var d=f.width,p=f.height,x=document.getElementById(s.elementId),b=x.clientWidth?x.clientWidth:En.DEFAULT_WIDTH,y=Math.max(x.clientHeight?x.clientHeight:p,En.FILE_SCAN_MIN_HEIGHT),C=s.computeCanvasDrawConfig(d,p,b,y);if(n){var A=s.createCanvasElement(b,y,"qr-canvas-visible");A.style.display="inline-block",x.appendChild(A);var S=A.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=b,S.canvas.height=y,S.drawImage(f,0,0,d,p,C.x,C.y,C.width,C.height)}var O=En.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(f.width,C.width),U=Math.max(f.height,C.height),V=D+2*O,k=U+2*O,G=s.createCanvasElement(V,k);x.appendChild(G);var j=G.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=V,j.canvas.height=k,j.drawImage(f,0,0,d,p,O,O,D,U);try{s.qrcode.decodeRobustlyAsync(G).then(function(tt){o(nd.createFromQrcodeResult(tt))}).catch(l)}catch(tt){l("QR code parse error, error = ".concat(tt))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return RC.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!U1.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[_t.QR_CODE,_t.AZTEC,_t.CODABAR,_t.CODE_39,_t.CODE_93,_t.CODE_128,_t.DATA_MATRIX,_t.MAXICODE,_t.ITF,_t.EAN_13,_t.EAN_8,_t.PDF_417,_t.RSS_14,_t.RSS_EXPANDED,_t.UPC_A,_t.UPC_E,_t.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],o=0,l=e.formatsToSupport;o<l.length;o++){var f=l[o];fC(f)?s.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(bi(e))return!0;if(!bi(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(bi(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return bi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,s){var o=this,l=s.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(e,n,l),d=function(x){if(x<En.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(En.MIN_QR_BOX_SIZE,"px.")},p=function(x){return x>e&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};d(f.width),d(f.height),f.width=p(f.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(e,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return s},t.prototype.setupUi=function(e,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,s);var o=bi(s.qrbox)?{width:e,height:n}:s.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(e,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=s.isShadedBoxEnabled()&&l.height<=n,d={x:0,y:0,width:e,height:n},p=f?this.getShadedRegionBounds(e,n,l):d,x=this.createCanvasElement(p.width,p.height),b={willReadFrequently:!0},y=x.getContext("2d",b);y.canvas.width=p.width,y.canvas.height=p.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,e,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=y,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Xs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return e(o.text,nd.createFromQrcodeResult(o)),s.possiblyUpdateShaders(!0),!0}).catch(function(o){s.possiblyUpdateShaders(!1);var l=Xs.codeParseError(o);return n(l,dC.createFrom(l)),!1})},t.prototype.foreverScan=function(e,n,s){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,d=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*f,x=this.qrRegion.height*d,b=this.qrRegion.x*f,y=this.qrRegion.y*d;this.context.drawImage(l,b,y,p,x,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(e,n,s)},o.getTimeoutFps(e.fps))};this.scanContext(n,s).then(function(A){!A&&e.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,s).finally(function(){C()})):C()}).catch(function(A){o.logger.logError("Error happend while scanning context",A),C()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",s="deviceId",o={user:!0,environment:!0},l="exact",f=function(S){if(S in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var p=Object.keys(e)[0];if(p!==n&&p!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var x=e.facingMode;if(typeof x=="string"){if(f(x))return{facingMode:x}}else if(typeof x=="object")if(l in x){if(f(x["".concat(l)]))return{facingMode:{exact:x["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var b=typeof x;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var y=e.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(l in y)return{deviceId:{exact:y["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var C=typeof y;throw"Invalid type of 'deviceId' = ".concat(C)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,s,o){if(e<=s&&n<=o){var l=(s-e)/2,f=(o-n)/2;return{x:l,y:f,width:e,height:n}}else{var d=e,p=n;return e>s&&(n=s/e*n,e=s),n>o&&(e=o/n*e,n=o),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(p)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,s,o)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?En.BORDER_SHADER_MATCH_COLOR:En.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,s){var o=e,l=n,f=document.createElement("canvas");return f.style.width="".concat(o,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=bi(s)?"qr-canvas":s,f},t.prototype.getShadedRegionBounds=function(e,n,s){if(s.width>e||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},t.prototype.possiblyInsertShadingElement=function(e,n,s,o){if(!(n-o.width<1||s-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(n-o.width)/2,d=(s-o.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(En.SHADED_REGION_ELEMENT_ID),n-o.width<11||s-o.height<11)this.hasBorderShaders=!1;else{var p=5,x=40;this.insertShaderBorders(l,x,p,-p,null,0,!0),this.insertShaderBorders(l,x,p,-p,null,0,!1),this.insertShaderBorders(l,x,p,null,-p,0,!0),this.insertShaderBorders(l,x,p,null,-p,0,!1),this.insertShaderBorders(l,p,x+p,-p,null,-p,!0),this.insertShaderBorders(l,p,x+p,null,-p,-p,!0),this.insertShaderBorders(l,p,x+p,-p,null,-p,!1),this.insertShaderBorders(l,p,x+p,null,-p,-p,!1),this.hasBorderShaders=!0}e.append(l)}},t.prototype.insertShaderBorders=function(e,n,s,o,l,f,d){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=En.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(s,"px"),o!==null&&(p.style.top="".concat(o,"px")),l!==null&&(p.style.bottom="".concat(l,"px")),d?p.style.left="".concat(f,"px"):p.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),e.appendChild(p)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),cd;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(cd||(cd={}));const LC={class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black"},FC={key:0,class:"absolute p-4 text-white bg-red-800 rounded-lg bottom-20"},UC={__name:"BarcodeScanner",emits:["close","scanned"],setup(t,{emit:e}){const n=e,s=Me(null);let o=null;const l=Me("");return xo(()=>{if(!s.value)return;o=new BC(s.value.id);const f={fps:10,qrbox:{width:280,height:150}},d=(p,x)=>{o.stop().then(()=>{n("scanned",p),n("close")}).catch(b=>{console.error("",b),n("scanned",p),n("close")})};o.start({facingMode:"environment"},f,d,p=>{}).catch(p=>{l.value=`${p.message}`,console.error("",p)})}),Fa(()=>{o&&o.isScanning&&o.stop().catch(f=>console.error("",f))}),(f,d)=>(Kt(),te("div",LC,[B("div",{id:"barcode-scanner-view",ref_key:"scannerRef",ref:s,class:"w-full h-full"},null,512),l.value?(Kt(),te("div",FC,Bt(l.value),1)):fn("",!0),B("button",{onClick:d[0]||(d[0]=p=>f.$emit("close")),class:"absolute btn btn-circle top-4 right-4"},"  "),d[1]||(d[1]=B("div",{class:"absolute inset-0 flex items-center justify-center pointer-events-none"},[B("div",{class:"w-[280px] h-[150px] border-4 border-dashed border-green-500 rounded-lg opacity-50 shadow-lg"})],-1))]))}},HC={class:"min-h-screen p-4 pb-20 bg-gray-900 max-w-xl mx-auto"},VC={role:"tablist",class:"p-1 mb-6 bg-gray-800 tabs tabs-boxed"},WC={key:1},GC={key:0,class:"relative mt-4 overflow-hidden border border-gray-700 shadow-lg rounded-xl"},zC=["src"],jC={key:1,class:"mt-6"},XC=["disabled"],YC={key:0,class:"loading loading-spinner loading-sm"},KC={key:2,class:"space-y-4"},ZC=["disabled"],qC={key:0,class:"loading loading-spinner loading-sm"},QC={key:3,class:"space-y-4"},JC={class:"form-control"},$C={class:"flex gap-2"},tA=["disabled"],eA={key:0,class:"loading loading-spinner loading-sm"},nA={key:4,class:"p-4 mt-4 text-sm text-red-200 border border-red-500 bg-red-900/50 rounded-xl"},iA={key:5,class:"mt-6 animate-fade-in-up"},sA={class:"overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl rounded-xl"},rA={class:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-700/50"},oA={class:"text-xl font-bold text-white"},aA={class:"grid grid-cols-2 gap-4 p-6"},lA={class:"col-span-2 p-4 text-center border border-gray-600 rounded-lg bg-gray-900/50"},cA={class:"text-3xl font-black text-green-400"},uA={class:"p-3 text-center rounded-lg bg-gray-900/30"},fA={class:"text-lg font-bold text-blue-400"},hA={class:"p-3 text-center rounded-lg bg-gray-900/30"},dA={class:"text-lg font-bold text-orange-400"},gA={class:"col-span-2 p-3 text-center rounded-lg bg-gray-900/30"},pA={class:"text-lg font-bold text-red-400"},xA={class:"px-6 pb-6"},mA={class:"flex gap-3 p-3 border rounded-lg bg-blue-900/20 border-blue-500/30"},bA={class:"text-sm italic text-blue-200"},wA={class:"flex gap-3 p-4 bg-gray-900"},yA={__name:"ScanPage",setup(t){const e=Lc(),n=ja(),s=ar(),o=Me("camera"),l=Me(null),f=Me(!1),d=Me(""),p=Me(null),x=Me(null),b=Me(""),y=Me(""),C=Me(!1),A=V=>{l.value=V,p.value=null,d.value="",x.value&&URL.revokeObjectURL(x.value),x.value=URL.createObjectURL(V)},S=async()=>{if(!s.settings.apiKey){alert(" API Key"),n.push("/settings");return}f.value=!0,d.value="";try{let V=null;if(o.value==="camera"){if(!l.value)return;V=await oC(l.value,s.settings.apiKey)}else if(o.value==="text"){if(!b.value)return;V=await aC(b.value,s.settings.apiKey)}else if(o.value==="barcode"){if(!y.value)return;V=await lC(y.value)}p.value=V}catch(V){d.value=V.message||" Key"}finally{f.value=!1}},O=async()=>{C.value=!0},D=V=>{y.value=V,C.value=!1,S()},U=()=>{p.value&&(e.addLog(p.value),s.completeQuest("scan"),s.addXP(10),n.push("/"))};return(V,k)=>(Kt(),te("div",HC,[C.value?(Kt(),Mc(UC,{key:0,onClose:k[0]||(k[0]=G=>C.value=!1),onScanned:D})):fn("",!0),k[16]||(k[16]=B("header",{class:"mb-6"},[B("h1",{class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500"},"  "),B("p",{class:"text-sm text-gray-400"}," AI ")],-1)),B("div",VC,[B("a",{role:"tab",class:Gn(["transition-all tab",{"tab-active bg-green-600 text-white":o.value==="camera"}]),onClick:k[1]||(k[1]=G=>{o.value="camera",p.value=null})}," ",2),B("a",{role:"tab",class:Gn(["transition-all tab",{"tab-active bg-blue-600 text-white":o.value==="text"}]),onClick:k[2]||(k[2]=G=>{o.value="text",p.value=null})}," ",2),B("a",{role:"tab",class:Gn(["transition-all tab",{"tab-active bg-purple-600 text-white":o.value==="barcode"}]),onClick:k[3]||(k[3]=G=>{o.value="barcode",p.value=null})}," ",2)]),o.value==="camera"&&!p.value?(Kt(),te("div",WC,[Fe(uC,{onImageSelected:A}),x.value?(Kt(),te("div",GC,[B("img",{src:x.value,class:"object-cover w-full h-64",alt:"Food Preview"},null,8,zC)])):fn("",!0),l.value?(Kt(),te("div",jC,[B("button",{onClick:S,disabled:f.value,class:"btn-action bg-gradient-to-r from-green-500 to-blue-600"},[f.value?(Kt(),te("span",YC)):fn("",!0),Ur(" "+Bt(f.value?"AI ...":""),1)],8,XC)])):fn("",!0)])):fn("",!0),o.value==="text"&&!p.value?(Kt(),te("div",KC,[oi(B("textarea",{"onUpdate:modelValue":k[4]||(k[4]=G=>b.value=G),class:"w-full h-40 text-lg bg-gray-800 textarea textarea-bordered",placeholder:"..."},null,512),[[ms,b.value]]),B("button",{onClick:S,disabled:!b.value||f.value,class:"btn-action bg-gradient-to-r from-blue-500 to-purple-600"},[f.value?(Kt(),te("span",qC)):fn("",!0),Ur(" "+Bt(f.value?"AI ...":""),1)],8,ZC)])):fn("",!0),o.value==="barcode"&&!p.value?(Kt(),te("div",QC,[B("div",JC,[k[7]||(k[7]=B("label",{class:"label"},[B("span",{class:"text-gray-400 label-text"}," (EAN/UPC)")],-1)),B("div",$C,[oi(B("input",{"onUpdate:modelValue":k[5]||(k[5]=G=>y.value=G),type:"number",placeholder:": 4710018183204",class:"flex-1 bg-gray-800 input input-bordered"},null,512),[[ms,y.value]]),B("button",{onClick:O,class:"border-gray-600 btn btn-square btn-outline"},"  ")])]),B("button",{onClick:S,disabled:!y.value||f.value,class:"btn-action bg-gradient-to-r from-purple-500 to-pink-600"},[f.value?(Kt(),te("span",eA)):fn("",!0),Ur(" "+Bt(f.value?"...":""),1)],8,tA),k[8]||(k[8]=B("p",{class:"mt-4 text-xs text-center text-gray-500"},": OpenFoodFacts",-1))])):fn("",!0),d.value?(Kt(),te("div",nA,"  "+Bt(d.value),1)):fn("",!0),p.value?(Kt(),te("div",iA,[B("div",sA,[B("div",rA,[B("h2",oA,Bt(p.value.food_name),1),k[9]||(k[9]=B("span",{class:"px-3 py-1 text-xs font-bold text-yellow-300 border rounded-full bg-yellow-500/20 border-yellow-500/30"}," +20 XP ",-1))]),B("div",aA,[B("div",lA,[k[10]||(k[10]=B("span",{class:"block text-xs tracking-wider text-gray-400 uppercase"}," (Calories)",-1)),B("span",cA,Bt(p.value.calories),1),k[11]||(k[11]=B("span",{class:"ml-1 text-sm text-gray-500"},"kcal",-1))]),B("div",uA,[k[12]||(k[12]=B("span",{class:"block text-xs text-gray-500"},"",-1)),B("span",fA,Bt(p.value.protein)+"g",1)]),B("div",hA,[k[13]||(k[13]=B("span",{class:"block text-xs text-gray-500"},"",-1)),B("span",dA,Bt(p.value.carbs)+"g",1)]),B("div",gA,[k[14]||(k[14]=B("span",{class:"block text-xs text-gray-500"},"",-1)),B("span",pA,Bt(p.value.fat)+"g",1)])]),B("div",xA,[B("div",mA,[k[15]||(k[15]=B("span",{class:"text-xl"},"",-1)),B("p",bA,' "'+Bt(p.value.advice)+'" ',1)])]),B("div",wA,[B("button",{onClick:k[6]||(k[6]=G=>p.value=null),class:"flex-1 py-3 text-gray-300 border border-gray-600 rounded-lg hover:bg-gray-800"},"  "),B("button",{onClick:U,class:"w-2/3 py-3 font-bold text-white bg-green-600 rounded-lg shadow-lg flex-2 hover:bg-green-500"},"  XP ")])])])):fn("",!0)]))}},_A=kc(yA,[["__scopeId","data-v-64c12ca7"]]),CA={class:"flex flex-col items-center justify-center min-h-screen p-6 text-white bg-gray-900"},AA={class:"w-full max-w-md p-8 bg-gray-800 border border-gray-700 shadow-2xl rounded-xl"},EA={class:"p-4 bg-gray-900 border rounded-lg border-yellow-600/50"},IA={class:"grid grid-cols-2 gap-4"},vA={class:"grid grid-cols-2 gap-4"},SA={__name:"LoginSettings",setup(t){const e=ja(),n=ar(),s=Me({name:n.profile.name,apiKey:n.settings.apiKey,height:n.profile.height,weight:n.profile.weight,gender:n.profile.gender,age:n.profile.age,goal:n.profile.goal,activityLevel:n.profile.activityLevel}),o=()=>{if(!s.value.apiKey.startsWith("AIza")){alert(" Google Gemini API Key");return}n.updateProfile({name:s.value.name,height:s.value.height,weight:s.value.weight,gender:s.value.gender,age:s.value.age,goal:s.value.goal,activityLevel:s.value.activityLevel}),n.setApiKey(s.value.apiKey),alert(""),e.push("/")};return(l,f)=>(Kt(),te("div",CA,[B("div",AA,[f[21]||(f[21]=B("h1",{class:"mb-2 text-3xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500"},"  ",-1)),f[22]||(f[22]=B("p",{class:"mb-8 text-sm text-center text-gray-400"},"  API  ",-1)),B("form",{onSubmit:Yx(o,["prevent"]),class:"space-y-4"},[B("div",EA,[f[8]||(f[8]=B("label",{class:"block mb-2 text-sm font-bold text-yellow-500"},"Gemini API Key",-1)),oi(B("input",{"onUpdate:modelValue":f[0]||(f[0]=d=>s.value.apiKey=d),type:"password",required:"",placeholder:"AIza...",class:"w-full p-3 text-white bg-gray-800 border border-gray-600 rounded-lg outline-none focus:border-yellow-500"},null,512),[[ms,s.value.apiKey]]),f[9]||(f[9]=B("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",class:"block mt-1 text-xs text-blue-400"}," Key ",-1))]),B("div",null,[f[10]||(f[10]=B("label",{class:"text-gray-300 label"},"",-1)),oi(B("input",{"onUpdate:modelValue":f[1]||(f[1]=d=>s.value.name=d),type:"text",required:"",class:"w-full bg-gray-900 input input-bordered"},null,512),[[ms,s.value.name]])]),B("div",IA,[B("div",null,[f[11]||(f[11]=B("label",{class:"text-gray-300 label"}," (cm)",-1)),oi(B("input",{"onUpdate:modelValue":f[2]||(f[2]=d=>s.value.height=d),type:"number",required:"",class:"w-full bg-gray-900 input input-bordered"},null,512),[[ms,s.value.height]])]),B("div",null,[f[12]||(f[12]=B("label",{class:"text-gray-300 label"}," (kg)",-1)),oi(B("input",{"onUpdate:modelValue":f[3]||(f[3]=d=>s.value.weight=d),type:"number",required:"",class:"w-full bg-gray-900 input input-bordered"},null,512),[[ms,s.value.weight]])])]),B("div",vA,[B("div",null,[f[14]||(f[14]=B("label",{class:"text-gray-300 label"},"",-1)),oi(B("select",{"onUpdate:modelValue":f[4]||(f[4]=d=>s.value.gender=d),class:"w-full text-base bg-gray-900 select select-bordered"},[...f[13]||(f[13]=[B("option",{value:"male"},"",-1),B("option",{value:"female"},"",-1)])],512),[[vl,s.value.gender]])]),B("div",null,[f[15]||(f[15]=B("label",{class:"text-gray-300 label"},"",-1)),oi(B("input",{"onUpdate:modelValue":f[5]||(f[5]=d=>s.value.age=d),type:"number",required:"",class:"w-full bg-gray-900 input input-bordered"},null,512),[[ms,s.value.age]])])]),B("div",null,[f[17]||(f[17]=B("label",{class:"text-gray-300 label"},"",-1)),oi(B("select",{"onUpdate:modelValue":f[6]||(f[6]=d=>s.value.activityLevel=d),class:"w-full text-base bg-gray-900 select select-bordered"},[...f[16]||(f[16]=[B("option",{value:1.2}," ()",-1),B("option",{value:1.375}," ( 1-3 )",-1),B("option",{value:1.55}," ( 3-5 )",-1),B("option",{value:1.725}," ( 6-7 )",-1),B("option",{value:1.9}," (/)",-1)])],512),[[vl,s.value.activityLevel]])]),B("div",null,[f[19]||(f[19]=B("label",{class:"text-gray-300 label"},"",-1)),oi(B("select",{"onUpdate:modelValue":f[7]||(f[7]=d=>s.value.goal=d),class:"w-full text-base bg-gray-900 select select-bordered"},[...f[18]||(f[18]=[B("option",{value:"maintain"},"",-1),B("option",{value:"cut"}," (Cut)",-1),B("option",{value:"bulk"}," (Bulk)",-1)])],512),[[vl,s.value.goal]])]),f[20]||(f[20]=B("button",{type:"submit",class:"w-full mt-6 text-lg text-white border-none btn btn-primary bg-gradient-to-r from-green-500 to-blue-600"},"  ",-1))],32)])]))}},TA={class:"max-w-xl min-h-screen p-6 pb-24 mx-auto text-white bg-gray-900"},OA={class:"flex items-center gap-4 mb-8"},RA={key:0,class:"flex flex-col items-center justify-center mt-20 text-gray-500"},NA={key:1,class:"space-y-4"},MA=["onClick"],DA={class:"flex items-start justify-between mb-2"},PA={class:"text-lg font-bold text-white"},kA={class:"text-xs text-gray-400"},BA={class:"mr-8 text-right"},LA={class:"text-2xl font-black text-green-400"},FA={class:"flex gap-2 mt-3 text-xs"},UA={class:"px-2 py-1 text-blue-300 rounded bg-blue-900/30"},HA={class:"px-2 py-1 text-orange-300 rounded bg-orange-900/30"},VA={class:"px-2 py-1 text-red-300 rounded bg-red-900/30"},WA={class:"pl-2 mt-3 text-xs italic text-gray-500 border-l-2 border-gray-600"},GA={__name:"DiaryLog",setup(t){const e=ja(),n=Lc(),s=l=>new Date(l).toLocaleString("zh-TW",{timeZone:"Asia/Taipei",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=l=>{confirm("")&&n.removeLog(l)};return(l,f)=>(Kt(),te("div",TA,[B("header",OA,[B("button",{onClick:f[0]||(f[0]=d=>me(e).back()),class:"btn btn-circle btn-ghost btn-sm"},[...f[1]||(f[1]=[B("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[B("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),f[2]||(f[2]=B("h1",{class:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500"},"  ",-1))]),me(n).recentLogs.length===0?(Kt(),te("div",RA,[...f[3]||(f[3]=[B("div",{class:"mb-4 text-6xl"},"",-1),B("p",null,"...",-1),B("p",{class:"text-sm"},"",-1)])])):(Kt(),te("div",NA,[(Kt(!0),te(kn,null,e0(me(n).recentLogs,d=>(Kt(),te("div",{key:d.id,class:"relative p-4 transition-all border border-gray-700 shadow-lg bg-gray-800/80 rounded-xl hover:bg-gray-800"},[B("button",{onClick:p=>o(d.id),class:"absolute text-gray-600 top-3 right-3 hover:text-red-400"},[...f[4]||(f[4]=[B("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[B("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,MA),B("div",DA,[B("div",null,[B("h3",PA,Bt(d.food_name),1),B("span",kA,Bt(s(d.timestamp)),1)]),B("div",BA,[B("span",LA,Bt(d.calories),1),f[5]||(f[5]=B("span",{class:"text-xs text-gray-500"}," kcal",-1))])]),B("div",FA,[B("span",UA," "+Bt(d.protein)+"g",1),B("span",HA," "+Bt(d.carbs)+"g",1),B("span",VA," "+Bt(d.fat)+"g",1)]),B("p",WA,'"'+Bt(d.advice)+'"',1)]))),128))]))]))}},V1=_m({history:$2("/"),routes:[{path:"/",name:"home",component:O3},{path:"/scan",name:"scan",component:_A},{path:"/settings",name:"settings",component:SA},{path:"/log",name:"log",component:GA}]});V1.beforeEach((t,e,n)=>{const s=ar();t.name!=="settings"&&!s.isLoggedIn?n({name:"settings"}):n()});const eu=qx(p2),W1=$x();W1.use(f2);eu.use(W1);eu.use(V1);eu.mount("#app");
